{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/MatrixView/MatrixView.vue?c099","webpack:///./src/components/RelationView/RelationView.vue?98ea","webpack:///./src/App.vue?23e6","webpack:///./src/service/pipeService.js","webpack:///./src/components/VideoView/VideoView.html","webpack:///./src/service/globalConfig.js","webpack:///./src/components/VideoView/drawVideo.js","webpack:///./src/components/VideoView/VideoView.js","webpack:///./src/components/VideoView/VideoView.js?9c90","webpack:///./src/components/VideoView/VideoView.vue?c05a","webpack:///./src/components/MatrixView/MatrixView.html","webpack:///./src/service/dataService.js","webpack:///./src/components/MatrixView/drawMatrix.js","webpack:///./src/components/MatrixView/MatrixView.js","webpack:///./src/components/MatrixView/MatrixView.js?d491","webpack:///./src/components/MatrixView/MatrixView.vue?fd67","webpack:///./src/components/DynamicView/DynamicView.html","webpack:///./src/components/DynamicView/drawDynamic.js","webpack:///./src/components/DynamicView/DynamicView.js","webpack:///./src/components/DynamicView/DynamicView.js?8405","webpack:///./src/components/DynamicView/DynamicView.vue?bc0b","webpack:///./src/components/RelationView/RelationView.html","webpack:///./src/vendor/tsne.js","webpack:///./src/components/RelationView/drawRelation.js","webpack:///./src/components/RelationView/RelationView.js","webpack:///./src/components/RelationView/RelationView.js?e3db","webpack:///./src/components/RelationView/RelationView.vue?96a8","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/DynamicView/DynamicView.vue?8a65","webpack:///./src/components/VideoView/VideoView.vue?4bf2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","_m","staticClass","videoId","videoData","videoList","staticRenderFns","_v","pipeService","Vue","COLLECTION2VIDEO","SELECTVIDEO","VISIONDATA","AUDIODATA","TEXTDATA","FRAMETIME","FRAMESELECTEDFROMVIDEO","FRAMESELECTEDFROMTIMEBAR","FRAMESELECTEDFROMANIMATION","FRAMEBRUSH","GESTUREPHASE","SEEKFROMPHASE","REVIEWERNAME","GESTUREPARAMETER","SELECTEDPHASE","SELECTEDSENTENCE","UPDATETIMEFRAME","UPDATETIMERANGE","SEARCHSENTENCE","UPDATETEXTLIST","UPDATEMOVEMENTDATA","CLICKFROMTEXTLIST","UPDATETIMELINEMARKER","UPDATEDYNAMICMOVEMENT","TEXTSHOWGESTURE","MATCHWORD","HIGHLIGHTTEXT","HIGHLIGHTWORD","SHOWSTOPWORD","RUNCLUSTER","SORTMODE","HIGHLIGHTGLYPH","TIMEFILTER","NUMFILTER","LEGENDFILTER","HIGHLIGHTPOINT","ANIMATIONFRAMEFROMVIDEO","PLAYVIDEOFROMSLIDER","VIDEOFRAMEFROMSLIDER","methods","emitCollection2Video","msg","$emit","onCollection2Video","callback","$on","emitSelectVideo","onSelectVideo","emitVisionData","onVisionData","emitAudioData","onAudioData","emitTextData","onTextData","emitFrameTime","onFrameTime","emitFrameSelectedFromVideo","onFrameSelectedFromVideo","emitFrameSelectedFromTimeBar","onFrameSelectedFromTimeBar","emitFrameBrush","onFrameBrush","emitGesturePhase","onGesturePhase","emitSeekFromPhase","onSeekFromPhase","emitReviewerName","onReviewerName","emitGestureParameter","onGestureParameter","emitSelectedPhase","onSelectedPhase","emitSelectedSentence","onSelectedSentence","emitUpdateTimeFrame","onUpdateTimeFrame","emitUpdateTimeRange","onUpdateTimeRange","emitSearchSentence","onSearchSentence","emitUpdateTextList","onUpdateTextList","emitUpdateMovementData","onUpdateMovementData","emitClickFromTextlist","onClickFromTextlist","emitUpdateTimelineMarker","onUpdateTimelineMarker","emitUpdateDynamicMovement","onUpdateDynamicMovement","emitTextShowGesture","onTextShowGesture","emitMatchWord","onMatchWord","emitHighlightText","onHighlightText","emitHighlightWord","onHighlightWord","emitStopWord","onStopWord","emitRunCluster","onRunCluster","emitSortMode","onSortMode","emitHighlightGlyph","onHighlightGlyph","emitTimeFilter","onTimeFilter","emitNumFilter","onNumFilter","emitLegendFilter","onLegendFilter","emitHighlightPoint","onHighlightPoint","emitFrameSelectedFromAnimation","onFrameSelectedFromAnimation","emitAnimationFrameFromVideo","onAnimationFrameFromVideo","emitPlayVideoFromSlider","onPlayVideoFromSlider","emitVideoFrameFromSlider","onVideoFrameFromSlider","directives","rawName","expression","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","selectedVideo","multiple","ReviewerNameFlag","ref","skeletonInit","width","height","points","centerPoint","halfLengthCenter","Math","abs","halfLengthCenterCenter","halfLengthPeriphery","gestureSpace","centerCenter","left","top","center","periphery","extremePeriphery","BODY25Pairs","UPBODYPairs","handPairs","POSColor","PhraseColor","PhraseMapping","PhraseMappingReverse","gestureTypeColor","leftHandColor","rightHandColor","fileConfig","DrawVideo","id","svgWidth","$","svgHeight","refreshIntervalId","refreshAnimation","formatTime","d3","timeFormat","formatMinutes","Date","setupVideo","screenshotList","screenshotIdx","_this","video","output","scale","initialize","select","append","style","click","captureImage","img","Image","crossOrigin","dataURL","canvas","document","createElement","videoWidth","videoHeight","getContext","drawImage","toDataURL","src","imageContainer","attr","imgId","split","myPlayer","currentTime","parentNode","remove","curTime","curTimeToLabeledFrame","curFrame","frameIdxList","arrayIdx","text","matchWord","textData","parseFloat","videojs","controls","autoplay","preload","language","playbackRates","inactivityTimeout","phase","startTime","seekTimeList","endTime","pause","play","timeRange","info","frameSelection","bisect","bisector","seekTime","ready","clearInterval","updateDrawingLabelPoses","removeDrawingLabelPoses","setInterval","toFixed","paused","seekFrame","updateVideo","url","onLoadedMetadata","duration","type","readyState","one","layout","visionData","videoInfo","poseData","faceData","selectAll","fps","containerRatio","videoRatio","videoScreenWidth","videoScreenHeight","xOffset","yOffset","margin","right","bottom","svg","graphContainer","labeledFrameIndex","rectBdHighlightClr","rectBdNormalClr","rectBdWarningClr","sampleInterval","range","undefined","frameInfo","console","log","enter","person","x","y","each","drawRect","keys","framePoseInfo","toString","peoplePose","bodyPointNum","handPointNum","personBodyPoints","personLeftHandPoints","personRightHandPoints","bodyPoints","leftHandPoints","rightHandPoints","bodyPointPairData","globalConfig","pair","leftHandPointPairData","rightHandPointPairData","w","h","components","props","String","videoUrlList","frameIdx","watch","videoUrl","drawVideo","mounted","component","gestureToggled","GET_REQUEST","POST_REQUEST","dataServerUrl","process","DATA_SERVER_URL","request","params","func","axios","post","then","response","status","error","catch","initialization","audioData","interval","sliding_speed","saveGesturePhaseData","gesturePhaseData","savePhaseLabelData","phaseLabelData","clusterData","savePhaseData","phaseData","saveData","category","runClusterData","clusterNum","runPhraseClusterData","wordPhraseData","DrawMatrix","showGesture","heatmapWidthRatio","heatmapWidth","gestureSpaceRatio","heatmapHeight","nonHeatmapWidth","nonHeatmapHeight","matrixWidth","min","matrixHeight","heatmapMargin","heatmapContainer","heatmapDivContainer","matrixMargin","matrixContainer","matrixDivContainer","matrixDivContainerHeader","searchDiv","thresholdDiv","html","matrixDivContainerContent","textContainer","timelineOneWidth","timelineOneHeight","timelineOneMargin","timelineOneContainer","timelineTwoWidth","timelineTwoHeight","timelineTwoMargin","timelineTwoContainer","ceil","totalFrameNum","sentenceData","genSentenceData","gestureSpaceData","stdXYJointMax","Infinity","stdXYJointMin","changeDistanceMax","changeDistanceMin","selectedFrameIdx","axisTimeRange","parseInt","stdXYJointScale","scaleLinear","domain","changeDistanceScale","clamp","movementData","drawSkeleton","drawHeatmap","drawTimelineOne","drawTimelineTwo","drawTranscript","frameRangeSelections","drawTextList","selectedSentenceInfo","frameRange","frameRangeSelection","selectedTimeRangeStartTime","selectedTimeRangeEndTime","onePhase","oneframeRange","selectedPhase","highlightWordIndexList","wordIdx","querySelectorAll","forEach","el","display","container","containerWidth","containerHeight","xScale","gestureSpaceXScale","yScale","gestureSpaceYScale","gestureSpaceContainer","gestureArea","skeletonContainer","heatmapData","getHeatMapData","heatmapInstance","h337","config","setData","selectedPoseDataList","heatmapDataDict","frameItem","leftHandIndex","round","rightHandIndex","max","pointIndex","pointItem","point","querySelector","radius","maxOpacity","minOpacity","blur","clickAreaHeight","markAreaHeight","markSize","timelineOneXScale","leftHandLine","line","defined","curve","curveMonotoneX","rightHandLine","datum","xAxis","axisTop","tickFormat","tickValues","xPosition","frameLineOne","brush","brushX","extent","brushed","event","sourceEvent","selectionBisect","selection","invert","floor","clickArea","mouse","_arrayIdx","markArea","selectedTimeRanges","markData","drawTimelineOneMarker","transition","move","areaMarkHeight","areaMarkContainer","areaClickContainer","symbolGenerator","symbol","size","symbolTriangle","start","end","clickAreaWidth","markAreaWidth","timelineTwoYScale","curveMonotoneY","yAxis","axisLeft","yPosition","frameLineTwo","brushY","drawTimelineTwoMarker","areaMarkWidth","textListSelection","gesturePhaseSentenceData","selectedSentence","phaseStartTime","phaseEndTime","sentenceStartTime","sentenceEndTime","concat","sentenceWordHighlightList","sentenceWordHighlightDict","wordIndexList","wordIndexDict","sentence","wordItem","wordStartTime","wordEndTime","wordDuration","textListWidth","splitArea","_","areaList","handleActionAreaMouseClick","handleTextAreaMouseClick","idx","getElementsByClassName","classList","contains","add","drawText","wordDiv","drawEachWord","word","polarity","stickmanGraphWidth","stickmanGraphHeight","drawStickman","jointData","wordWidth","stickmanSvgWidth","stickmanSvgHeight","stickmanDiv","insert","wordStartFrame","wordEndFrame","stickmanSvg","stickmanMargin","stickmanGraph","oneStickmanContainer","drawOneStickman","jointPoints","initializeScrollPosition","highlightWordIdx","firstHighlightWordOffsetLeft","node","offsetLeft","scrollLeft","wordData","oneSentence","custom","dragTarget","sentenceSelected","wordStartIdx","wordEndIdx","brushStart","classAttr","brushStop","targetElement","textAreaList","Number","isInteger","startSearch","oncontextmenu","onselectstart","variationThreshold","stdXYJointThreshold","stdXYJoint","outerWidth","changePointGraph","curChangeDistance","leftPoints","nextChangeDistance","rightPoints","averageJoint","matchButton","getElementById","startMatch","inputWord","toLowerCase","matchWordList","curWord","addEventListener","genStickmanData","jointXScale","pose_keypoints","jointFrameData","k","jointPosition","filterJointData","averageStdXY","jointX","jointY","averageJointX","averageJointY","varXY","pow","stdXY","sqrt","gestureA","gestureB","changeDistance","gestureDistance","distance","stickmanData","dataService","feedback","containerId","drawMatrix","DrawDynamic","sliderHeight","sliderContainer","sampleRatio","timer","drawGestureSpace","handle","sliderXScale","label","highlightMovement","drawMovementAnimation","drawMovement","initGestureWidth","initGestureHeight","offsetMargin","shiftDist","spaceContainer","movementContainer","getMovementData","oneMovementContainer","highlightContainer","pointIdx","curLeftHandPoints","curRightHandPoints","buttonWidth","buttonHeight","rectButton","rectLabel","moving","buttonGap","sliderWidth","slider","update","currentFrame","appendChild","cloneNode","drag","interrupt","currentValue","jointScale","currentPoint","jointYScale","selectedFrameIdxList","rightHand","leftHand","sliding","dynamicType","drawDynamic","timeData","timeMax","model","$$v","timeFilter","numMax","numFilter","tsnejs","REVISION","global","assert","condition","message","getopt","opt","field","defaultval","return_v","v_val","gaussRandom","u","random","v","randn","mu","std","zeros","isNaN","ArrayBuffer","arr","Float64Array","randn2d","uses","xhere","L2","x1","x2","D","x1i","x2i","xtod","X","N","dist","d2p","perplexity","tol","Nf","Htarget","P","prow","betamin","betamax","beta","done","maxtries","num","psum","pj","exp","Hhere","Pout","N2","sign","tSNE","dim","epsilon","iter","initDataRaw","dists","initSolution","initDataDist","Y","gains","ystep","getSolution","step","cg","costGrad","cost","grad","ymean","gid","sid","gainid","newgain","momval","newsid","debugGrad","e","yold","cg0","cg1","analytic","numerical","pmul","Qu","qsum","dsum","dhere","qu","NN","Q","q","gsum","premult","DrawRelation","upperWidth","upperHeight","upperZoomedTransform","betweenHeight","lowerWidth","lowerHeight","upperContainer","lowerContainer","linksContainer","linkPointData","drawPhraseLegend","linkVertical","legendFilter","lassoFlag","textRefreshFlag","gestureRefreshFlag","upperZoom","lowerZoom","bookmarkContainer","bookmarkData","curGestureClusterData","updateBookmark","displayType","wordPhrase","getWordPhraseDataResult","positionInfo","getWordPhraseData","calculatePosition","textXScale","textYScale","textRScale","textXScaleZoom","textYScaleZoom","textNewZoomXScale","textNewZoomYScale","gestureXScale","gestureYScale","gestureSpaceScale","gestureXScaleZoom","gestureYScaleZoom","gestureNewZoomXScale","gestureNewZoomYScale","distanceChangeScale","drawCluster","timeRangeList","transform","zoomIdentity","legendWidth","legendHeight","legendSvg","phraseColorList","gestureTypeList","maxTimeRangeNum","phraseIdx","phraseType","phraseTypeItem","phraseTmp","phraseText","vector","wordText","phraseTmpItem","curTimeRange","textPositionInfo","calculateTextPosition","distanceChangeInfo","calculateAverageJoint","gesturePositionInfo","calculateGesturePosition","tsne","xMax","xMin","yMax","yMin","rMax","rMin","position","timeRangeNum","maxChange","minChange","phraseItem","phraseJointData","timeRangeJointData","startFrame","endFrame","curGesture","tmpCurGesture","curTimeRangeJointData","curAverageJoint","gestureType","curAverageJointData","curDistanceChange","change","mapping_idx_2_phraseIdx","mapping_idx","timeRangeAverageJoint","tmpVector","clusterPhraseData","totalTime","timeStart","timeEnd","numStart","numEnd","phraseTimeStart","phraseTimeEnd","phraseNum","drawTextCluster","drawGestureCluster","lassoData","drawLasso","pointContainer","textPosition","displayThreshold","voronoi","cells","polygons","upperZoomed","rescaleX","rescaleY","scaleThreshold","opacityScale","drawLinks","polygonArea","isEmptyObject","zoom","scaleExtent","gestureClusterData","lowerZoomed","drawGlyph","glyphData","glyphContainer","pageX","pageY","preventDefault","gestureChangeTmp","gestureChange","interpolateValue","interpolateNumber","angleScale","PI","area","areaRadial","angle","innerRadius","outerRadius","oneStickmanData","filterClusterWordIdxList","clusterWordIdxList","circles","lasso_start","lasso","items","classed","lasso_draw","possibleItems","notPossibleItems","lasso_end","selectedItems","notSelectedItems","phraseIdxDict","selectedLassoData","d3Lasso","closePathSelect","closePathDistance","targetArea","sourceTargetData","gesturePositionList","source","gesture","leftShoulder","rightShoulder","handDistance","hypot","shoulderDistance","rows","columnData","columnWidth","gestureSvgHeight","gestureSvgWidth","gestureWidth","gestureHeight","gestureMargin","gestureData","VueSlider","timeMarks","numMarks","drawRelation","VideoView","MatrixView","DynamicView","RelationView","$nextTick","use","ToggleButton","productionTip","render","App","$mount"],"mappings":"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","file":"js/app.40b5f52c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixView.vue?vue&type=style&index=0&id=c4132750&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixView.vue?vue&type=style&index=0&id=c4132750&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationView.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationView.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"1400px\"},attrs:{\"id\":\"app\"}},[_vm._m(0),_c('div',{staticClass:\"container-fluid\",staticStyle:{\"padding-left\":\"5px\",\"padding-right\":\"5px\"}},[_c('div',{staticClass:\"row\",staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"10px\"}},[_c('div',{staticClass:\"col-3 content\",staticStyle:{\"padding-left\":\"3px\",\"padding-right\":\"3px\"}},[_c('RelationView',{attrs:{\"videoId\":_vm.videoId,\"videoData\":_vm.videoData}})],1),_c('div',{staticClass:\"col-6 content\",staticStyle:{\"padding-left\":\"3px\",\"padding-right\":\"3px\"}},[_c('MatrixView',{attrs:{\"videoId\":_vm.videoId,\"videoData\":_vm.videoData}})],1),_c('div',{staticClass:\"col-3 content\",staticStyle:{\"padding-left\":\"3px\",\"padding-right\":\"3px\"}},[_c('VideoView',{attrs:{\"videoList\":_vm.videoList,\"videoId\":_vm.videoId,\"videoData\":_vm.videoData}}),_c('DynamicView',{attrs:{\"videoId\":_vm.videoId,\"videoData\":_vm.videoData}})],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar sticky-top navbar-dark bg-dark\",staticStyle:{\"padding-top\":\"1px\",\"padding-bottom\":\"1px\",\"margin-bottom\":\"5px\"}},[_c('div',{staticStyle:{\"margin-top\":\"5px\",\"margin-left\":\"15px\"}},[_c('span',{staticStyle:{\"color\":\"white\",\"font-size\":\"1.25rem\",\"font-weight\":\"500\",\"user-select\":\"none\"}},[_vm._v(\"GestureLens: Visual Analysis of Gesture in Presentation Videos\")])])])}]\n\nexport { render, staticRenderFns }","import Vue from 'vue'\n\nvar pipeService = new Vue({\n    data: {\n        COLLECTION2VIDEO: 'collection_2_video',\n        SELECTVIDEO: 'select_video',\n        VISIONDATA: 'vision_data',\n        AUDIODATA: 'audio_data',\n        TEXTDATA: 'text_data',\n        FRAMETIME: 'frame_time',\n        FRAMESELECTEDFROMVIDEO: 'frame_selected_from_video',\n        FRAMESELECTEDFROMTIMEBAR: 'frame_selected_from_timebar',\n        FRAMESELECTEDFROMANIMATION: 'frame_selected_from_animation',\n        FRAMEBRUSH: 'frame_brush',\n        GESTUREPHASE: 'gesture_phase',\n        SEEKFROMPHASE: 'seek_from_phase',\n        REVIEWERNAME: 'reviewer_name',\n        GESTUREPARAMETER: 'gesture_parameter',\n        SELECTEDPHASE: 'selected_phase',\n        SELECTEDSENTENCE: 'selected_sentence',\n        UPDATETIMEFRAME: 'update_time_frame',\n        UPDATETIMERANGE: 'update_time_range',\n        SEARCHSENTENCE: 'search_sentence',\n        UPDATETEXTLIST: 'update_text_list',\n        UPDATEMOVEMENTDATA: 'update_movement_data',\n        CLICKFROMTEXTLIST: 'click_from_textlist',\n        UPDATETIMELINEMARKER: 'update_timeline_marker',\n        UPDATEDYNAMICMOVEMENT: 'update_dynamic_movement',\n        TEXTSHOWGESTURE: 'text_show_gesture',\n        MATCHWORD: 'match_word',\n        HIGHLIGHTTEXT: 'highlight_text',\n        HIGHLIGHTWORD: 'highlight_word',\n        SHOWSTOPWORD: 'show_stop_word',\n        RUNCLUSTER: 'run_cluster',\n        SORTMODE: 'sort_mode',\n        HIGHLIGHTGLYPH: 'highlight_glyph',\n        TIMEFILTER: 'time_filter',\n        NUMFILTER: 'num_filter',\n        LEGENDFILTER: 'legend_filter',\n        HIGHLIGHTPOINT: 'highlight_point',\n        ANIMATIONFRAMEFROMVIDEO: 'animation_frame_from_video',\n        PLAYVIDEOFROMSLIDER: 'play_video_from_slider',\n        VIDEOFRAMEFROMSLIDER: 'video_frame_from_slider'\n    },\n    methods: {\n        emitCollection2Video: function (msg) {\n            this.$emit(this.COLLECTION2VIDEO, msg)\n        },\n        onCollection2Video: function (callback) {\n            this.$on(this.COLLECTION2VIDEO, function (msg) {\n                callback(msg)\n            })\n        },\n        emitSelectVideo: function (msg) {\n            this.$emit(this.SELECTVIDEO, msg)\n        },\n        onSelectVideo: function (callback) {\n            this.$on(this.SELECTVIDEO, function (msg) {\n                callback(msg)\n            })\n        },\n        emitVisionData: function (msg) {\n            this.$emit(this.VISIONDATA, msg)\n        },\n        onVisionData: function (callback) {\n            this.$on(this.VISIONDATA, function (msg) {\n                callback(msg)\n            })\n        },\n        emitAudioData: function (msg) {\n            this.$emit(this.AUDIODATA, msg)\n        },\n        onAudioData: function (callback) {\n            this.$on(this.AUDIODATA, function (msg) {\n                callback(msg)\n            })\n        },\n        emitTextData: function (msg) {\n            this.$emit(this.TEXTDATA, msg)\n        },\n        onTextData: function (callback) {\n            this.$on(this.TEXTDATA, function (msg) {\n                callback(msg)\n            })\n        },\n        emitFrameTime: function (msg) {\n            this.$emit(this.FRAMETIME, msg)\n        },\n        onFrameTime: function (callback) {\n            this.$on(this.FRAMETIME, function (msg) {\n                callback(msg)\n            })\n        },\n        emitFrameSelectedFromVideo: function (msg) {\n            this.$emit(this.FRAMESELECTEDFROMVIDEO, msg)\n        },\n        onFrameSelectedFromVideo: function (callback) {\n            this.$on(this.FRAMESELECTEDFROMVIDEO, function (msg) {\n                callback(msg)\n            })\n        },\n        emitFrameSelectedFromTimeBar: function (msg) {\n            this.$emit(this.FRAMESELECTEDFROMTIMEBAR, msg)\n        },\n        onFrameSelectedFromTimeBar: function (callback) {\n            this.$on(this.FRAMESELECTEDFROMTIMEBAR, function (msg) {\n                callback(msg)\n            })\n        },\n        emitFrameBrush: function (msg) {\n            this.$emit(this.FRAMEBRUSH, msg)\n        },\n        onFrameBrush: function (callback) {\n            this.$on(this.FRAMEBRUSH, function (msg) {\n                callback(msg)\n            })\n        },\n        emitGesturePhase: function (msg) {\n            this.$emit(this.GESTUREPHASE, msg)\n        },\n        onGesturePhase: function (callback) {\n            this.$on(this.GESTUREPHASE, function (msg) {\n                callback(msg)\n            })\n        },\n        emitSeekFromPhase: function (msg) {\n            this.$emit(this.SEEKFROMPHASE, msg)\n        },\n        onSeekFromPhase: function (callback) {\n            this.$on(this.SEEKFROMPHASE, function (msg) {\n                callback(msg)\n            })\n        },\n        emitReviewerName: function (msg) {\n            this.$emit(this.REVIEWERNAME, msg)\n        },\n        onReviewerName: function (callback) {\n            this.$on(this.REVIEWERNAME, function (msg) {\n                callback(msg)\n            })\n        },\n        emitGestureParameter: function (msg) {\n            this.$emit(this.GESTUREPARAMETER, msg)\n        },\n        onGestureParameter: function (callback) {\n            this.$on(this.GESTUREPARAMETER, function (msg) {\n                callback(msg)\n            })\n        },\n        emitSelectedPhase: function (msg) {\n            this.$emit(this.SELECTEDPHASE, msg)\n        },\n        onSelectedPhase: function (callback) {\n            this.$on(this.SELECTEDPHASE, function (msg) {\n                callback(msg)\n            })\n        },\n        emitSelectedSentence: function (msg) {\n            this.$emit(this.SELECTEDSENTENCE, msg)\n        },\n        onSelectedSentence: function (callback) {\n            this.$on(this.SELECTEDSENTENCE, function (msg) {\n                callback(msg)\n            })\n        },\n        emitUpdateTimeFrame: function (msg) {\n            this.$emit(this.UPDATETIMEFRAME, msg)\n        },\n        onUpdateTimeFrame: function (callback) {\n            this.$on(this.UPDATETIMEFRAME, function (msg) {\n                callback(msg)\n            })\n        },\n        emitUpdateTimeRange: function (msg) {\n            this.$emit(this.UPDATETIMERANGE, msg)\n        },\n        onUpdateTimeRange: function (callback) {\n            this.$on(this.UPDATETIMERANGE, function (msg) {\n                callback(msg)\n            })\n        },\n        emitSearchSentence: function (msg) {\n            this.$emit(this.SEARCHSENTENCE, msg)\n        },\n        onSearchSentence: function (callback) {\n            this.$on(this.SEARCHSENTENCE, function (msg) {\n                callback(msg)\n            })\n        },\n        emitUpdateTextList: function (msg) {\n            this.$emit(this.UPDATETEXTLIST, msg)\n        },\n        onUpdateTextList: function (callback) {\n            this.$on(this.UPDATETEXTLIST, function (msg) {\n                callback(msg)\n            })\n        },\n        emitUpdateMovementData: function (msg) {\n            this.$emit(this.UPDATEMOVEMENTDATA, msg)\n        },\n        onUpdateMovementData: function (callback) {\n            this.$on(this.UPDATEMOVEMENTDATA, function (msg) {\n                callback(msg)\n            })\n        },\n        emitClickFromTextlist: function (msg) {\n            this.$emit(this.CLICKFROMTEXTLIST, msg)\n        },\n        onClickFromTextlist: function (callback) {\n            this.$on(this.CLICKFROMTEXTLIST, function (msg) {\n                callback(msg)\n            })\n        },\n        emitUpdateTimelineMarker: function (msg) {\n            this.$emit(this.UPDATETIMELINEMARKER, msg)\n        },\n        onUpdateTimelineMarker: function (callback) {\n            this.$on(this.UPDATETIMELINEMARKER, function (msg) {\n                callback(msg)\n            })\n        },\n        emitUpdateDynamicMovement: function (msg) {\n            this.$emit(this.UPDATEDYNAMICMOVEMENT, msg)\n        },\n        onUpdateDynamicMovement: function (callback) {\n            this.$on(this.UPDATEDYNAMICMOVEMENT, function (msg) {\n                callback(msg)\n            })\n        },\n        emitTextShowGesture: function (msg) {\n            this.$emit(this.TEXTSHOWGESTURE, msg)\n        },\n        onTextShowGesture: function (callback) {\n            this.$on(this.TEXTSHOWGESTURE, function (msg) {\n                callback(msg)\n            })\n        },\n        emitMatchWord: function (msg) {\n            this.$emit(this.MATCHWORD, msg)\n        },\n        onMatchWord: function (callback) {\n            this.$on(this.MATCHWORD, function (msg) {\n                callback(msg)\n            })\n        },\n        emitHighlightText: function (msg) {\n            this.$emit(this.HIGHLIGHTTEXT, msg)\n        },\n        onHighlightText: function (callback) {\n            this.$on(this.HIGHLIGHTTEXT, function (msg) {\n                callback(msg)\n            })\n        },\n        emitHighlightWord: function (msg) {\n            this.$emit(this.HIGHLIGHTWORD, msg)\n        },\n        onHighlightWord: function (callback) {\n            this.$on(this.HIGHLIGHTWORD, function (msg) {\n                callback(msg)\n            })\n        },\n        emitStopWord: function (msg) {\n            this.$emit(this.SHOWSTOPWORD, msg)\n        },\n        onStopWord: function (callback) {\n            this.$on(this.SHOWSTOPWORD, function (msg) {\n                callback(msg)\n            })\n        },\n        emitRunCluster: function (msg) {\n            this.$emit(this.RUNCLUSTER, msg)\n        },\n        onRunCluster: function (callback) {\n            this.$on(this.RUNCLUSTER, function (msg) {\n                callback(msg)\n            })\n        },\n        emitSortMode: function (msg) {\n            this.$emit(this.SORTMODE, msg)\n        },\n        onSortMode: function (callback) {\n            this.$on(this.SORTMODE, function (msg) {\n                callback(msg)\n            })\n        },\n        emitHighlightGlyph: function (msg) {\n            this.$emit(this.HIGHLIGHTGLYPH, msg)\n        },\n        onHighlightGlyph: function (callback) {\n            this.$on(this.HIGHLIGHTGLYPH, function (msg) {\n                callback(msg)\n            })\n        },\n        emitTimeFilter: function (msg) {\n            this.$emit(this.TIMEFILTER, msg)\n        },\n        onTimeFilter: function (callback) {\n            this.$on(this.TIMEFILTER, function (msg) {\n                callback(msg)\n            })\n        },\n        emitNumFilter: function (msg) {\n            this.$emit(this.NUMFILTER, msg)\n        },\n        onNumFilter: function (callback) {\n            this.$on(this.NUMFILTER, function (msg) {\n                callback(msg)\n            })\n        },\n        emitLegendFilter: function (msg) {\n            this.$emit(this.LEGENDFILTER, msg)\n        },\n        onLegendFilter: function (callback) {\n            this.$on(this.LEGENDFILTER, function (msg) {\n                callback(msg)\n            })\n        },\n        emitHighlightPoint: function (msg) {\n            this.$emit(this.HIGHLIGHTPOINT, msg)\n        },\n        onHighlightPoint: function (callback) {\n            this.$on(this.HIGHLIGHTPOINT, function (msg) {\n                callback(msg)\n            })\n        },\n        emitFrameSelectedFromAnimation: function (msg) {\n            this.$emit(this.FRAMESELECTEDFROMANIMATION, msg)\n        },\n        onFrameSelectedFromAnimation: function (callback) {\n            this.$on(this.FRAMESELECTEDFROMANIMATION, function (msg) {\n                callback(msg)\n            })\n        },\n        emitAnimationFrameFromVideo: function (msg) {\n            this.$emit(this.ANIMATIONFRAMEFROMVIDEO, msg)\n        },\n        onAnimationFrameFromVideo: function (callback) {\n            this.$on(this.ANIMATIONFRAMEFROMVIDEO, function (msg) {\n                callback(msg)\n            })\n        },\n        emitPlayVideoFromSlider: function (msg) {\n            this.$emit(this.PLAYVIDEOFROMSLIDER, msg)\n        },\n        onPlayVideoFromSlider: function (callback) {\n            this.$on(this.PLAYVIDEOFROMSLIDER, function (msg) {\n                callback(msg)\n            })\n        },\n        emitVideoFrameFromSlider: function (msg) {\n            this.$emit(this.VIDEOFRAMEFROMSLIDER, msg)\n        },\n        onVideoFrameFromSlider: function (callback) {\n            this.$on(this.VIDEOFRAMEFROMSLIDER, function (msg) {\n                callback(msg)\n            })\n        }\n    }\n})\n\nexport default pipeService\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"videoview\"}},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._m(0),_c('div',{staticStyle:{\"float\":\"right\",\"margin-right\":\"5px\"}},[_c('span',{staticStyle:{\"user-select\":\"none\"}},[_vm._v(\"Video: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedVideo),expression:\"selectedVideo\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedVideo=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"select\")]),_c('option',{attrs:{\"disabled\":!_vm.ReviewerNameFlag,\"value\":\"demoVideo\"}},[_vm._v(\"Video 1\")])])]),_vm._m(1)]),_c('div',{staticClass:\"card-block\",attrs:{\"id\":\"videoPlayerContainer\"}},[_c('div',{staticStyle:{\"height\":\"318px\"}},[_c('video',{ref:\"videoView\",staticClass:\"video-js vjs-big-play-centered\",attrs:{\"id\":\"my-player\",\"crossorigin\":\"anonymous\",\"width\":\"333.5px\",\"height\":\"188px\"}}),_c('div',{attrs:{\"id\":\"labelsContainer\"}})]),_c('div',{attrs:{\"id\":\"videoScreenshot\"}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"20px\",\"margin-top\":\"3px\"}},[_c('h6',{staticStyle:{\"display\":\"inline\",\"user-select\":\"none\"}},[_vm._v(\"Video View\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"}},[_c('button',{attrs:{\"id\":\"cameraButton\"}},[_c('span',{staticClass:\"fa fa-camera\"})])])}]\n\nexport { render, staticRenderFns }","// this file set the global configurations for the whole system\n\nlet skeletonInit = {\n    width: 730,\n    height: 1446,\n    points: {\n        '0': [381.6, 116.0],\n        '1': [388.5, 310.0],\n        '2': [250.0, 307.7],\n        '3': [176.0, 508.7],\n        '4': [92.9, 681.9],\n        '5': [524.8, 307.7],\n        '6': [578.5, 513.4],\n        '7': [616.7, 716.7],\n        '8': [377.5, 711.9],\n        '9': [286.6, 702.3],\n        '10': [277.0, 1001.4],\n        '11': [248.3, 1295.6],\n        '12': [461.2, 716.7],\n        '13': [468.4, 1008.6],\n        '14': [475.6, 1302.8],\n        '15': [348.8, 87.54],\n        '16': [401.4, 87.5],\n        '17': [317.7, 125.8],\n        '18': [444.5, 128.2],\n        '19': [509.1, 1386.5],\n        '20': [540.2, 1365.0],\n        '21': [454.1, 1329.1],\n        '22': [217.2, 1391.3],\n        '23': [188.5, 1372.2],\n        '24': [272.2, 1314.8]\n    }\n}\n\nlet centerPoint = [(skeletonInit.points[1][0]+skeletonInit.points[8][0])/2, (skeletonInit.points[1][1]+skeletonInit.points[8][1])/2]\nlet halfLengthCenter = Math.abs(skeletonInit.points[8][1] - skeletonInit.points[1][1]) / 2\nlet halfLengthCenterCenter = halfLengthCenter/2\nlet halfLengthPeriphery = Math.abs(centerPoint[1]-skeletonInit.points[0][1])\n\nlet gestureSpace = {\n    centerCenter: {\n        left: centerPoint[0]-halfLengthCenterCenter, \n        top: centerPoint[1]-halfLengthCenterCenter, \n        width: 2*halfLengthCenterCenter, \n        height: 2*halfLengthCenterCenter\n    },\n    center: {\n        left: centerPoint[0]-halfLengthCenter, \n        top: centerPoint[1]-halfLengthCenter, \n        width: 2*halfLengthCenter, \n        height: 2*halfLengthCenter\n    },\n    periphery: {\n        left: centerPoint[0]-halfLengthPeriphery, \n        top: centerPoint[1]-halfLengthPeriphery, \n        width: 2*halfLengthPeriphery, \n        height: 2*halfLengthPeriphery\n    },\n    extremePeriphery: {\n        left: centerPoint[0]-halfLengthPeriphery-150, \n        top: centerPoint[1]-halfLengthPeriphery-150, \n        width: 2*halfLengthPeriphery+300,\n        height: 2*halfLengthPeriphery+300,\n    },\n}\n\nlet BODY25Pairs = [\n    [0, 1], [0, 15], [0, 16], [15, 17], [16, 18],\n    [1, 2], [2, 3], [3, 4], [1, 5], [5, 6], [6, 7], [1, 8],\n    [8, 9], [9, 10], [10, 11], [11, 22], [11, 24], [22, 23],\n    [8, 12], [12, 13], [13, 14], [14, 21], [14, 19], [19, 20],\n]\n\nlet UPBODYPairs = [\n    [0, 1], [1, 2], [1, 5], [2, 3], [3, 4], [5, 6], [6, 7]\n]\n\nlet handPairs = [\n    [0, 1], [1, 2], [2, 3], [3, 4],\n    [0, 5], [5, 6], [6, 7], [7, 8],\n    [0, 9], [9, 10], [10, 11], [11, 12],\n    [0, 13], [13, 14], [14, 15], [15, 16],\n    [0, 17], [17, 18], [18, 19], [19, 20]\n]\n\n\nlet POSColor = {\n    'VERB': '#359F2C',\n    'NOUN': '#2178B4',\n    'PRON': '#B25928',\n    'ADJ': '#FB9A99',\n    'ADV': '#E41A1C',\n    'ADP': '#6B3D9A',\n    'CONJ': '#FF7F02',\n    'DET': '#CAB2D7',\n    // 'NUM': '#FFFF99',\n    'NUM': '#FFDE09',\n    'PRT': '#A6CFE3',\n    'X': '#B3DF8A',\n    '.': '#FDC06F'\n}\n\nlet PhraseColor = {\n    'NP': '#FCB4AF',\n    'PP': '#CCEBC6',\n    'VP': '#FEDAA6',\n    'SVO': '#DECBE5',\n\n    'EN': '#b3cde3',\n    'ADJ': '#9ecae1'\n}\n\n// let PhraseColor = {\n//     'NP': '#FEDAA6',\n//     'PP': '#BEBADA',\n//     'VP': '#FCCDE5',\n//     'SVO': '#8ED3C7',\n// }\n\n// let PhraseColor = {\n//     'NP': '#EEC1C7',\n//     'PP': '#FFF07C',\n//     'VP': '#40E0D0',\n//     'SVO': '#BAA051',\n// }\n\nlet PhraseMapping = {\n    'noun_phrases': 'NP',\n    'entities': 'EN',\n    'prepositional_phrases': 'PP',\n    'subject_verb_object': 'SVO',\n    'verb_phrases': 'VP',\n    'adj_tokens': 'ADJ'\n\n}\n\nlet PhraseMappingReverse = {\n    'NP': 'noun_phrases',\n    'EN': 'entities',\n    'PP': 'prepositional_phrases',\n    'SVO': 'subject_verb_object',\n    'VP': 'verb_phrases',\n    'ADJ': 'adj_tokens'\n}\n\n\nlet gestureTypeColor = {\n    'open': '#fb8072',\n    'closed': '#80b1d3',\n    'others': '#b9b9b9'\n}\n\n// let gestureTypeColor = {\n//     'open': '#FFE6E3',\n//     'closed': '#E6F0F6',\n//     'others': '#F1F1F1'\n// }\n\n\n\nlet leftHandColor = '#f1a340'\nlet rightHandColor = '#998ec3'\n\n\nlet videoId = 'bob_inglis_american_bipartisan_politics_can_be_saved_here_s_how'\n// let videoId = 'bobby_ghosh_why_global_jihad_is_losing'\nlet fileConfig = {\n    'videoId': videoId,\n    'projectionFileName': `${videoId}-haipeng-0.3-10-20`\n}\n\nexport default {\n    skeletonInit,\n    centerPoint,\n    gestureSpace,\n    BODY25Pairs,\n    UPBODYPairs,\n    handPairs,\n    POSColor,\n    PhraseColor,\n    PhraseMapping,\n    PhraseMappingReverse,\n    gestureTypeColor,\n    leftHandColor,\n    rightHandColor,\n    fileConfig\n}\n\n\n// function emotion2Color(color) {\n//     return emotionColor[emotionMapping[color]]\n// }","/* global d3 $ */\nimport videojs from 'video.js'\nimport pipeService from '../../service/pipeService.js'\nimport globalConfig from '../../service/globalConfig.js'\n// import dataService from '../../service/dataService.js'\n\nlet DrawVideo = function (id) {\n    this.svgWidth = $(id).width()\n    this.svgHeight = $(id).height()\n\n    this.refreshIntervalId = -1\n    this.refreshAnimation = -1\n    let formatTime = d3.timeFormat('%M:%S')\n    this.formatMinutes = function(d) { return formatTime(new Date(2017, 0, 1, 0, 0, d)) }\n\n    this.setupVideo('my-player')\n\n    // d3.select('#cameraButton').on('click', function() {\n    //     console.log('screenshot: ')\n    // })\n\n    this.screenshotList = []\n    this.screenshotIdx = 0\n    const _this = this\n\n    let video = ''\n    let output = ''\n    var scale = 0.2\n    let initialize = function() {\n        output = d3.select(\"#videoScreenshot\")\n            .append('div')\n            .style('width', '333px')\n            .style('height', '114px')\n            .style('overflow', 'scroll')\n            .style('float', 'left')\n            .style('white-space', 'nowrap')\n            // .style('overflow-x', 'scroll')\n            // .style('overflow-y', 'hidden')\n\n        video = $(\"#my-player_html5_api\").get(0)\n        $(\"#cameraButton\").click(captureImage)\n    }\n\n    let captureImage = function() {\n        // console.log('captureImage:')\n    \n        let img = new Image()\n        // img.crossOrigin = \"anonymous\";\n        img.crossOrigin = '*'\n        let dataURL = ''\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = video.videoWidth * scale;\n        canvas.height = video.videoHeight * scale;\n        canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);\n        dataURL = canvas.toDataURL('image/jpeg');\n        img.src = dataURL\n        // console.log('dataURL: ', dataURL)\n        // output.prepend(img)\n\n        let imageContainer = output.append('div')\n            .attr('id', 'screenshot-'+_this.screenshotIdx)\n            .attr('class', 'imageContainer')\n            // .style('width', canvas.width+'px')\n            // .style('height', canvas.height+'px')\n            .style('margin', '15px 5px 10px 5px')\n            .style('position', 'relative')\n            .style('display', 'inline-block')\n        \n        imageContainer.append('img')\n            .attr('id', 'img-'+_this.screenshotIdx)\n            .style('width', video.videoWidth*0.08+'px')\n            .style('height', video.videoHeight*0.08+'px')\n            .attr('src', dataURL)\n            .on('click', function () {\n                // console.log('d3.select(this): ', d3.select(this))\n                // console.log('d3.select(this), img: ', d3.select(this)['_groups'][0])\n                // console.log('d3.select(this), img[0]: ', d3.select(this)['_groups'][0][0])\n                let imgId = d3.select(this)['_groups'][0][0]['id']\n                let screenshotIdx = imgId.split('-')[1]\n                // console.log('screenshotIdx: ', screenshotIdx)\n                // console.log('_this.screenshotList: ', _this.screenshotList)\n\n                for (let i=0; i<_this.screenshotList.length; i++) {\n                    if (_this.screenshotList[i]['idx'] == screenshotIdx) {\n                        _this.myPlayer.currentTime(_this.screenshotList[i]['curTime'])\n                    }\n                }\n            })\n\n        imageContainer.append('img')\n            .attr('id', 'delete-'+_this.screenshotIdx)\n            // .attr('src', `${dataService.dataServerUrl}/deleteImage`)\n            .attr('src', `/image/delete.png`)\n            .attr('width', 20)\n            .attr('height', 20)\n            .style('position', 'absolute')\n            .style('right', '-5px')\n            .style('top', '-5px')\n            .style('opacity', 0.0)\n            .style('pointer-events', 'all')\n            .on('mouseover', function () {\n                // console.log('d3.select(this):',  d3.select(this))\n                d3.select(this).style('opacity', 1.0)\n            })\n            .on('mouseout', function () {\n                // console.log('d3.select(this):',  d3.select(this))\n                d3.select(this).style('opacity', 0)\n            })\n            .on('click', function() {\n                d3.select(this.parentNode).remove()\n                d3.select(this).remove()\n            })\n\n        let curTime = _this.myPlayer.currentTime()\n        _this.curTimeToLabeledFrame(curTime)\n        let curFrame = _this.frameIdxList[_this.arrayIdx]\n\n        _this.screenshotList.push({'dataURL': dataURL, 'idx': _this.screenshotIdx, 'frame': curFrame, 'curTime': curTime})\n        _this.screenshotIdx += 1\n        \n        imageContainer.append('text')\n            .style('position', 'absolute')\n            .style('left', '38px')\n            .style('bottom', '-20px')\n            .style('font-size', '12px')\n            .style('text-anchor', 'middle')\n            .text(_this.formatMinutes(curTime))\n\n        let matchWord = ''\n        // console.log('curTime: ', curTime)\n        for (let i=0; i<_this.textData.length; i++) {\n            // console.log('_this.textData[i][word]: ', _this.textData[i]['word'])\n            if (_this.textData[i]['type'] == 'punctuation') {\n                continue\n            }\n            if (curTime<parseFloat(_this.textData[i]['start_time'])) {\n                break\n            }\n            if (curTime>=parseFloat(_this.textData[i]['start_time']) && curTime<=parseFloat(_this.textData[i]['end_time'])) {\n                matchWord = _this.textData[i]['word']\n                break\n            }\n        }\n\n        // console.log('matchWord: ', matchWord)\n\n        \n        imageContainer.append('text')\n            .style('position', 'absolute')\n            .style('left', `${50-matchWord.length*1.8}px`)\n            .style('bottom', '-35px')\n            .style('font-size', '12px')\n            .attr('text-anchor', 'middle')\n            .text(matchWord)\n\n    }\n\n    initialize()\n}\n\n\nDrawVideo.prototype.setupVideo = function (id) {\n    const _this = this\n    this.myPlayer = videojs(id, {\n        controls: true,\n        autoplay: false,\n        preload: 'auto',\n        language: 'en',\n        playbackRates: [0.2, 0.5, 1.0, 1.5, 2.0, 3.0, 4.0, 5.0],\n        inactivityTimeout: 0, // Note: showing the control bars once the video is loaded.\n        height: this.svgHeight,\n        width: this.svgWidth,\n        // sources: [{\n        //     src: url,\n        //     type: 'video/mp4'\n        //   }]\n    })\n\n    pipeService.onSeekFromPhase((phase) => {\n        // console.log('phase: ', phase)\n        this.startTime = this.seekTimeList[phase['startFrameIdx']]\n        this.endTime = this.seekTimeList[phase['endFrameIdx']]\n        // console.log('start: ', this.startTime)\n        // console.log('end: ', this.endTime)\n        this.myPlayer.currentTime(this.startTime)\n\n        this.myPlayer.on('timeupdate', function () {\n            if (_this.myPlayer.currentTime() >= _this.endTime) {\n                _this.myPlayer.pause()\n                _this.endTime = _this.seekTimeList[_this.seekTimeList.length-1]\n            }\n        })\n        this.myPlayer.play()\n    })\n\n    pipeService.onClickFromTextlist((timeRange) => {\n        this.startTime = this.seekTimeList[timeRange[0]-5]\n        this.endTime = this.seekTimeList[timeRange[1]+5]\n        // console.log('start: ', this.startTime)\n        // console.log('end: ', this.endTime)\n        this.myPlayer.currentTime(this.startTime)\n\n        this.myPlayer.on('timeupdate', function () {\n            if (_this.myPlayer.currentTime() >= _this.endTime) {\n                _this.myPlayer.pause()\n                _this.endTime = _this.seekTimeList[_this.seekTimeList.length-1]\n            }\n        })\n        this.myPlayer.play()\n    })\n\n\n    pipeService.onPlayVideoFromSlider((info) => {\n        let frameSelection = info['frameSelection']\n        if (info['status'] == 'pause') {\n            this.myPlayer.pause()\n        } else {\n            let curTime = _this.myPlayer.currentTime()\n            _this.curTimeToLabeledFrame(curTime)\n            let curFrame = _this.frameIdxList[_this.arrayIdx]\n            if (frameSelection[0]<=curFrame && curFrame<=frameSelection[1]) {\n                this.myPlayer.play()\n            } else {\n                let bisect = d3.bisector(function(d) { return d }).left\n                curFrame = frameSelection[0]\n                let arrayIdx = bisect(this.frameIdxList, curFrame)\n                this.seekTime = this.seekTimeList[arrayIdx]\n                this.arrayIdx = arrayIdx\n                this.myPlayer.currentTime(this.seekTime)\n                this.myPlayer.play()\n            }\n        }\n    })\n\n    pipeService.onVideoFrameFromSlider((curFrame) => {\n        let bisect = d3.bisector(function(d) { return d }).left\n        let arrayIdx = bisect(this.frameIdxList, curFrame)\n        this.seekTime = this.seekTimeList[arrayIdx]\n        this.arrayIdx = arrayIdx\n        this.myPlayer.currentTime(this.seekTime)\n    })\n\n    // console.log('videoHeight, videoWdith: ', this.videoHeight, this.videoWidth)\n    this.myPlayer.ready(function () {\n        // console.log('myPlayer is ready: ', _this.myPlayer)\n        _this.myPlayer.pause()\n        _this.myPlayer.currentTime(0)\n\n        _this.myPlayer.on('ended', function () {\n        })\n\n        _this.myPlayer.on('pause', function () {\n            // clear the timer\n            clearInterval(_this.refreshIntervalId)\n            clearInterval(_this.refreshAnimation)\n\n            let curTime = _this.myPlayer.currentTime()\n            _this.curTimeToLabeledFrame(curTime)\n            _this.updateDrawingLabelPoses(_this.arrayIdx)\n        })\n\n        _this.myPlayer.on('play', function () {\n            // console.log('_this.myPlayer.currentTime(): ', _this.myPlayer.currentTime())\n            if (_this.myPlayer.currentTime() > _this.endTime) {\n                _this.myPlayer.pause()\n            }\n            _this.removeDrawingLabelPoses()\n\n            // set up timer for updating the frameLine\n            _this.refreshIntervalId = setInterval(() => {\n                let curTime = _this.myPlayer.currentTime()\n                _this.curTimeToLabeledFrame(curTime)\n                pipeService.emitFrameSelectedFromVideo(_this.arrayIdx)\n            }, 500)\n\n\n            _this.refreshAnimation = setInterval(() => {\n                let curTime = _this.myPlayer.currentTime()\n                _this.curTimeToLabeledFrame(curTime)\n                pipeService.emitAnimationFrameFromVideo(_this.frameIdxList[_this.arrayIdx])\n            }, 100)\n\n\n        })\n\n        _this.myPlayer.on('seeking', function () {\n            let curTime = parseFloat(_this.myPlayer.currentTime().toFixed(2))\n            if (curTime !== _this.seekTime) {\n                _this.curTimeToLabeledFrame(curTime)\n                _this.myPlayer.currentTime(_this.seekTime)  // add for solve the problem?\n            }\n\n            if (_this.myPlayer.paused()) {\n                _this.updateDrawingLabelPoses(_this.arrayIdx)\n            } else {\n                _this.removeDrawingLabelPoses()\n            }\n            // console.log('curTime: ', curTime)\n            // console.log('curArrayIdx: ', _this.arrayIdx)\n        })\n    })\n\n    pipeService.onFrameSelectedFromTimeBar((arrayIdx) => {\n        _this.arrayIdx = arrayIdx\n        _this.seekFrame = _this.frameIdxList[arrayIdx]\n        _this.seekTime = _this.seekTimeList[arrayIdx]\n        _this.myPlayer.currentTime(_this.seekTime)\n    })\n\n    pipeService.onFrameSelectedFromAnimation((curFrame) => {\n        let bisect = d3.bisector(function(d) { return d }).left\n        let arrayIdx = bisect(this.frameIdxList, curFrame)\n        this.seekTime = this.seekTimeList[arrayIdx]\n        _this.arrayIdx = arrayIdx\n        _this.myPlayer.currentTime(_this.seekTime)\n    })\n}\n\nDrawVideo.prototype.updateVideo = function (url) {\n    const _this = this\n    this.myPlayer.src({type: 'video/mp4', src: url})\n\n    _this.myPlayer.on('click', function () {\n        if (_this.myPlayer.readyState() < 1) {\n            // do not have metadata yet so loadedmetadata event not fired yet (I presume)\n            // wait for loadedmetdata event\n            _this.myPlayer.one('loadedmetadata', onLoadedMetadata)\n        }\n        else {\n            // metadata already loaded\n            onLoadedMetadata()\n        }\n    })\n    \n    function onLoadedMetadata() {\n        _this.endTime = _this.myPlayer.duration()\n    }\n\n}\n\nDrawVideo.prototype.layout = function (id, data, url) {\n    // console.log('DrawVideo videoINfo: ', data)\n    this.visionData = data\n    this.videoInfo = this.visionData['videoInfo']\n    this.poseData = this.visionData['poseData']\n    this.faceData = this.visionData['faceData']\n    this.textData = this.visionData['stickmanData']['textData']\n    // console.log('this.textData: ', this.textData)\n    // console.log('this.faceData: ', this.faceData)\n\n    d3.select(id).selectAll('*').remove()\n    this.videoHeight = this.videoInfo['videoHeight']\n    this.videoWidth = this.videoInfo['videoWidth']\n    this.fps = this.videoInfo['fps']\n\n    // console.log('url: ', url)\n    this.myPlayer.src({type: 'video/mp4', src: url})\n\n    // layout\n    let containerRatio = this.svgWidth / this.svgHeight\n    let videoRatio = this.videoWidth / this.videoHeight\n\n    if (videoRatio > containerRatio) {\n        this.videoScreenWidth = this.svgWidth\n        this.videoScreenHeight = this.svgWidth / videoRatio\n    } else {\n        this.videoScreenHeight = this.svgHeight\n        this.videoScreenWidth = this.svgHeight * videoRatio\n    }\n\n    // setup label environment\n    let xOffset = (this.svgWidth - this.videoScreenWidth) / 2\n    let yOffset = (this.svgHeight - this.videoScreenHeight) / 2\n\n    this.margin = { top: yOffset, right: xOffset, bottom: yOffset, left: xOffset }\n\n    // console.log('this.margin: ', this.margin)\n\n    this.svg = d3.select(id).append('svg')\n        .attr('class', 'videoSvg')\n        .attr('height', this.svgHeight)\n        .attr('width', this.svgWidth)\n\n    this.graphContainer = this.svg.append('g')\n        .attr('class', 'g_main')\n        .attr('transform', 'translate(' + this.margin.left + ', ' + this.margin.top + ')')\n\n    // global variable in this file\n    this.labeledFrameIndex = -1   // initialize it as -1 to indicate no updating\n\n    this.rectBdHighlightClr = '#ff0000'\n    this.rectBdNormalClr = '#00ff00'\n    this.rectBdWarningClr = 'yellow' // when not sure about the computed baby id\n\n    let sampleInterval = 1\n    this.arrayIdx = 0\n    this.seekTime = 0\n    this.frameIdxList = d3.range(0, this.videoInfo['totalFrmNum'], sampleInterval)\n    // console.log('this.frameIdxList: ', this.frameIdxList)\n    this.seekTimeList = this.frameIdxList.map(d => parseFloat((d*1/this.fps).toFixed(2)))\n    // console.log('this.seekTimeList: ', this.seekTimeList)\n\n}\n\nDrawVideo.prototype.removeDrawingLabelPoses = function () {\n    this.graphContainer.selectAll('*').remove()\n}\n\n// eslint-disable-next-line\nDrawVideo.prototype.updateDrawingLabelPoses = function(arrayIdx) {\n    this.removeDrawingLabelPoses();\n    const _this = this;\n    // console.log('drawVideo arrayIdx: ', arrayIdx);\n    pipeService.emitFrameSelectedFromVideo(arrayIdx)\n\n    // console.log('arrayIdx: ', arrayIdx)\n    // console.log('poseData: ', this.poseData[arrayIdx.toString()])\n\n    if (this.faceData === undefined || this.faceData.length === 0) {\n        // console.log('========= ')\n        return\n    }\n    const frameInfo = this.faceData[arrayIdx]\n    // console.log('drawVideo, frameInfo: ', frameInfo)\n    // if (Object.keys(frameInfo).length === 0) {\n    if (frameInfo.length === 0) {\n        console.log('===========', arrayIdx)\n    } else {\n        this.graphContainer.append('g')\n        .attr('class', 'peopleface')\n        .selectAll('g')\n        .data(frameInfo)\n        .enter()\n        .append('g')\n        .attr('class', () => `person_${arrayIdx}`)\n        .attr('transform', (person) => {\n            // console.log('person: ', person)\n            const x = person['position'][0] * _this.videoScreenWidth\n            const y = person['position'][1] * _this.videoScreenHeight\n            return `translate(${x}, ${y})`\n        })\n        .each(drawRect)\n    }\n    function drawRect(person) {\n        const w = person['position'][2] * _this.videoScreenWidth\n        const h = person['position'][3] * _this.videoScreenHeight\n        d3.select(this)\n            .append('rect')\n            .attr('width', w)\n            .attr('height', h)\n            .style('fill', 'red')\n            .style('fill-opacity', 0.0)\n            .style('fill', 'pink')\n            .style('stroke', _this.rectBdNormalClr)\n            .style('stroke-width', 2) // original one is 4\n        \n        d3.select(this)\n            .append('text')\n            .attr('x', 0)\n            .attr('y', -35)\n            .attr('dy', '2em')\n            .text(() => person['emotion'])\n            .attr('font-family', 'sans-serif')\n            .attr('font-size', '8px')\n            .attr('fill', 'white')\n            .style('text-anchor', 'left')\n    }\n\n    \n    // draw poseInfo\n    if (this.poseData === undefined || Object.keys(this.poseData).length === 0) {\n        console.log(\n            '====No pose for the whole video===== '\n        ); /* eslint-disable-line */\n        return;\n    }\n  \n    let framePoseInfo = this.poseData[arrayIdx.toString()];\n    let peoplePose = framePoseInfo['people']\n    if (peoplePose.length === 0) {\n        console.log('no people, arrayIdx: ', arrayIdx)\n        return;\n    }\n  \n    // prepare to draw the rectangles\n    this.graphContainer\n        .append('g')\n        .attr('class', 'poseInfo')\n        .selectAll('g')\n        .attr('class', 'peoplePoseInfo')\n        .data(peoplePose)\n        .enter()\n        .append('g')\n        .attr('class', () => `people_${arrayIdx}`)\n        .each(function drawPose(person) {\n            // console.log('person: ', person)\n            \n            let bodyPointNum = 25\n            let handPointNum = 21\n            let personBodyPoints = person['pose_keypoints_2d']\n            let personLeftHandPoints = person['hand_left_keypoints_2d']\n            let personRightHandPoints = person['hand_right_keypoints_2d']\n            let bodyPoints = []\n            let leftHandPoints = []\n            let rightHandPoints = []\n            for (let i=0; i<bodyPointNum; i++) {\n                bodyPoints.push([\n                    personBodyPoints[3*i]/_this.videoWidth,\n                    personBodyPoints[3*i+1]/_this.videoHeight,\n                    personBodyPoints[3*i+2],\n                ])\n            }\n\n            for (let i=0; i<handPointNum; i++) {\n                leftHandPoints.push([\n                    personLeftHandPoints[3*i]/_this.videoWidth,\n                    personLeftHandPoints[3*i+1]/_this.videoHeight,\n                    personLeftHandPoints[3*i+2],\n                ])\n                rightHandPoints.push([\n                    personRightHandPoints[3*i]/_this.videoWidth,\n                    personRightHandPoints[3*i+1]/_this.videoHeight,\n                    personRightHandPoints[3*i+2],\n                ])\n            }\n        \n            // body points\n            d3.select(this)\n                .append('g')\n                .attr('class', 'bodyPoints')\n                .selectAll('cirlce')\n                .data(bodyPoints.filter((d) => {\n                    return d[2] !== 0 // filter no points\n                }))\n                .enter()\n                .append('circle')\n                .attr('cx', d => d[0] * _this.videoScreenWidth)\n                .attr('cy', d => d[1] * _this.videoScreenHeight)\n                .attr('r', 2)\n                .style('fill', 'red');\n    \n            let bodyPointPairData = globalConfig.BODY25Pairs\n                .map(pair => {\n                    if (bodyPoints[pair[0]][2] !== 0 && bodyPoints[pair[1]][2] !== 0) {\n                        return pair;\n                    }\n                    return null;\n                })\n                .filter(d => d);\n    \n            d3.select(this)\n                .append('g')\n                .attr('class', 'body-point-connection')\n                .selectAll('line')\n                .data(bodyPointPairData)\n                .enter()\n                .append('line')\n                .attr('x1', d => bodyPoints[d[0]][0] * _this.videoScreenWidth)\n                .attr('y1', d => bodyPoints[d[0]][1] * _this.videoScreenHeight)\n                .attr('x2', d => bodyPoints[d[1]][0] * _this.videoScreenWidth)\n                .attr('y2', d => bodyPoints[d[1]][1] * _this.videoScreenHeight)\n                .style('stroke', '#bdbdbd')\n                .style('stroke-width', 2); // original one is 4\n\n            // left hand points\n            d3.select(this)\n                .append('g')\n                .attr('class', 'leftHandPoints')\n                .selectAll('cirlce')\n                .data(leftHandPoints.filter((d) => {\n                    return d[2] !== 0 // filter no points\n                }))\n                .enter()\n                .append('circle')\n                .attr('cx', d => d[0] * _this.videoScreenWidth)\n                .attr('cy', d => d[1] * _this.videoScreenHeight)\n                .attr('r', 2)\n                .style('fill', globalConfig.leftHandColor);\n\n        let leftHandPointPairData = globalConfig.handPairs\n                .map(pair => {\n                    if (leftHandPoints[pair[0]][2] !== 0 && leftHandPoints[pair[1]][2] !== 0) {\n                        return pair;\n                    }\n                    return null;\n                })\n                .filter(d => d);\n\n        d3.select(this)\n                .append('g')\n                .attr('class', 'lefthand-point-connection')\n                .selectAll('line')\n                .data(leftHandPointPairData)\n                .enter()\n                .append('line')\n                .attr('x1', d => leftHandPoints[d[0]][0] * _this.videoScreenWidth)\n                .attr('y1', d => leftHandPoints[d[0]][1] * _this.videoScreenHeight)\n                .attr('x2', d => leftHandPoints[d[1]][0] * _this.videoScreenWidth)\n                .attr('y2', d => leftHandPoints[d[1]][1] * _this.videoScreenHeight)\n                .style('stroke', globalConfig.leftHandColor)\n                .style('stroke-width', 2)  // original one is 4\n\n\n        // right hand points\n        d3.select(this)\n            .append('g')\n            .attr('class', 'rightHandPoints')\n            .selectAll('cirlce')\n            .data(rightHandPoints.filter((d) => {\n                return d[2] !== 0 // filter no points\n            }))\n            .enter()\n            .append('circle')\n            .attr('cx', d => d[0] * _this.videoScreenWidth)\n            .attr('cy', d => d[1] * _this.videoScreenHeight)\n            .attr('r', 2)\n            .style('fill', globalConfig.rightHandColor)\n  \n        let rightHandPointPairData = globalConfig.handPairs\n            .map(pair => {\n                if (rightHandPoints[pair[0]][2] !== 0 && rightHandPoints[pair[1]][2] !== 0) {\n                    return pair;\n                }\n                return null;\n            })\n            .filter(d => d);\n  \n        d3.select(this)\n            .append('g')\n            .attr('class', 'body-point-connection')\n            .selectAll('line')\n            .data(rightHandPointPairData)\n            .enter()\n            .append('line')\n            .attr('x1', d => rightHandPoints[d[0]][0] * _this.videoScreenWidth)\n            .attr('y1', d => rightHandPoints[d[0]][1] * _this.videoScreenHeight)\n            .attr('x2', d => rightHandPoints[d[1]][0] * _this.videoScreenWidth)\n            .attr('y2', d => rightHandPoints[d[1]][1] * _this.videoScreenHeight)\n            .style('stroke', globalConfig.rightHandColor)\n            .style('stroke-width', 2); // original one is 4\n\n    });\n};\n\n\nDrawVideo.prototype.curTimeToLabeledFrame = function (curTime) {\n    let bisect = d3.bisector(function(d) { return d }).left\n    let arrayIdx = bisect(this.seekTimeList, curTime)\n    this.seekTime = this.seekTimeList[arrayIdx]\n    this.arrayIdx = arrayIdx\n    return { 'seekTime': this.seekTime }\n}\n\nexport default DrawVideo\n","import DrawVideo from './drawVideo.js'\n// import dataService from '../../service/dataService.js'\nimport pipeService from '../../service/pipeService.js'\n\nexport default {\n    name: 'VideoView',\n    components: {\n    },\n    props: {\n        videoList: Array,\n        videoId: String,\n        videoData: Object\n    },\n    data() {\n        return {\n            videoUrlList: [],\n            selectedVideo: '',\n            poseData: {},\n            frameIdx: 0,\n            ReviewerNameFlag: true\n        }\n    },\n    watch: {\n        selectedVideo: function (selectedVideo) {\n            this.selectedVideo = selectedVideo\n            // console.log('this.selectedVideo: ', this.selectedVideo)\n            if (this.selectedVideo !== '') {\n                pipeService.emitSelectVideo(this.selectedVideo)\n            }\n        },\n        videoData: function (videoData) {\n            // let videoUrl = `${dataService.dataServerUrl}/video/${this.videoId}`\n            let videoUrl = `/data/${this.videoId}.mp4`\n            this.drawVideo.layout('#labelsContainer', videoData, videoUrl)\n        },\n        frameIdx: function (frameIdx) {\n            this.drawVideo.updateDrawingLabelPoses(frameIdx)\n        }\n    },\n    methods: {\n    },\n    mounted: function () {\n        this.drawVideo = new DrawVideo('#labelsContainer')\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./VideoView.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./VideoView.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoView.html?vue&type=template&id=16f0a882&scoped=true&\"\nimport script from \"./VideoView.js?vue&type=script&lang=js&\"\nexport * from \"./VideoView.js?vue&type=script&lang=js&\"\nimport style0 from \"./VideoView.vue?vue&type=style&index=0&id=16f0a882&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16f0a882\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"matrixview\"}},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._m(0),_vm._m(1),_vm._m(2),_c('div',{staticStyle:{\"float\":\"right\",\"margin-top\":\"0px\",\"margin-right\":\"1px\"}},[_c('label',{attrs:{\"for\":\"toggle\"}},[_vm._v(\"Gesture: \")]),_c('toggle-button',{attrs:{\"value\":_vm.gestureToggled},on:{\"change\":function($event){_vm.gestureToggled = $event.value}}})],1)]),_c('div',{staticClass:\"card-block\",attrs:{\"id\":\"matrixContainer\"}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"20px\",\"margin-top\":\"3px\"}},[_c('h6',{staticStyle:{\"display\":\"inline\",\"user-select\":\"none\"}},[_vm._v(\"Exploration View\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"156px\",\"margin-top\":\"3px\"}},[_c('i',{staticClass:\"fa fa-hand-paper-o icon-flipped\",staticStyle:{\"font-size\":\"15px\",\"color\":\"#f1a340\"}}),_vm._v(\"Left Hand\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"25px\",\"margin-top\":\"3px\"}},[_c('i',{staticClass:\"fa fa-hand-paper-o\",staticStyle:{\"font-size\":\"15px\",\"color\":\"#998ec3\"}}),_vm._v(\"Right Hand\")])}]\n\nexport { render, staticRenderFns }","import axios from 'axios'\n\nconst GET_REQUEST = 'get'\nconst POST_REQUEST = 'post'\nconst dataServerUrl = process.env.DATA_SERVER_URL || 'http://127.0.0.1:5014'\n\nfunction request(url, params, type, callback) {\n    let func\n    if (type === GET_REQUEST) {\n        func = axios.get\n    } else if (type === POST_REQUEST) {\n        func = axios.post\n    }\n\n    func(url, params).then((response) => {\n        if (response.status === 200) {\n            callback(response)\n        } else {\n            console.error(response) /* eslint-disable-line */\n        }\n    })\n    .catch((error) => {\n        console.error(error) /* eslint-disable-line */\n    })\n}\n\nfunction initialization(videoId, callback) {\n    const url = `${dataServerUrl}/initialization/${videoId}`\n    const params = {}\n    request(url, params, GET_REQUEST, callback)\n}\n\nfunction poseData(videoId, callback) {\n    const url = `${dataServerUrl}/pose/${videoId}`\n    const params = {}\n    request(url, params, GET_REQUEST, callback)\n}\n\nfunction videoInfo(videoId, callback) {\n    const url = `${dataServerUrl}/videoInfo/${videoId}`\n    const params = {}\n    request(url, params, GET_REQUEST, callback)\n}\n\nfunction visionData(videoId, callback) {\n    const url = `${dataServerUrl}/vision/${videoId}`\n    const params = {}\n    request(url, params, GET_REQUEST, callback)\n}\n\nfunction audioData(videoId, interval, sliding_speed, callback) {\n    const url = `${dataServerUrl}/audio/${videoId}/${interval}/${sliding_speed}`\n    const params = {}\n    request(url, params, GET_REQUEST, callback)\n}\n\nfunction textData(videoId, callback) {\n    const url = `${dataServerUrl}/text/${videoId}`\n    const params = {}\n    request(url, params, GET_REQUEST, callback)\n}\n\nfunction saveGesturePhaseData(videoId, gesturePhaseData, callback) {\n    const url = `${dataServerUrl}/gesturePhase/${videoId}`\n    const params = {'gesturePhase': gesturePhaseData}\n    request(url, params, POST_REQUEST, callback)\n}\n\nfunction savePhaseLabelData(videoId, phaseLabelData, callback) {\n    const url = `${dataServerUrl}/phaseLabel/${videoId}`\n    const params = {'phaseLabel': phaseLabelData}\n    request(url, params, POST_REQUEST, callback)\n}\n\n\nfunction clusterData(videoId, callback) {\n    const url = `${dataServerUrl}/cluster/${videoId}`\n    const params = {}\n    request(url, params, GET_REQUEST, callback)\n}\n\nfunction savePhaseData(videoId, phaseData, callback) {\n    const url = `${dataServerUrl}/phase/${videoId}`\n    const params = {'phase': phaseData}\n    request(url, params, POST_REQUEST, callback)\n}\n\nfunction saveData(videoId, category, saveData, callback) {\n    const url = `${dataServerUrl}/data/${videoId}`\n    const params = {'data': saveData, 'category': category}\n    request(url, params, POST_REQUEST, callback)\n}\n\nfunction runClusterData(videoId, clusterNum, callback) {\n    const url = `${dataServerUrl}/runcluster/${videoId}/${clusterNum}`\n    const params = {}\n    request(url, params, GET_REQUEST, callback)\n}\n\nfunction runPhraseClusterData(videoId, wordPhraseData, clusterNum, callback) {\n    const url = `${dataServerUrl}/runPhraseCluster/${videoId}`\n    const params = {'wordPhraseData': wordPhraseData, 'clusterNum': clusterNum}\n    request(url, params, POST_REQUEST, callback)\n}\n\n\n\nexport default {\n    dataServerUrl,\n    initialization,\n    videoInfo,\n    poseData,\n    visionData,\n    audioData,\n    textData,\n    saveGesturePhaseData,\n    savePhaseLabelData,\n    clusterData,\n    savePhaseData,\n    saveData,\n    runClusterData,\n    runPhraseClusterData\n}\n","/* global d3 $ */\nimport pipeService from '../../service/pipeService.js'\nimport globalConfig from '../../service/globalConfig.js'\nimport h337 from 'heatmap.js'\nimport dataService from '../../service/dataService.js'\n\nlet DrawMatrix= function (id) {\t\n\tthis.id = id\n    this.svgWidth = $('#' + id).width()\n    this.svgHeight = $('#' + id).height()\n    this.margin = { top: 10, right: 10, bottom: 10, left: 10 }\n    this.width = this.svgWidth - this.margin.left - this.margin.right\n    this.height = this.svgHeight - this.margin.top - this.margin.bottom\n    this.showGesture = true\n\n    let heatmapWidthRatio = 0.2\n    this.heatmapWidth = heatmapWidthRatio * this.width\n    let gestureSpaceRatio = globalConfig.gestureSpace.extremePeriphery.width / globalConfig.gestureSpace.extremePeriphery.height\n    this.heatmapHeight = this.heatmapWidth/gestureSpaceRatio\n\n    let nonHeatmapWidth = this.width - this.heatmapWidth\n    let nonHeatmapHeight = this.height - this.heatmapHeight\n\n    this.matrixWidth = d3.min([nonHeatmapWidth, nonHeatmapHeight])\n    this.matrixHeight = this.matrixWidth\n\n    // let xOffset = (this.svgWidth - this.heatmapWidth - this.matrixWidth) / 2\n    let xOffset = this.margin.left\n    let yOffset = (this.svgHeight - this.heatmapHeight - this.matrixHeight) / 2\n\n    this.svg = d3.select('#' + id).append('svg')\n        .attr('class', 'matrixSvg')\n        .attr('width', this.svgWidth)\n\t\t.attr('height', this.svgHeight)\n    \n    this.graphContainer = this.svg.append('g')\n\t\t.attr('class', 'g_main')\n        .attr('transform', 'translate(' + xOffset + ', ' + yOffset + ')')\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // heatmap\n    this.heatmapMargin = {left: 0, top: 0}\n    this.heatmapContainer = this.graphContainer.append('g')\n        .attr('class', 'heatmapContainer')\n        .attr('transform', 'translate(' + this.heatmapMargin.left + ', ' + this.heatmapMargin.top + ')')\n    \n    // this.heatmapContainer.append('rect')\n    //     .attr('width', this.heatmapWidth)\n    //     .attr('height', this.heatmapHeight)\n    //     .style('fill', 'red')\n    //     .style('opacity', 0.05)\n\n    let heatmapDivContainer = this.heatmapContainer\n        .append('g')\n        .attr('class', 'heatmapForeignObject')\n        .append('foreignObject')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', this.heatmapWidth)\n        .attr('height', this.heatmapHeight)\n\n    heatmapDivContainer.append('xhtml:div')\n        .attr('class', 'heatmap')\n        .style('width', this.heatmapWidth+'px')\n        .style('height', this.heatmapHeight+'px')\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // matrix - text\n    this.matrixMargin = {left: this.heatmapWidth, top: this.heatmapHeight}\n    this.matrixContainer = this.graphContainer.append('g')\n\t\t.attr('class', 'matrixContainer')\n        .attr('transform', 'translate(' + (this.matrixMargin.left) + ', ' + this.matrixMargin.top + ')')\n    \n    // this.matrixContainer.append('rect')\n    //     .attr('width', this.matrixWidth)\n    //     .attr('height', this.matrixHeight)\n    //     .style('fill', 'blue')\n    //     .style('opacity', 0.05)\n\n    let matrixDivContainer = this.matrixContainer\n        .append('g')\n        .attr('class', 'matrixForeignObject')\n        .append('foreignObject')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', this.matrixWidth)\n        .attr('height', this.matrixWidth)\n        .append('xhtml:div')\n        .style('width', this.matrixWidth+'px')\n        .style('height', this.matrixWidth+'px')\n    \n    let matrixDivContainerHeader = matrixDivContainer.append('div')\n        .attr('class', 'tab-header')\n        .style('padding-top', '10px')\n    \n    let searchDiv = matrixDivContainer.append('div')\n        .attr('class', 'searchDiv')\n        .style('position', 'absolute')\n        .style('z-index', 1)\n        .style('top', '10px')\n        .style('left', '25px')\n\n    let thresholdDiv = matrixDivContainer.append('div')\n        .attr('class', 'thresholdDiv')\n        .style('position', 'absolute')\n        .style('z-index', 1)\n        .style('top', '10px')\n        .style('left', '170px')\n    \n    searchDiv.html('<div style=\"display: inline-block; margin-right: 5px;\"><input type=\"text\" id=\"matchWordValue\" autocomplete=\"off\" name=\"fname\" size=10 style=\"height:25px;\"></div><div style=\"display: inline-block\"><button id=\"matchWord\" style=\"outline:none;width:20px;height:20px;font-size: 0.9rem;text-align:center;padding: 0;border-radius: 50%; border: 0px;\"><i class=\"fa fa-search\"></i></button></div>')\n\n    thresholdDiv.html('<div style=\"display: inline-block; margin-right: 5px;\"><i class=\"fa fa-play icon-rotate\" style=\"transform: rotate(90deg);font-size:12px;color:#75C791\"></i> <span style=\"font-size:12px;\"> Change<sub>t</sub>:</span><input type=\"text\" id=\"changepoint\" autocomplete=\"off\" name=\"fname\" size=2 value=\"0.5\" style=\"height:25px; font-size:12px;\"></div><div style=\"display: inline-block; margin-left: 8px;\"><i class=\"fa fa-minus\" style=\"font-size:12px;color:#fb6a4a\"></i> <span style=\"font-size:12px;\"> Variation<sub>t</sub>:</span><input type=\"text\" id=\"gesturevariation\" autocomplete=\"off\" name=\"fname\" size=2 value=\"0.4\" style=\"height:25px; font-size:12px;\"></div>')\n\n    let matrixDivContainerContent = matrixDivContainer.append('div')\n        .attr('class', 'tab-content')\n        .style('padding-top', '10px') \n\n    matrixDivContainerHeader.html('<ul class=\"nav nav-tabs small\" style=\"margin-left: 400px\"><li class=\"nav-item ml-auto\"><a href=\"#transcript-content\" style=\"color: black; padding-top:2px; padding-bottom:2px;\" class=\"nav-link active\" data-toggle=\"tab\"><i class=\"fa fa-file\"></i></a></li><li class=\"nav-item\"><a href=\"#transcript-sentence\" style=\"color: black; padding-top:2px; padding-bottom: 2px;\" class=\"nav-link\" data-toggle=\"tab\"><i class=\"fa fa-align-left\"></i></a></li></ul>')\n    \n    matrixDivContainerContent.html('<div class=\"tab-pane show active\" id=\"transcript-content\" style=\"height: 473.59px; overflow-y: auto;\"></div><div class=\"tab-pane\" id=\"transcript-sentence\" style=\"height: 493.59px;\"></div>')\n    \n    this.textContainer = d3.select('#transcript-sentence').append('div')\n        .attr('class', 'textListContainer')\n        .style('width', this.matrixWidth+'px')\n        .style('height', this.matrixWidth+'px')\n        .style('overflow-y', 'auto')\n        .style('overflow-x', 'hidden')\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // timeline one\n    this.timelineOneWidth = this.matrixWidth\n    this.timelineOneHeight = this.heatmapHeight\n    this.timelineOneMargin = {left: this.matrixMargin.left, top: this.heatmapMargin.top}\n    this.timelineOneContainer = this.graphContainer.append('g')\n\t\t.attr('class', 'timelineOneContainer')\n        .attr('transform', 'translate(' + (this.timelineOneMargin.left) + ', ' + this.timelineOneMargin.top + ')')\n    \n    // this.timelineOneContainer.append('rect')\n    //     .attr('width', this.timelineOneWidth)\n    //     .attr('height', this.timelineOneHeight)\n    //     .style('fill', 'yellow')\n    //     .style('opacity', 0.05)\n    /////////////////////////////////////////////////////////////////////////////////\n    // timeline two\n    this.timelineTwoWidth = this.heatmapWidth\n    this.timelineTwoHeight = this.matrixHeight\n    this.timelineTwoMargin = {left: this.heatmapMargin.left, top: this.matrixMargin.top}\n    this.timelineTwoContainer = this.graphContainer.append('g')\n\t\t.attr('class', 'timelineTwoContainer')\n        .attr('transform', 'translate(' + (this.timelineTwoMargin.left) + ', ' + this.timelineTwoMargin.top + ')')\n    \n    // this.timelineTwoContainer.append('rect')\n    //     .attr('width', this.timelineTwoWidth)\n    //     .attr('height', this.timelineTwoHeight)\n    //     .style('fill', 'yellow')\n    //     .style('opacity', 0.05)\n}\n\nDrawMatrix.prototype.layout = function (data) {\n    // console.log('matrix videoData: ', data)\n    this.visionData = data\n    this.videoInfo = this.visionData['videoInfo']\n    this.fps = Math.ceil(this.videoInfo['fps'])\n    this.totalFrameNum = this.videoInfo['totalFrmNum']\n    this.poseData = this.visionData['poseData']\n    // this.textData = this.visionData['textData']\n    this.textData = this.visionData['stickmanData']['textData']\n    this.sentenceData = this.genSentenceData(this.textData)\n    this.gestureSpaceData = []\n    this.stdXYJointMax = -Infinity\n    this.stdXYJointMin = Infinity\n    this.changeDistanceMax = -Infinity\n    this.changeDistanceMin = Infinity\n\n    this.bisect = d3.bisector(function(d) { return d }).left\n    this.sampleInterval = 1\n    this.frameIdxList = d3.range(0, this.videoInfo['totalFrmNum'], this.sampleInterval)\n    this.selectedFrameIdx = 0\n\n    // 10/30 = 0.3 frame, 60s = 1, 180frame * 0.5 => \n    this.axisTimeRange = parseInt(60 / (this.sampleInterval / this.fps)) * 0.5\n    // this.axisTimeRange = parseInt(60 / (this.sampleInterval / this.fps)) * 1.5\n    let formatTime = d3.timeFormat('%M:%S')\n    this.formatMinutes = function(d) { return formatTime(new Date(2017, 0, 1, 0, 0, d)) }\n\n    // console.log('stdXYJointDomain: ', this.visionData['stickmanData']['stdXYJointDomain'])\n    this.stdXYJointScale = d3.scaleLinear()\n        .domain(this.visionData['stickmanData']['stdXYJointDomain'])\n        .range([0, 1])\n    \n    // console.log('changeDistanceDomain: ', this.visionData['stickmanData']['changeDistanceDomain'])\n    this.changeDistanceScale = d3.scaleLinear()\n        .domain(this.visionData['stickmanData']['changeDistanceDomain'])\n        .range([0, 1])\n        .clamp(true)\n\n    \n    /////////////////////////////////////////////////////////////\n    // this.genStickmanData()\n     \n        \n    /////////////////////////////////////////////////////////////\n    // read movement data\n    let movementData = this.visionData['movementData']\n    this.drawSkeleton()\n    this.drawHeatmap(movementData)\n    this.drawTimelineOne(movementData)\n    this.drawTimelineTwo(movementData)\n    // pipeService.onUpdateMovementData((movementData) => {\n    //     /////////////////////////////////////////////////////////////\n    //     // gesture space\n    //     this.drawSkeleton()\n\n    //     /////////////////////////////////////////////////////////////\n    //     // heatmap\n    //     this.drawHeatmap(movementData)\n\n    //     /////////////////////////////////////////////////////////////\n    //     // timelineOne\n    //     this.drawTimelineOne(movementData)\n\n    //     /////////////////////////////////////////////////////////////\n    //     // timelineTwo\n    //     this.drawTimelineTwo(movementData)\n    // })\n    \n\n    /////////////////////////////////////////////////////////////\n    // draw transcript\n    this.drawTranscript(this.textData)\n\n    \n    /////////////////////////////////////////////////////////////\n    // data from text view and brush timeline\n    pipeService.onUpdateTextList((frameRangeSelections) => {\n        // console.log('onUpdateTextList, frameRangeSelections: ', frameRangeSelections)\n        this.drawTextList(frameRangeSelections)\n    })\n    // let frameRangeSelections = [[50, 200], [300, 450], [400, 600], [743, 853], [1289, 1578], [1889, 2078]]\n    // this.drawTextList(frameRangeSelections)\n\n\n    // brush text and search text, update timeline\n    pipeService.onSearchSentence((selectedSentenceInfo) => {\n        let frameRange = [selectedSentenceInfo['startFrame'], selectedSentenceInfo['endFrame']]\n        pipeService.emitUpdateTimeRange(frameRange)\n        // console.log('onSearchSentence frameRange: ', frameRange)\n        pipeService.emitClickFromTextlist(frameRange)\n        pipeService.emitHighlightPoint(frameRange)\n        pipeService.emitFrameBrush(frameRange)\n    })\n\n    // brush timeline, highlight text\n    pipeService.onHighlightText((frameRangeSelection) => {\n        // console.log('onHighlightText: frameRangeSelection', frameRangeSelection)\n        d3.select('#transcript-content').selectAll('.word').style('border-bottom', '1px solid rgba(255, 0, 0, 0)')\n        if (frameRangeSelection.length != 0) {\n            let frameRange = frameRangeSelection\n            let selectedTimeRangeStartTime = parseFloat((frameRange[0]/this.fps).toFixed(2))\n            let selectedTimeRangeEndTime = parseFloat((frameRange[1]/this.fps).toFixed(2))\n            for (let i=0; i<this.textData.length; i++) {\n                if (this.textData[i]['type'] == 'pronunciation') {\n                    let startTime = parseFloat(this.textData[i]['start_time'])\n                    let endTime = parseFloat(this.textData[i]['end_time'])\n                    let duration = endTime-startTime\n                    if ((startTime>=(selectedTimeRangeStartTime-duration)) && (endTime<=(selectedTimeRangeEndTime+duration))) {\n                        d3.select('#transcript-content').select(`.word-${i}`).style('border-bottom', '1px solid rgba(255, 0, 0, 1)')\n                    }\n                }\n            }\n        }\n    })\n\n    // data from cluster view, click\n    pipeService.onSeekFromPhase((onePhase) => {\n        let oneframeRange = [onePhase['startFrameIdx'], onePhase['endFrameIdx']]\n        pipeService.emitUpdateTextList([oneframeRange])\n    })\n\n    // data from cluster view, brush\n    pipeService.onSelectedPhase((selectedPhase) => {\n        pipeService.emitUpdateTextList(selectedPhase)\n    })\n\n    // match word from content view\n    pipeService.onMatchWord((frameRangeSelections) => {\n        pipeService.emitUpdateTextList(frameRangeSelections)\n    })\n\n    // highlight word\n    pipeService.onHighlightWord((highlightWordIndexList) => {\n        // console.log('onHighlightWord: highlightWordIndexList', highlightWordIndexList)\n        d3.select('#transcript-content').selectAll('.word').style('border-bottom', '1px solid rgba(255, 0, 0, 0)')\n        for (let i=0; i<highlightWordIndexList.length; i++) {\n            let wordIdx = highlightWordIndexList[i]\n            d3.select('#transcript-content').select(`.word-${wordIdx}`).style('border-bottom', '1px solid rgba(255, 0, 0, 1)')\n        }\n    })\n\n    pipeService.onTextShowGesture((showGesture) => {\n        this.showGesture = showGesture \n        if (this.showGesture) {\n            document.querySelectorAll('.stickman').forEach(function(el) {\n                el.style.display = 'block'\n            })\n        } else {\n            document.querySelectorAll('.stickman').forEach(function(el) {\n                el.style.display = 'none'\n            })\n        }\n    })\n    // pipeService.onTextShowGesture((showGesture) => {\n    //     this.showGesture = showGesture\n    //     console.log('this.gestureSpaceData.length: ', this.gestureSpaceData.length)\n    //     if (this.showGesture && this.gestureSpaceData.length == 0) {\n    //         this.genStickmanData()\n    //         this.drawTranscript(this.textData)\n    //     } else {\n    //         console.log('this.showGesture: ', this.showGesture)\n    //         if (this.showGesture) {\n    //             document.querySelectorAll('.stickman').forEach(function(el) {\n    //                 el.style.display = 'block'\n    //             })\n    //         } else {\n    //             document.querySelectorAll('.stickman').forEach(function(el) {\n    //                 el.style.display = 'none'\n    //             })\n    //         }\n    //     }\n    // })\n\n}\n\nDrawMatrix.prototype.drawSkeleton = function () {\n    this.heatmapContainer.select('.skeletonContainer').remove()\n    this.heatmapContainer.select('.heatmap-canvas').remove()\n    let container = this.heatmapContainer\n        .append('g')\n        .attr('class', 'skeletonContainer')\n    let containerWidth = this.heatmapWidth\n    let containerHeight = this.heatmapHeight\n\n    container.append('clipPath')       // define a clip path\n\t.attr('id', 'gesture-space-clip-path') // give the clipPath an ID\n    .append('rect')            // shape it as an ellipse\n    .attr('x', 5)\n    .attr('y', 5)\n    .attr('width', containerWidth-10)\n    .attr('height', containerHeight-23)\n\n    // console.log('containerWidth: ', containerWidth)\n    // console.log('containerHeight: ', containerHeight)\n    \n    let xScale = d3.scaleLinear()\n        .domain([globalConfig.gestureSpace.extremePeriphery.left, globalConfig.gestureSpace.extremePeriphery.left+globalConfig.gestureSpace.extremePeriphery.width])\n        .range([0, containerWidth])\n    this.gestureSpaceXScale = xScale\n\n    let yScale = d3.scaleLinear()\n        .domain([globalConfig.gestureSpace.extremePeriphery.top, globalConfig.gestureSpace.extremePeriphery.top+globalConfig.gestureSpace.extremePeriphery.height])\n        .range([0, containerHeight])\n    this.gestureSpaceYScale = yScale\n\n    //////////////////////////////////////////////////////////////\n    // gesture space\n    let gestureSpaceContainer = container.append('g')\n        .attr('class', 'gesture-space')\n    // let gestureArea = ['centerCenter', 'center', 'periphery', 'extremePeriphery']\n    let gestureArea = ['centerCenter', 'center', 'periphery']\n    gestureSpaceContainer\n        .selectAll('rect')\n        .data(gestureArea)\n        .enter()\n        .append('rect')\n        .attr('x', (d) => xScale(globalConfig.gestureSpace[d].left))\n        .attr('y', (d) => yScale(globalConfig.gestureSpace[d].top))\n        .attr('width', (d) => {\n            return xScale(globalConfig.gestureSpace[d].left+globalConfig.gestureSpace[d].width) - xScale(globalConfig.gestureSpace[d].left)\n        })\n        .attr('height', (d) => {\n            return yScale(globalConfig.gestureSpace[d].top+globalConfig.gestureSpace[d].height) - yScale(globalConfig.gestureSpace[d].top)\n        })\n        .style('fill', 'rgba(0,0,0,0)')\n        .style('stroke', '#2378ae')\n        .style('stroke-dasharray', '2,2')\n        .style('stroke-linecap', 'butt')\n        .style('stroke-width', '1')\n\n    //////////////////////////////////////////////////////////////\n    // skeleton\n    let bodyPoints = []\n    let bodyPointNum = 25\n    for (let i=0; i<bodyPointNum; i++) {\n        bodyPoints.push([\n            xScale(globalConfig.skeletonInit.points[i.toString()][0]), \n            yScale(globalConfig.skeletonInit.points[i.toString()][1])\n        ])\n    }\n    \n    let skeletonContainer = container.append('g')\n        .attr('class', 'skeletonContainer')\n        .attr('clip-path','url(#gesture-space-clip-path)')\n\n    let bodyPointPairData = globalConfig.BODY25Pairs\n\n    skeletonContainer.append('g')\n        .attr('class', 'body-circle-connection')\n        .selectAll('line')\n        .data(bodyPointPairData)\n        .enter()\n        .append('line')\n        .attr('x1', d => bodyPoints[d[0]][0])\n        .attr('y1', d => bodyPoints[d[0]][1])\n        .attr('x2', d => bodyPoints[d[1]][0])\n        .attr('y2', d => bodyPoints[d[1]][1])\n        .style('stroke', '#bdbdbd')\n        .style('stroke-width', 2); // original one is 4\n\n    // skeleton points\n    skeletonContainer.append('g')\n        .attr('class', 'skeletonCircles')\n        .selectAll('cirlce')\n        .data(bodyPoints)\n        .enter()\n        .append('circle')\n        .attr('cx', d => d[0])\n        .attr('cy', d => d[1])\n        .attr('r', 2)\n        .style('opacity', 0.3)\n        .style('fill', 'red')\n}\n\nDrawMatrix.prototype.drawHeatmap = function (movementData) {\n    //////////////////////////////////////////////////////////////\n    // heatmap data\n    let heatmapData = this.getHeatMapData(movementData)\n    let heatmapInstance = h337.create(heatmapData.config)\n    heatmapInstance.setData(heatmapData.data)\n}\n\nDrawMatrix.prototype.getHeatMapData = function (movementData) {\n    let selectedPoseDataList = movementData['selectedPoseDataList']\n    let heatmapDataDict = {}\n\n    for (let i=0; i<selectedPoseDataList.length; i++) {\n        let frameItem = selectedPoseDataList[i]\n        \n        if (frameItem['leftHand'].length>0) {\n            let leftHandIndex = Math.round(this.gestureSpaceXScale(frameItem['leftHand'][0])) + '_' + Math.round(this.gestureSpaceYScale(frameItem['leftHand'][1]))\n            if (!heatmapDataDict.hasOwnProperty(leftHandIndex)) {\n                heatmapDataDict[leftHandIndex] = 1\n            } else {\n                heatmapDataDict[leftHandIndex] += 1\n            }\n        }\n        \n        if (frameItem['rightHand'].length>0) {\n            let rightHandIndex = Math.round(this.gestureSpaceXScale(frameItem['rightHand'][0])) + '_' + Math.round(this.gestureSpaceYScale(frameItem['rightHand'][1]))\n            if (!heatmapDataDict.hasOwnProperty(rightHandIndex)) {\n                heatmapDataDict[rightHandIndex] = 1\n            } else {\n                heatmapDataDict[rightHandIndex] += 1\n            }\n        }\n    }\n\n    let points = []\n    let max = 0\n    for (let pointIndex in heatmapDataDict) {\n        let pointItem = pointIndex.split('_')\n        let point = {\n            x: Math.round(parseInt(pointItem[0])),\n            y: parseInt(pointItem[1]),\n            value: heatmapDataDict[pointIndex]\n        }\n        max = Math.max(max, heatmapDataDict[pointIndex])\n        points.push(point)\n    }\n    let heatmapData = {\n        max: max,\n        data: points\n    }\n    let config = {\n        container: document.querySelector('.heatmap'),\n        radius: 5,\n        maxOpacity: 0.5,\n        minOpacity: 0,\n        blur: 1,\n        // gradient: {\n        //     // enter n keys between 0 and 1 here\n        //     // for gradient color customization\n        //     '.5': '#F0F7FD',\n        //     '.8': '#509CCC',\n        //     '.95': '#07336F'\n        //   }\n    }\n    return {\n        'config': config,\n        'data': heatmapData\n    }\n\n}\n\nDrawMatrix.prototype.drawTimelineOne = function (movementData) {\n    // console.log('drawTimelineOne, movementData: ', movementData)\n    this.timelineOneContainer.select('.drawTimelineOne').remove()\n    let container = this.timelineOneContainer.append('g')\n        .attr('class', 'drawTimelineOne')\n    const _this = this\n\n    let width = this.timelineOneWidth\n    let height = this.timelineOneHeight\n\n    let clickAreaHeight = 20\n    let markAreaHeight = 15\n    let markSize = 10\n\n    let xScale = d3.scaleLinear()\n        .domain([0, this.videoInfo['totalFrmNum']])\n        .range([0, width])\n    this.timelineOneXScale = xScale\n    let yScale = this.gestureSpaceYScale\n\n    ////////////////////////////////\n    // draw gesture space horizontal line\n    let centerPoint = globalConfig.centerPoint\n    container.append('g')\n        .attr('class', 'gesture-space-horizontal-line')\n        .append('line')\n        .attr('x1', 0)\n        .attr('y1', yScale(centerPoint[1]))\n        .attr('x2', width)\n        .attr('y2', yScale(centerPoint[1]))\n        .style('stroke', 'black')\n        .style('stroke-dasharray', '2,2')\n        .style('stroke-linecap', 'butt')\n        .style('stroke-width', '1')\n\n    ////////////////////////////////\n    // draw leftHand, rightHand vertical data  \n    let selectedPoseDataList = movementData['selectedPoseDataList']  \n\n    ///////////////////////////////\n    // left hand line\n    let leftHandLine = d3.line()\n        .x(function(d) { return xScale(d['frameIdx']) }) \n        .y(function(d) { return yScale(d['leftHand'][1]) })\n        .defined(function(d) {\n            return d['leftHand'].length !==0\n        })\n        .curve(d3.curveMonotoneX)\n\n    let rightHandLine = d3.line()\n        .x(function(d) { return xScale(d['frameIdx']) }) \n        .y(function(d) { return yScale(d['rightHand'][1]) })\n        .defined(function(d) {\n            return d['rightHand'].length !==0\n        })\n        .curve(d3.curveMonotoneX)\n\n    container.append('path')\n        .attr('class', 'timelineOne-leftHnad')\n        .datum(selectedPoseDataList)\n        .attr('class', 'line')\n        .attr('d', leftHandLine)\n        .style('stroke', globalConfig.leftHandColor)\n        .style('fill', 'none')\n    \n    container.append('path')\n        .attr('class', 'timelineOne-rightHnad')\n        .datum(selectedPoseDataList) \n        .attr('class', 'line')\n        .attr('d', rightHandLine)\n        .style('stroke', globalConfig.rightHandColor)\n        .style('fill', 'none')\n    \n    // add the x Axis\n    let xAxis = d3.axisTop(xScale)\n        .tickFormat(d => {\n            if (d==0) {\n                return d\n            } else {\n                return this.formatMinutes(d / this.fps)\n            }\n        })\n        .tickValues(d3.range(0, this.totalFrameNum, this.axisTimeRange))\n\n    container.append('g')\n        .attr('transform', 'translate(0,' + height + ')')\n        // .call(d3.axisTop(xScale))\n        .call(xAxis)\n\n    ///////////////////////////////////////////////////////\n    // frame line\n    container.select('.timelineOne-selected-frame').remove()\n    let xPosition = xScale(this.selectedFrameIdx)\n    this.frameLineOne = container.append('g')\n        .attr('class', 'selected-frame-one')\n        .append('path')\n        .attr('class', 'frame-line-one')\n        .attr('d', () => {\n            let d = 'M' + xPosition + ',' + (height-clickAreaHeight)\n            d += ' ' + xPosition + ',' + (markAreaHeight+markSize)\n            return d\n        })\n        .style('stroke', 'black')\n        .style('stroke-width', '1px')\n        .style('vector-effect', 'non-scaling-stroke')\n\n    let brush = d3.brushX()\n        .extent([[0, markAreaHeight+markSize], [width, height-clickAreaHeight]])\n        .on('end', brushed)\n\n    container.append('g')\n        .attr('class', 'brushX')\n        .call(brush)\n    \n    function brushed() {\n        if (!d3.event.sourceEvent) return // Only transition after input.\n        let selectionBisect = []\n        if (d3.event.selection) {\n            // let s = d3.event.selection\n            let selection = d3.event.selection.map(xScale.invert)\n            selectionBisect = [Math.ceil(selection[0]), Math.floor(selection[1])]\n            pipeService.emitUpdateTextList([selectionBisect])\n            pipeService.emitUpdateTimeRange(selectionBisect)\n            pipeService.emitHighlightText(selectionBisect)\n            pipeService.emitHighlightPoint(selectionBisect)\n        } else {\n            pipeService.emitUpdateTextList([])\n            pipeService.emitUpdateTimeRange([0, 0]) // a bug here\n            pipeService.emitHighlightText([])\n            pipeService.emitHighlightPoint([])\n        }\n        // console.log('selectionBisect: ', selectionBisect)\n        \n        pipeService.emitFrameBrush(selectionBisect)\n        \n        // To do:\n        // brush and highligh projection circles\n    }\n\n    // add clickArea for jumping to video\n    let clickArea = container.append('g')\n        .attr('class', 'clickArea')\n        .attr('transform', 'translate(' + 0 + ',' + (height-clickAreaHeight) + ')')\n        .append('rect')\n        .attr('width', width)\n        .attr('height', clickAreaHeight)\n        .style('opacity', 0.05)\n        .style('fill', 'D6D6D6')\n\n    clickArea.on('click', function () {\n        let mouse = d3.mouse(this)\n        let _arrayIdx = Math.round(xScale.invert(mouse[0]))\n        let arrayIdx = _this.bisect(_this.frameIdxList, _arrayIdx)\n        _this.selectedFrameIdx = arrayIdx\n\n        // console.log('_this.selectedFrameIdx: ', _this.selectedFrameIdx)\n\n        pipeService.emitFrameSelectedFromTimeBar(_this.selectedFrameIdx)\n        pipeService.emitUpdateTimeFrame(_this.selectedFrameIdx)\n    })\n\n    // add mark area\n    let markArea = container.append('g')\n        .attr('class', 'markArea')\n        .attr('transform', 'translate(' + 0 + ',' + 0 + ')')\n\n    markArea.append('rect')\n        .attr('width', width)\n        .attr('height', markAreaHeight)\n        // .style('opacity', 0.1)\n        // .style('fill', 'red')\n        .style('opacity', 0.05)\n        .style('fill', 'D6D6D6')\n    \n    // console.log('markArea: ', markArea)\n\n    pipeService.onUpdateTimelineMarker((selectedTimeRanges) => {\n        let markData = {\n            'selectedTimeRanges': selectedTimeRanges,\n            'xScale': xScale,\n            'areaMarkHeight': markAreaHeight\n        }\n        this.drawTimelineOneMarker(markArea, markData)\n    })\n    \n\n\n    // frameLine from videoview\n    pipeService.onFrameSelectedFromVideo((arrayIdx) => {\n        this.selectedFrameIdx = arrayIdx\n        let xPosition = this.timelineOneXScale(this.selectedFrameIdx)\n        this.frameLineOne.transition()\n            .duration(200)\n            .attr('d', () => {\n                let d = 'M' + xPosition + ',' + (height-clickAreaHeight)\n                d += ' ' + xPosition + ',' + (markAreaHeight+markSize)\n                return d\n            })\n    })\n\n    // frameLine from timebar\n    pipeService.onUpdateTimeFrame((arrayIdx) => {\n        this.selectedFrameIdx = arrayIdx\n        let xPosition = this.timelineOneXScale(this.selectedFrameIdx)\n        this.frameLineOne.transition()\n            .duration(200)\n            .attr('d', () => {\n                let d = 'M' + xPosition + ',' + (height-clickAreaHeight)\n                d += ' ' + xPosition + ',' + (markAreaHeight+markSize)\n                return d\n            })\n    })\n\n    // time range from timebar\n    pipeService.onUpdateTimeRange((selection) => {\n        // console.log('one, onUpdateTimeRange: ', selection)\n        if (selection.length == 0) {\n            d3.select('.brushX').call(brush.move, null)\n        } else {\n            d3.select('.brushX').transition().call(brush.move, selection.map(this.timelineOneXScale))\n        }\n    })\n}\n\nDrawMatrix.prototype.drawTimelineOneMarker = function (container, data) {\n    let selectedTimeRanges = data['selectedTimeRanges']\n    let xScale = data['xScale']\n    let areaMarkHeight = data['areaMarkHeight']\n    container.selectAll('g').remove()\n    let areaMarkContainer = container.append('g')\n        .attr('class', 'areaMark')\n\n    let areaClickContainer = container.append('g')\n        .attr('class', 'clickArea')\n        .attr('transform', 'translate(' + 0 + ',' + (areaMarkHeight+6) + ')')\n\n    let symbolGenerator = d3.symbol().size(70).type(d3.symbolTriangle)\n\n    areaMarkContainer.selectAll('rect')\n        .data(selectedTimeRanges)\n        .enter()\n        .append('rect')\n        .attr('class', 'selectedPhase')\n        .attr('x', (d) => xScale(d[0]))\n        .attr('y', 0)\n        .attr('width', (d) => {\n            let start = d[0]\n            let end = d[1]\n            return xScale(end) - xScale(start)\n        })\n        .attr('height', areaMarkHeight)\n        .style('opacity', 0.4)\n        .style('fill', 'red')\n    \n    \n    areaClickContainer.selectAll('path')\n        .data(selectedTimeRanges)\n        .enter()\n        .append('path')\n        .attr('transform', function(d) {\n            return 'translate(' + (xScale(d[0])+(xScale(d[1])-xScale(d[0]))/2) + ', 0)'\n        })\n        .attr('d', symbolGenerator())\n        // .style('opacity', 0.7)\n        // .style('fill', 'blue')\n        .style('opacity', 0.4)\n        .style('fill', 'red')\n        // .on('mouseover', handleMouseOver)\n        // .on('mouseout', handleMouseOut)\n        .on('click', function(d) {\n            pipeService.emitSeekFromPhase({\n                'startFrameIdx': d[0],\n                'endFrameIdx': d[1]\n            })\n        })\n\n    // Create Event Handlers for mouse\n    // function handleMouseOver(d) {  // Add interactivity\n    //     d3.select('#projectionCircle-'+d[2])\n    //         .style('stroke', 'blue')\n    //         .style('stroke-width', 1)\n    // }\n\n    // function handleMouseOut() {\n    //     d3.selectAll('.projectionCircle')\n    //         .style('stroke', 'blue')\n    //         .style('stroke-width', 0)\n    // }\n}\n\nDrawMatrix.prototype.drawTimelineTwo = function (movementData) {\n    // console.log('drawTimelineTwo, movementData: ', movementData)\n    this.timelineTwoContainer.select('.drawTimelineTwo').remove()\n    let container = this.timelineTwoContainer.append('g')\n        .attr('class', 'drawTimelineTwo')\n    const _this = this\n    // console.log('drawTimelineTwo _this: ', _this)\n    // let frameGap = 1\n    // let sampleFrameList = d3.range(0, this.videoInfo['totalFrmNum'], frameGap)\n    \n    let width = this.timelineTwoWidth\n    let height = this.timelineTwoHeight\n    let clickAreaWidth = 20\n    let markAreaWidth = 15\n    let markSize = 10\n\n    let xScale = this.gestureSpaceXScale\n\n    let yScale = d3.scaleLinear()\n        .domain([0, this.videoInfo['totalFrmNum']])\n        .range([0, height])\n    this.timelineTwoYScale = yScale\n\n    ////////////////////////////////\n    // draw gesture space vertical line\n    let centerPoint = globalConfig.centerPoint\n    container.append('g')\n        .attr('class', 'gesture-space-vertical-line')\n        .append('line')\n        .attr('x1', xScale(centerPoint[0]))\n        .attr('y1', 0)\n        .attr('x2', xScale(centerPoint[0]))\n        .attr('y2', height)\n        .style('stroke', 'black')\n        .style('stroke-dasharray', '2,2')\n        .style('stroke-linecap', 'butt')\n        .style('stroke-width', '1')\n\n\n    ////////////////////////////////\n    // draw leftHand, rightHand X data  \n    let selectedPoseDataList = movementData['selectedPoseDataList']  \n\n    ////////////\n    // left hand line\n    let leftHandLine = d3.line()\n        .x(function(d) { return xScale(d['leftHand'][0]) }) \n        .y(function(d) { return yScale(d['frameIdx']) })\n        .defined(function(d) {\n            return d['leftHand'].length !==0\n        })\n        .curve(d3.curveMonotoneY)\n\n    let rightHandLine = d3.line()\n        .x(function(d) { return xScale(d['rightHand'][0]) }) \n        .y(function(d) { return yScale(d['frameIdx']) })\n        .defined(function(d) {\n            return d['rightHand'].length !==0\n        })\n        .curve(d3.curveMonotoneY)\n\n    container.append('path')\n        .attr('class', 'timelineTwo-leftHnad')\n        .datum(selectedPoseDataList)\n        .attr('class', 'line')\n        .attr('d', leftHandLine)\n        .style('stroke', globalConfig.leftHandColor)\n        .style('fill', 'none')\n    \n    container.append('path')\n        .attr('class', 'timelineTwo-rightHnad')\n        .datum(selectedPoseDataList) \n        .attr('class', 'line')\n        .attr('d', rightHandLine)\n        .style('stroke', globalConfig.rightHandColor)\n        .style('fill', 'none')\n\n    // add the y Axis\n    let yAxis = d3.axisLeft(yScale)\n        .tickFormat(d => {\n            if (d==0) {\n                return ''\n            } else {\n                return this.formatMinutes(d / this.fps)\n            }\n        })\n        .tickValues(d3.range(0, this.totalFrameNum, this.axisTimeRange))\n    container.append('g')\n        .attr('transform', 'translate(' + width + ',' + 0 + ')')\n        .call(yAxis)\n        // .call(d3.axisLeft(yScale))\n\n    ///////////////////////////////////////////////////////\n    // frame line\n    container.select('.timelineTwo-selected-frame').remove()\n    let yPosition = yScale(this.selectedFrameIdx)\n    this.frameLineTwo = container.append('g')\n        .attr('class', 'timelineTwo-selected-frame')\n        .append('path')\n        .attr('class', 'frame-line-two')\n        .attr('d', () => {\n            let d = 'M' + (width-clickAreaWidth) + ',' + yPosition\n            d += ' ' + (markAreaWidth+markSize) + ',' + yPosition\n            return d\n        })\n        .style('stroke', 'black')\n        .style('stroke-width', '1px')\n        .style('vector-effect', 'non-scaling-stroke')\n\n    // brush interaction\n    let brush = d3.brushY()\n        .extent([[markAreaWidth+markSize, 0], [width-clickAreaWidth, height]])\n        .on('end', brushed)\n\n    container.append('g')\n        .attr('class', 'brushY')\n        .call(brush)\n\n    function brushed() {\n        if (!d3.event.sourceEvent) return // Only transition after input.\n        let selectionBisect = []\n        if (d3.event.selection) {\n            // let s = d3.event.selection\n            let selection = d3.event.selection.map(yScale.invert)\n            selectionBisect = [Math.ceil(selection[0]), Math.floor(selection[1])]\n            pipeService.emitUpdateTextList([selectionBisect])\n            pipeService.emitUpdateTimeRange(selectionBisect)\n            pipeService.emitHighlightText(selectionBisect)\n            pipeService.emitHighlightPoint(selectionBisect)\n        } else {\n            pipeService.emitUpdateTextList([])\n            pipeService.emitUpdateTimeRange([0, 0]) // a bug here\n            pipeService.emitHighlightText([])\n            pipeService.emitHighlightPoint([])\n        }\n        pipeService.emitFrameBrush(selectionBisect)\n        // To do:\n        // brush and highligh projection circles\n    }\n\n    // add clickArea for jumping to video\n    let clickArea = container.append('g')\n        .attr('class', 'clickArea')\n        .attr('transform', 'translate(' + (width-clickAreaWidth) + ',' + 0 + ')')\n        .append('rect')\n        .attr('width', clickAreaWidth)\n        .attr('height', height)\n        .style('opacity', 0.05)\n        .style('fill', 'D6D6D6')\n\n    clickArea.on('click', function () {\n        let mouse = d3.mouse(this)\n        let _arrayIdx = Math.round(yScale.invert(mouse[1]))\n        let arrayIdx = _this.bisect(_this.frameIdxList, _arrayIdx)\n        _this.selectedFrameIdx = arrayIdx\n        // console.log('_this.selectedFrameIdx: ', _this.selectedFrameIdx)\n        pipeService.emitFrameSelectedFromTimeBar(_this.selectedFrameIdx)\n        pipeService.emitUpdateTimeFrame(_this.selectedFrameIdx)\n    })\n\n    // add gesture phase marker\n    let markArea = container.append('g')\n        .attr('class', 'markArea')\n        .attr('transform', 'translate(' + 0 + ',' + 0 + ')')\n    \n    markArea.append('rect')\n        .attr('width', markAreaWidth)\n        .attr('height', height)\n        .style('opacity', 0.05)\n        .style('fill', 'D6D6D6')\n        // .style('opacity', 0.1)\n        // .style('fill', 'red')\n    \n    pipeService.onUpdateTimelineMarker((selectedTimeRanges) => {\n        let markData = {\n            'selectedTimeRanges': selectedTimeRanges,\n            'yScale': yScale,\n            'areaMarkWidth': markAreaWidth\n        }\n        this.drawTimelineTwoMarker(markArea, markData)\n    })\n    \n    // frameLine from videoview\n    pipeService.onFrameSelectedFromVideo((arrayIdx) => {\n        this.selectedFrameIdx = arrayIdx\n        let yPosition = this.timelineTwoYScale(this.selectedFrameIdx)\n        this.frameLineTwo.transition()\n            .duration(200)\n            .attr('d', () => {\n                let d = 'M' + (width-clickAreaWidth) + ',' + yPosition\n                d += ' ' +  (markAreaWidth+markSize) + ',' + yPosition\n                return d\n            })\n    })\n\n    // frameLine from timebar\n    pipeService.onUpdateTimeFrame((arrayIdx) => {\n        this.selectedFrameIdx = arrayIdx\n        let yPosition = this.timelineTwoYScale(this.selectedFrameIdx)\n        this.frameLineTwo.transition()\n            .duration(200)\n            .attr('d', () => {\n                let d = 'M' + (width-clickAreaWidth) + ',' + yPosition\n                d += ' ' + (markAreaWidth+markSize) + ',' + yPosition\n                return d\n            })\n    })\n\n    // time range from timebar\n    pipeService.onUpdateTimeRange((selection) => {\n        // console.log('two, onUpdateTimeRange: ', selection)\n        if (selection.length == 0) {\n            d3.select('.brushY').call(brush.move, null)\n        } else {\n            d3.select('.brushY').transition().call(brush.move, selection.map(this.timelineTwoYScale))\n        }\n    })\n}\n\nDrawMatrix.prototype.drawTimelineTwoMarker = function (container, data) {\n    container.selectAll('g').remove()\n    let selectedTimeRanges = data['selectedTimeRanges']\n    let yScale = data['yScale']\n    let areaMarkWidth = data['areaMarkWidth']\n    let areaMarkContainer = container.append('g')\n        .attr('class', 'areaMark')\n    let areaClickContainer = container.append('g')\n        .attr('class', 'areaClick')\n        .attr('transform', 'translate(' + (areaMarkWidth+6) + ',' + 0 + ')')\n\n    let symbolGenerator = d3.symbol().size(70).type(d3.symbolTriangle)\n\n    areaMarkContainer.selectAll('rect')\n        .data(selectedTimeRanges)\n        .enter()\n        .append('rect')\n        .attr('class', 'selectedPhase')\n        .attr('x', 0)\n        .attr('y', (d) => yScale(d[0]))\n        .attr('width', areaMarkWidth)\n        .attr('height', (d) => {\n            let start = d[0]\n            let end = d[1]\n            return yScale(end) - yScale(start)\n        })\n        .style('opacity', 0.4)\n        .style('fill', 'red')\n    \n    \n    areaClickContainer.selectAll('path')\n        .data(selectedTimeRanges)\n        .enter()\n        .append('path')\n        .attr('transform', function(d) {\n            return 'translate(0,' + (yScale(d[0])+(yScale(d[1])-yScale(d[0]))/2) + ')rotate(-90)'\n        })\n        .attr('d', symbolGenerator())\n        // .style('opacity', 0.7)\n        // .style('fill', 'blue')\n        .style('opacity', 0.4)\n        .style('fill', 'red')\n        // .on('mouseover', handleMouseOver)\n        // .on('mouseout', handleMouseOut)\n        .on('click', function(d) {\n            pipeService.emitSeekFromPhase({\n                'startFrameIdx': d[0],\n                'endFrameIdx': d[1]\n            })\n        })\n\n    // Create Event Handlers for mouse\n    // function handleMouseOver(d) {  // Add interactivity\n    //     d3.select('#projectionCircle-'+d[2])\n    //         .style('stroke', 'blue')\n    //         .style('stroke-width', 1)\n    // }\n\n    // function handleMouseOut() {\n    //     d3.selectAll('.projectionCircle')\n    //         .style('stroke', 'blue')\n    //         .style('stroke-width', 0)\n    // }\n}\n\nDrawMatrix.prototype.drawTextList = function (frameRangeSelections) {\n    const _this = this\n    let textListSelection = []\n    for (let i=0; i<frameRangeSelections.length; i++) {\n        frameRangeSelections[i].push(i)\n        textListSelection.push(frameRangeSelections[i])\n        textListSelection.push(frameRangeSelections[i])\n    }\n    // console.log('drawTextList: textListSelection', textListSelection)\n    let gesturePhaseSentenceData = []\n    for (let i=0; i<frameRangeSelections.length; i++) {\n        let selectedSentence = []\n        let frameRange = frameRangeSelections[i]\n        let phaseStartTime = parseFloat((frameRange[0]/this.fps).toFixed(2))\n        let phaseEndTime = parseFloat((frameRange[1]/this.fps).toFixed(2))\n        for (let j=0; j<this.sentenceData.length; j++) {\n            let sentenceStartTime = parseFloat(this.sentenceData[j][0]['start_time'])\n            let sentenceEndTime = parseFloat(this.sentenceData[j][this.sentenceData[j].length-2]['end_time'])\n            if (phaseStartTime>sentenceEndTime) continue\n            if (phaseEndTime<sentenceStartTime) continue\n            selectedSentence = selectedSentence.concat(this.sentenceData[j])\n        }\n        gesturePhaseSentenceData.push(selectedSentence)\n    }\n\n    // console.log('gesturePhaseSentenceData: ', gesturePhaseSentenceData)\n    let sentenceWordHighlightList = []\n    let sentenceWordHighlightDict = []\n    for (let i=0; i<gesturePhaseSentenceData.length; i++) {\n        let wordIndexList = []\n        let wordIndexDict = {}\n        let sentence = gesturePhaseSentenceData[i]\n        let frameRange = frameRangeSelections[i]\n        // let phaseStartTime = parseFloat((frameRange[0]/this.fps).toFixed(2))\n        // let phaseEndTime = parseFloat((frameRange[1]/this.fps).toFixed(2))\n        let phaseStartTime = frameRange[0]/this.fps\n        let phaseEndTime = frameRange[1]/this.fps\n        for (let j=0; j<sentence.length; j++) {\n            let wordItem = sentence[j]\n            let wordStartTime = parseFloat(wordItem['start_time'])\n            let wordEndTime = parseFloat(wordItem['end_time'])\n            let wordDuration = wordEndTime - wordStartTime\n            wordItem['highlight'] = false\n            if ((wordStartTime >= (phaseStartTime-wordDuration)) && ((phaseEndTime+wordDuration) >= wordEndTime)) {\n                wordItem['highlight'] = true\n                wordIndexList.push(j)\n                wordIndexDict[j] = 1\n                \n            }\n        }\n        sentenceWordHighlightList.push(wordIndexList)\n        sentenceWordHighlightDict.push(wordIndexDict)\n    }\n    // console.log('sentenceWordHighlight: ', sentenceWordHighlight)\n\n    // draw text List\n    // collpase: https://getbootstrap.com/docs/4.3/components/collapse/\n    let textListWidth = this.matrixWidth-20\n    this.textContainer.selectAll('div').remove()\n    this.textContainer.selectAll('div')\n        .data(textListSelection)\n        .enter()\n        .append('div')\n        .attr('class', (_, i) => {\n            if (i%2==0) {\n                return 'speech-content ' + 'selected-content-' + Math.floor(i/2).toString()\n            } else {\n                return 'speech-feature ' + 'selected-feature-' + Math.floor(i/2).toString() + ' collapse'\n            }\n        })\n        .style('width', textListWidth+'px')\n        .style('height', (_, i) => {\n            if (i%2==0) {\n                return '80px'\n            } else {\n                return '100px'\n            }\n        })\n        .style('background-color', (_, i) => {\n            if (i%2==0) {\n                return '#e0e0e0'\n            } else {\n                return '#bababa'\n            }\n        })\n        .style('margin', '10px 20px 10px 10px')\n\n     d3.selectAll('.speech-content').each(splitArea)\n\n    function splitArea(_, i) {\n        let areaList = ['actionArea', 'textArea']\n        d3.select(this).selectAll('div')\n            .data(areaList)\n            .enter()\n            .append('div')\n            .attr('class', (d) => `${d}-${i} ${d}`)\n            .style('display', 'inline-block')\n            .style('overflow-x', (d) => {\n                if (d=='textArea') {\n                    return 'auto'\n                } else {\n                    return 'hidden'\n                }\n            })\n            .style('white-space', 'nowrap')\n            .style('width', (d) => {\n                if (d == 'textArea') {\n                    return '98%'\n                } else {\n                    return '2%'\n                }\n            })\n            .style('height', '100%')\n            .style('background-color', (d) => {\n                if (d=='textArea') {\n                    return '#e0e0e0'\n                } else {\n                    // return '#5aae61'\n                    return '#75C791'\n                }\n            })\n        // add interaction for action area\n        d3.select(this).selectAll('div.actionArea')\n            .on('click', handleActionAreaMouseClick)\n\n        d3.select(this).selectAll('div.textArea')\n            .on('click', handleTextAreaMouseClick)\n    }\n\n    function handleActionAreaMouseClick() {\n        // console.log('click')\n        // console.log('this: ', this)\n        // console.log('d3.select(this): ', d3.select(this))\n        // console.log(d3.select(this).node().parentNode)\n        // console.log('d3.select(this.parentNode).datum(): ', d3.select(this.parentNode).datum())\n        let idx = d3.select(this.parentNode).datum()[2]\n        // https://clubmate.fi/javascript-adding-and-removing-class-names-from-elements/\n        // if (i%2 !== 0) return\n        // console.log('id: ', i, 'selected-feature-' + Math.floor(i/2).toString())\n        let el = document.getElementsByClassName('selected-feature-' + idx.toString())[0]\n        if (el.classList.contains('show')) {\n            // Has show in it\n            el.classList.remove('show')\n        } else {\n            // No show:(\n            el.classList.add('show')\n        }\n    }\n\n    function handleTextAreaMouseClick() {\n        let idx = d3.select(this.parentNode).datum()[2]\n        // https://clubmate.fi/javascript-adding-and-removing-class-names-from-elements/\n        // console.log('idx, frameRangeSelections[idx]: ', idx, frameRangeSelections[idx])\n        let timeRange = frameRangeSelections[idx]\n        pipeService.emitClickFromTextlist(timeRange)\n\n        // let timeTimeRangeToDynamic = frameRangeSelections[idx]\n        // let timeTimeRangeToVideo = {\n        //     'phaseIdx': frameRangeSelections[idx][2],\n        //     'startFrameIdx': frameRangeSelections[idx][0],\n        //     'endFrameIdx': frameRangeSelections[idx][1]\n        // }\n        // pipeService.emitFrameBrush(timeTimeRangeToDynamic)        \n        // pipeService.emitSeekFromPhase(timeTimeRangeToVideo)\n    }\n\n    // draw text\n    d3.selectAll('.listStickman').remove()\n    d3.selectAll('.speech-content').selectAll('.textArea').each(drawText)\n    function drawText() {\n        // https://stackoverflow.com/questions/47911669/forcing-horizontal-scrollbar-and-all-child-divs-in-one-line\n        let idx = d3.select(this.parentNode).datum()[2]\n        let wordDiv = d3.select(this).selectAll('div')\n            .data(gesturePhaseSentenceData[idx])\n            .enter()\n            .append('div')\n            .style('display', 'inline-block')\n            .style('margin', '5px 3px')\n            \n            // .style('border-color', 'red')\n            .style('border', (_, i) => {\n                if (i in sentenceWordHighlightDict[idx]) {\n                    return '1px solid rgba(255, 0, 0, 1)'\n                } else {\n                    return '1px solid rgba(255, 0, 0, 0)'\n                }\n            })\n\n\n            // word\n            wordDiv.each(drawEachWord)\n\n            function drawEachWord (d, i) {\n                d3.select(this).append('div')\n                    .attr('class', () => `sentence-${idx}-word-${i}`)\n                    .style('user-select', 'none')\n                    .text(d.word)\n                    .style('color', () => {\n                        if (d.polarity > 0.1) {\n                            return 'red'\n                        } else if (d.polarity < -0.1) {\n                            return 'blue'\n                        }\n                    })\n            }\n\n            // gesture\n            let stickmanGraphWidth = 40\n            let stickmanGraphHeight = 40\n            let gestureSpaceXScale = d3.scaleLinear()\n                .domain([globalConfig.gestureSpace.extremePeriphery.left, globalConfig.gestureSpace.extremePeriphery.left+globalConfig.gestureSpace.extremePeriphery.width])\n                .range([0, stickmanGraphWidth])\n\n            let gestureSpaceYScale = d3.scaleLinear()\n                .domain([globalConfig.gestureSpace.extremePeriphery.top, globalConfig.gestureSpace.extremePeriphery.top+globalConfig.gestureSpace.extremePeriphery.height])\n                .range([0, stickmanGraphHeight])\n            if (_this.showGesture) {\n                wordDiv.each(drawStickman)\n            }\n            wordDiv.each(drawStickman)\n\n            function drawStickman (d, i) {\n                if (d['type'] === 'punctuation') return\n                if (!d['jointData'] || d['jointData'].length == 0) return\n                let jointData = d['jointData'].filter((d) => d.length!=0)\n                if (jointData.length === 0) return\n                // console.log('idx, i, `.sentence-${idx}-word-${i}`, ', idx, i, $(`.sentence-${idx}-word-${i}`), $(`.sentence-${idx}-word-${i}`).outerWidth())\n                // let wordWidth = $(`.sentence-${idx}-word-${i}`).outerWidth()\n                let wordWidth = 42\n                let stickmanSvgWidth = 42\n                let stickmanSvgHeight = 40\n                // let stickmanDiv = d3.select(this).append('div')\n                \n                d3.select(this).selectAll('.listStickman').remove()\n                let stickmanDiv = d3.select(this).insert('div',':first-child')\n                    .attr('class', `stickman-${i} stickman listStickman`)\n                    .style('width', `${wordWidth}px`)\n                    .style('height', `${stickmanSvgHeight}px`)\n                    // .style('margin', '10px 0px -15px 0px')\n                    .style('cursor', 'pointer')\n                    .style('display', function() {\n                        if (_this.showGesture) {\n                            return 'block'\n                        } else {\n                            return 'none'\n                        }\n                    })\n                    .on('click', function() {\n                        let wordStartTime = parseFloat(d['start_time'])\n                        let wordEndTime = parseFloat(d['end_time'])\n                        let wordStartFrame = Math.max(0, Math.floor(wordStartTime * _this.fps))\n                        let wordEndFrame = Math.min(_this.totalFrameNum, Math.ceil(wordEndTime * _this.fps))\n                        pipeService.emitSeekFromPhase({\n                            'startFrameIdx': wordStartFrame,\n                            'endFrameIdx': wordEndFrame\n                        })\n                    })\n\n                let stickmanSvg = stickmanDiv.append('svg')\n                    .style('width', stickmanSvgWidth)\n                    .style('height', stickmanSvgHeight)\n                    \n                \n                let xOffset = (stickmanSvgWidth-stickmanGraphWidth)/2\n                let yOffset = (stickmanSvgHeight-stickmanGraphHeight)/2\n                let stickmanMargin = {top: yOffset+10, right: xOffset, bottom: yOffset, left: xOffset}\n\n                let stickmanGraph = stickmanSvg.append('g')\n                    .attr('class', 'stickmanGraph')\n                    .attr('transform', 'translate(' + stickmanMargin.left + ', ' + stickmanMargin.top + ')')\n                \n                let oneStickmanContainer = stickmanGraph.append('g')\n                    .attr('class', 'stickmans')\n\n                oneStickmanContainer.selectAll('.oneStickman')\n                    .data(jointData)\n                    .enter()\n                    .append('g')\n                    .attr('class', 'oneStickman')\n                    .each(drawOneStickman)\n\n                function drawOneStickman(jointPoints) {\n                    \n                    d3.select(this).append('g')\n                        .attr('class', 'body-point-connection')\n                        .selectAll('line')\n                        .data(globalConfig.UPBODYPairs)\n                        .enter()\n                        .append('line')\n                        .attr('x1', d => gestureSpaceXScale(jointPoints[d[0]][0]))\n                        .attr('y1', d => gestureSpaceYScale(jointPoints[d[0]][1]))\n                        .attr('x2', d => gestureSpaceXScale(jointPoints[d[1]][0]))\n                        .attr('y2', d => gestureSpaceYScale(jointPoints[d[1]][1]))\n                        .style('stroke', '#bdbdbd')\n                        .style('stroke-width', 1.5) // original one is 4\n                        .style('opacity', 0.5)\n                }\n            }\n    }\n\n    // initialize scroll position\n    d3.selectAll('.speech-content').selectAll('.textArea').each(initializeScrollPosition)\n\n    function initializeScrollPosition () {\n        let idx = d3.select(this.parentNode).datum()[2]\n        if (sentenceWordHighlightList[idx].length == 0) return\n        let highlightWordIdx = sentenceWordHighlightList[idx][0]\n        let firstHighlightWordOffsetLeft = d3.select(`.sentence-${idx}-word-${highlightWordIdx}`).node().offsetLeft\n        // console.log('firstWordOffsetLeft: ', firstHighlightWordOffsetLeft)\n        d3.select(`.textArea-${idx}`).node().scrollLeft = (firstHighlightWordOffsetLeft-20)\n    }\n}\n\nDrawMatrix.prototype.genSentenceData = function (data) {\n    let wordData = data\n    let sentenceData = []\n    let oneSentence = []\n    for (let i=0; i<wordData.length; i++) {\n        let wordItem = wordData[i]\n        wordItem['sentenceIdx'] = sentenceData.length\n        oneSentence.push(wordItem)\n        if (wordItem['type'] === 'punctuation') {\n            sentenceData.push(oneSentence)\n            oneSentence = []\n        }\n        if (i===wordData.length-1 && oneSentence.length!==0) {\n            sentenceData.push(oneSentence)\n        }\n    }\n    return sentenceData\n}\n\n\nDrawMatrix.prototype.drawTranscript = function (textData) {\n    (function(){\n        d3.custom = {}\n        let dragTarget = null\n        // let hoverTarget = null\n        let sentenceSelected = false\n        let wordStartIdx = null\n        let wordEndIdx = null\n\n        d3.custom.brush = function(d){\n            // console.log('in d3.custom.brush, d', d)\n            d.on('mousedown', function(){brushStart(this, event)})\n                // .on('mousemove', function(){brushDrag(this, event)})\n                .on('mouseup', function(){brushStop(this, event)})\n            d3.select(document).on('mouseup', function(){brushStop(this, event)})\n            document.oncontextmenu = function(){return false }\n            document.onselectstart = function(){return false }\n        }\n\n        function brushStart(_, event){\n            // console.log('brushStart, sentenceSelected: ', sentenceSelected)\n            if (sentenceSelected) {\n                d3.select('#transcript-content').selectAll('.word').style('border-bottom', '1px solid rgba(255, 0, 0, 0)')\n                sentenceSelected = false\n                _this.wordStartIdx = wordStartIdx\n                _this.wordEndIdx = wordEndIdx\n                _this.sentenceSelected = sentenceSelected\n            }\n            dragTarget = event.target\n            let classAttr = d3.select(dragTarget).attr('class')\n            wordStartIdx = parseInt(classAttr.split(' ')[0].split('-')[1])\n        }\n\n        // function brushDrag(_, event){\n        //     hoverTarget = event.target\n        //     if (dragTarget && !sentenceSelected){\n        //         let classAttr = d3.select(hoverTarget).attr('class')\n        //         wordEndIdx = parseInt(classAttr.split(' ')[0].split('-')[1])\n        //         console.log('wordEndIdx: ', wordStartIdx, wordEndIdx)\n        //         // if (Number.isInteger(wordStartIdx) && Number.isInteger(wordEndIdx)) {\n        //         //     d3.select('#transcript-content').selectAll('.word').style('border-bottom', '1px solid rgba(255, 0, 0, 0)')\n        //         //     for (let i=wordStartIdx; i<=wordEndIdx; i++) {\n        //         //         d3.select('#transcript-content').select(`.word-${i}`).style('border-bottom', '1px solid rgba(255, 0, 0, 1)')\n        //         //     }\n        //         // }\n        //     }\n        // }\n\n        function brushStop(_, event){\n            // console.log('brushStop, sentenceSelected: ', sentenceSelected)\n            if (dragTarget && !sentenceSelected){\n                let targetElement = event.target;\n                let classAttr = d3.select(targetElement).attr('class')\n                // console.log('classAttr: ', classAttr)\n                wordEndIdx = parseInt(classAttr.split(' ')[0].split('-')[1])\n                // console.log('brushStop wordStartIdx: ', wordStartIdx)\n                // console.log('brushStop wordEndIdx: ', wordEndIdx)\n                // console.log('wordEndIdx: ', wordStartIdx, wordEndIdx)\n                let textAreaList = []\n                if (Number.isInteger(wordStartIdx) && Number.isInteger(wordEndIdx)) {\n                    d3.select('#transcript-content').selectAll('.word').style('border-bottom', '1px solid rgba(255, 0, 0, 0)')\n                    for (let i=wordStartIdx; i<=wordEndIdx; i++) {\n                        d3.select('#transcript-content').select(`.word-${i}`).style('border-bottom', '1px solid rgba(255, 0, 0, 1)')\n                        textAreaList.push(_this.textData[i].word)\n                    }\n                }\n                sentenceSelected = true\n                // console.log('textAreaList: ', textAreaList)\n                ////////////////////////////////////////////////////////////////////////////////////\n                // finish selection\n                // document.getElementById('userSelectedSentence').value = textAreaList.join(' ')\n                _this.wordStartIdx = wordStartIdx\n                _this.wordEndIdx = wordEndIdx\n                _this.sentenceSelected = sentenceSelected\n                startSearch()\n            }\n            dragTarget = null\n            wordStartIdx = null\n            wordEndIdx = null\n        }\n    })()\n\n    const _this = this\n    d3.select('#transcript-content').selectAll('*').remove()\n    \n    let wordDiv = d3.select('#transcript-content')\n        .selectAll('div')\n        .data(textData)\n        .enter()\n        .append('div')\n        .style('display', 'inline-block')\n        \n    // word\n    wordDiv.each(drawEachWord)\n\n    function drawEachWord (d, i) {\n        d3.select(this).append('div')\n            .attr('class', `word-${i} word`)\n            .attr('selected', false)\n            // .style('display', 'inline-block')\n            .style('user-select', 'none')\n            .style('padding', '0px 3px 1px 3px')\n            .style('cursor', 'crosshair')\n            .style('border-bottom', '1px solid rgba(255, 0, 0, 0)')\n            .call(d3.custom.brush)\n            .text(d.word)\n            // .style('color', (d) => {\n            //     if (d.polarity > 0.1) {\n            //         return 'red'\n            //     } else if (d.polarity < -0.1) {\n            //         return 'blue'\n            //     }\n            // })\n    }\n\n    // gesture\n    let stickmanGraphWidth = 40\n    let stickmanGraphHeight = 40\n    let variationThreshold = 0.4\n    let stdXYJointThreshold = 0.5\n    let gestureSpaceXScale = d3.scaleLinear()\n        .domain([globalConfig.gestureSpace.extremePeriphery.left, globalConfig.gestureSpace.extremePeriphery.left+globalConfig.gestureSpace.extremePeriphery.width])\n        .range([0, stickmanGraphWidth])\n\n    let gestureSpaceYScale = d3.scaleLinear()\n        .domain([globalConfig.gestureSpace.extremePeriphery.top, globalConfig.gestureSpace.extremePeriphery.top+globalConfig.gestureSpace.extremePeriphery.height])\n        .range([0, stickmanGraphHeight])\n    // if (_this.showGesture) {\n    //     wordDiv.each(drawStickman)\n    // }\n    wordDiv.each(drawStickman)\n\n    function drawStickman (d, i) {\n        if (d['type'] === 'punctuation') {\n            if (i<textData.length-2 && (_this.changeDistanceScale(textData[i+1]['changeDistance'])>variationThreshold)) {\n                // console.log('textData[i][word]: ', textData[i]['word'])\n                let wordWidth = $(`.word-${i}`).outerWidth()\n                let stickmanSvgWidth = wordWidth\n                let stickmanSvgHeight = 40\n                // let stickmanDiv = d3.select(this).append('div')\n                let stickmanDiv = d3.select(this).insert('div',':first-child')\n                    .attr('class', `stickman-${i} stickman`)\n                    .style('width', `${wordWidth}px`)\n                    .style('height', `${stickmanSvgHeight}px`)\n                    .style('display', function() {\n                        if (_this.showGesture) {\n                            return 'block'\n                        } else {\n                            return 'none'\n                        }\n                    })\n                \n                let stickmanSvg = stickmanDiv.append('svg')\n                    .style('width', stickmanSvgWidth)\n                    .style('height', stickmanSvgHeight)\n\n                let changePointGraph = stickmanSvg.append('g')\n                    .attr('class', 'changePoint')\n                    .attr('transform', 'translate(' + stickmanSvgWidth/2 + ', ' + 0 + ')')\n\n                // left change point\n                let leftPoints = `${0},3,${-5},3,${0},13`\n                changePointGraph.append('polyline')\n                    .attr('class', 'leftPoints')\n                    // .style('fill', 'green')\n                    .style('fill', '#75C791')\n                    // .style('fill', '#fdae6b')\n                    .attr('points', leftPoints) \n\n                // right change point\n                let rightPoints = `${0},3,${5},3,${0},13`\n                changePointGraph.append('polyline')\n                    .attr('class', 'rightPoints')\n                    // .style('fill', 'green')\n                    .style('fill', '#75C791')\n                    // .style('fill', '#fdae6b')\n                    .attr('points', rightPoints)\n            }\n            return\n        }\n        if (!d['jointData'] || d['jointData'].length == 0) return\n        let jointData = d['jointData'].filter((d) => d.length!=0)\n        if (jointData.length === 0) return\n        let stdXYJoint = d['stdXYJoint']\n        // let changeDistance = d['changeDistance']\n        // console.log('jointData: ', jointData)\n        let wordWidth = $(`.word-${i}`).outerWidth()\n        let stickmanSvgWidth = wordWidth\n        let stickmanSvgHeight = 40\n        // let stickmanDiv = d3.select(this).append('div')\n        let stickmanDiv = d3.select(this).insert('div',':first-child')\n            .attr('class', `stickman-${i} stickman`)\n            .style('width', `${wordWidth}px`)\n            .style('height', `${stickmanSvgHeight}px`)\n            // .style('margin', '10px 0px -15px 0px')\n            .style('cursor', 'pointer')\n            .style('display', function() {\n                if (_this.showGesture) {\n                    return 'block'\n                } else {\n                    return 'none'\n                }\n            })\n            .on('click', function() {\n                let wordStartTime = parseFloat(d['start_time'])\n                let wordEndTime = parseFloat(d['end_time'])\n                let wordStartFrame = Math.max(0, Math.floor(wordStartTime * _this.fps))\n                let wordEndFrame = Math.min(_this.totalFrameNum, Math.ceil(wordEndTime * _this.fps))\n                pipeService.emitSeekFromPhase({\n                    'startFrameIdx': wordStartFrame,\n                    'endFrameIdx': wordEndFrame\n                })\n            })\n\n        let stickmanSvg = stickmanDiv.append('svg')\n            .style('width', stickmanSvgWidth)\n            .style('height', stickmanSvgHeight)\n            \n        \n        // let stickmanGraphWidth = 20\n        // let stickmanGraphHeight = 20\n        \n        let xOffset = (stickmanSvgWidth-stickmanGraphWidth)/2\n        let yOffset = (stickmanSvgHeight-stickmanGraphHeight)/2\n        let stickmanMargin = {top: yOffset+10, right: xOffset, bottom: yOffset, left: xOffset}\n\n        let stickmanGraph = stickmanSvg.append('g')\n            .attr('class', 'stickmanGraph')\n            .attr('transform', 'translate(' + stickmanMargin.left + ', ' + stickmanMargin.top + ')')\n        \n        let changePointGraph = stickmanSvg.append('g')\n            .attr('class', 'changePoint')\n        \n        // current word idx\n        let curChangeDistance = textData[i]['changeDistance']\n        \n        if (i>1 && !(textData[i-1]['type'] == 'punctuation')) {\n            if (_this.changeDistanceScale(curChangeDistance) > variationThreshold) {\n                let leftPoints = `${0},3,${5},3,${0},13`\n                changePointGraph.append('polyline')\n                    .attr('class', 'leftPoints')\n                    // .style('fill', 'green')\n                    .style('fill', '#75C791')\n                    // .style('fill', '#fdae6b')\n                    .attr('points', leftPoints) \n                }  \n        }\n\n        if (i<textData.length-1 && !(textData[i+1]['type'] === 'punctuation')) {\n            let nextChangeDistance = textData[i+1]['changeDistance']\n            if (_this.changeDistanceScale(nextChangeDistance) > variationThreshold) {\n                let rightPoints = `${stickmanSvgWidth},3,${stickmanSvgWidth-5},3,${stickmanSvgWidth},13`\n                changePointGraph.append('polyline')\n                    .attr('class', 'rightPoints')\n                    // .style('fill', 'green')\n                    .style('fill', '#75C791')\n                    // .style('fill', '#fdae6b')\n                    .attr('points', rightPoints)\n            }\n        }\n\n    \n        \n        \n        // let changeCurveGraph = stickmanSvg.append('g')\n        //     .attr('class', 'changeCurve')\n\n        // let changeCurveLine = d3.linkHorizontal()\n        //     .x(function(d) { return d[0] }) \n        //     .y(function(d) { return d[1] })\n        \n        // // console.log('changeDistance: ', changeDistance)\n        // // console.log('_this.changeDistanceScale(changeDistance): ', _this.changeDistanceScale(changeDistance))\n        // let changeCurveData = [\n        //     {\n        //         source: [0, _this.changeDistanceScale(0)],\n        //         target: [stickmanSvgWidth/2, _this.changeDistanceScale(changeDistance)]\n        //     },\n        //     {\n        //         source: [stickmanSvgWidth/2, _this.changeDistanceScale(changeDistance)],\n        //         target: [stickmanSvgWidth, _this.changeDistanceScale(0)]\n        //     }\n        // ]\n        // // console.log('changeCurveData: ', changeCurveData)\n        // changeCurveGraph.selectAll('path')\n        //     .data(changeCurveData)\n        //     .enter()\n        //     .append('path')\n        //     .attr('class', 'line changeCurve-' + i)\n        //     .style('stroke', function() {\n        //         return 'blue'\n        //     })\n        //     .attr('d', changeCurveLine)\n        //     .style('fill', 'none')\n        //     .style('opacity', '0.6')\n\n        // stickmanGraph.append('rect')\n        //     .attr('width', stickmanGraphWidth)\n        //     .attr('height', stickmanGraphHeight)\n        //     .style('fill', 'red')\n        //     .style('opacity', 0)\n\n        // let gestureSpaceContainer = stickmanGraph.append('g')\n        //         .attr('class', 'gesture-space')\n        \n        // let gestureArea = ['centerCenter', 'center', 'periphery']\n        // gestureSpaceContainer\n        //     .selectAll('rect')\n        //     .data(gestureArea)\n        //     .enter()\n        //     .append('rect')\n        //     .attr('x', (d) => gestureSpaceXScale(globalConfig.gestureSpace[d].left))\n        //     .attr('y', (d) => gestureSpaceYScale(globalConfig.gestureSpace[d].top))\n        //     .attr('width', (d) => {\n        //         return gestureSpaceXScale(globalConfig.gestureSpace[d].left+globalConfig.gestureSpace[d].width) - gestureSpaceXScale(globalConfig.gestureSpace[d].left)\n        //     })\n        //     .attr('height', (d) => {\n        //         return gestureSpaceYScale(globalConfig.gestureSpace[d].top+globalConfig.gestureSpace[d].height) - gestureSpaceYScale(globalConfig.gestureSpace[d].top)\n        //     })\n        //     .style('fill', 'rgba(0,0,0,0)')\n        //     .style('stroke', '#2378ae')\n        //     .style('stroke-dasharray', '2,2')\n        //     .style('stroke-linecap', 'butt')\n        //     .style('stroke-width', '1')\n        \n        let oneStickmanContainer = stickmanGraph.append('g')\n            .attr('class', 'stickmans')\n\n        oneStickmanContainer.selectAll('.oneStickman')\n            .data(jointData)\n            .enter()\n            .append('g')\n            .attr('class', 'oneStickman')\n            .each(drawOneStickman)\n\n        function drawOneStickman(jointPoints) {\n            // d3.select(this).append('g')\n            //     .attr('class', 'bodyPoints')\n            //     .selectAll('cirlce')\n            //     .data(jointPoints)\n            //     .enter()\n            //     .append('circle')\n            //     .attr('cx', d => gestureSpaceXScale(d[0]))\n            //     .attr('cy', d => gestureSpaceYScale(d[1]))\n            //     .attr('r', 1)\n            //     .style('fill', 'red')\n            \n            d3.select(this).append('g')\n                .attr('class', 'body-point-connection')\n                .selectAll('line')\n                .data(globalConfig.UPBODYPairs)\n                .enter()\n                .append('line')\n                .attr('x1', d => gestureSpaceXScale(jointPoints[d[0]][0]))\n                .attr('y1', d => gestureSpaceYScale(jointPoints[d[0]][1]))\n                .attr('x2', d => gestureSpaceXScale(jointPoints[d[1]][0]))\n                .attr('y2', d => gestureSpaceYScale(jointPoints[d[1]][1]))\n                .style('stroke', '#bdbdbd')\n                .style('stroke-width', 1.5) // original one is 4\n                .style('opacity', _this.stdXYJointScale(stdXYJoint))\n        }\n\n        // draw average stickman\n        let averageJoint = d['averageJoint']\n        oneStickmanContainer.append('g')\n            .attr('class', 'averageStickman')\n            .selectAll('line')\n            .data(globalConfig.UPBODYPairs)\n            .enter()\n            .append('line')\n            .attr('x1', d => gestureSpaceXScale(averageJoint[d[0]][0]))\n            .attr('y1', d => gestureSpaceYScale(averageJoint[d[0]][1]))\n            .attr('x2', d => gestureSpaceXScale(averageJoint[d[1]][0]))\n            .attr('y2', d => gestureSpaceYScale(averageJoint[d[1]][1]))\n            .style('stroke', () => {\n                if (_this.stdXYJointScale(stdXYJoint)>stdXYJointThreshold) {\n                    // return 'red'\n                    return '#fb6a4a'\n                } else {\n                    return 'black'\n                }\n            })\n            .style('stroke-width', 0.5) // original one is 4\n            .style('opacity', () => {\n                if (_this.stdXYJointScale(stdXYJoint)>stdXYJointThreshold) {\n                    return 1\n                } else {\n                    return _this.stdXYJointScale(stdXYJoint)\n                }\n            })\n        \n    }\n    \n    function startSearch() {\n        if (_this.sentenceSelected && Number.isInteger(_this.wordStartIdx) && Number.isInteger(_this.wordEndIdx)) {\n            let startTime = -1\n            let endTime = -1\n            if (_this.textData[_this.wordStartIdx]['type'] == 'pronunciation') {\n                startTime = parseFloat(_this.textData[_this.wordStartIdx]['start_time'])\n            } else {\n                startTime = parseFloat(_this.textData[_this.wordStartIdx+1]['start_time'])\n            }\n\n            if (_this.textData[_this.wordEndIdx]['type'] == 'pronunciation') {\n                endTime = parseFloat(_this.textData[_this.wordEndIdx]['end_time'])\n            } else {\n                endTime = parseFloat(_this.textData[_this.wordEndIdx-1]['end_time'])\n            }\n\n            let selectedSentenceInfo = {\n                'wordStartIdx': _this.wordStartIdx,\n                'wordEndIdx': _this.wordEndIdx,\n                'startTime': startTime,\n                'endTime': endTime,\n                'startFrame': Math.max(0, Math.ceil(startTime*_this.fps)),\n                'endFrame': Math.min(_this.totalFrameNum, Math.floor(endTime*_this.fps))\n            }\n            // console.log('selectedSentenceInfo: ', selectedSentenceInfo)\n            pipeService.emitSearchSentence(selectedSentenceInfo)\n            // pipeService.emitHighlightPoint([selectedSentenceInfo['startFrame'], selectedSentenceInfo['endFrame']])\n        }\n    }\n\n\n    let matchButton = document.getElementById('matchWord')\n    matchButton.addEventListener('click', startMatch)\n\n    function startMatch() {\n        let inputWord = document.getElementById('matchWordValue').value.toLowerCase()\n        if (inputWord.length === 0) {\n            pipeService.emitHighlightWord([])\n            console.log('need to input a word')\n            return\n        }\n        let matchWordList = []\n        let highlightWordIndexList = []\n        for (let i=0; i<_this.textData.length; i++) {\n            let curWord = _this.textData[i]['word'].toLowerCase()\n            if (inputWord == curWord) {\n                matchWordList.push(_this.textData[i])\n                highlightWordIndexList.push(i)\n            }\n        }\n        // console.log('matchWordList: ', matchWordList)\n\n        let frameRangeSelections = []\n        \n        for (let i=0; i<matchWordList.length; i++) {\n            let wordItem = matchWordList[i]\n            let wordStartTime = parseFloat(wordItem['start_time'])\n            let wordEndTime = parseFloat(wordItem['end_time'])\n            let wordStartFrame = Math.max(0, Math.ceil(wordStartTime * _this.fps))\n            let wordEndFrame = Math.min(_this.totalFrameNum, Math.floor(wordEndTime * _this.fps))\n            frameRangeSelections.push([wordStartFrame, wordEndFrame])\n        }\n        pipeService.emitHighlightWord(highlightWordIndexList)\n        pipeService.emitMatchWord(frameRangeSelections)\n    }\n\n}\n\nDrawMatrix.prototype.genStickmanData = function () {\n    ////////////////////////////////////////////////////////////////\n    // gesture space mapping\n    // 0, 1, 2, 3, 4, 5, 6, 7, 8\n    // this.gestureSpaceData = []\n    // map to gesture space\n    // map pose data from video to gesture space labeled by ourselves\n    let jointXScale = d3.scaleLinear() // joint 1 and 8; distance scale\n        .range([0, Math.abs(globalConfig.skeletonInit.points['1'][1]-globalConfig.skeletonInit.points['8'][1])])\n\n    for (let i=0; i<Object.keys(this.poseData).length; i++) {\n        if (this.poseData[i.toString()]['people'].length !== 1) {\n            this.gestureSpaceData.push([])\n            continue\n        }\n        let pose_keypoints = this.poseData[i.toString()]['people'][0]['pose_keypoints_2d']\n        if (pose_keypoints[0*3+2]===0 || \n            pose_keypoints[1*3+2]===0 || \n            pose_keypoints[2*3+2]===0 ||\n            pose_keypoints[3*3+2]===0 ||\n            pose_keypoints[4*3+2]===0 || \n            pose_keypoints[5*3+2]===0 || \n            pose_keypoints[6*3+2]===0 || \n            pose_keypoints[7*3+2]===0 ||\n            pose_keypoints[8*3+2]===0) {\n                this.gestureSpaceData.push([])\n                continue\n            }\n\n        // jointXScale.domain([0, Math.abs(pose_keypoints[2*3+0]-pose_keypoints[5*3+0])])\n        jointXScale.domain([0, Math.abs(pose_keypoints[1*3+1]-pose_keypoints[8*3+1])])\n        let jointFrameData = []\n        for (let k=0; k<8; k++) {\n            let jointPosition = [\n                globalConfig.skeletonInit.points['2'][0]+jointXScale(pose_keypoints[k*3+0]-pose_keypoints[2*3+0]),\n                globalConfig.skeletonInit.points['2'][1]+jointXScale(pose_keypoints[k*3+1]-pose_keypoints[2*3+1])\n            ]\n            jointFrameData.push(jointPosition)\n        }\n        this.gestureSpaceData.push(jointFrameData)\n    }\n\n    // console.log('gestureSpaceData: ', this.gestureSpaceData)\n\n    ////////////////////////////////////////////////////////////////\n    // calculate stickman\n    // 0, 1, 2, 3, 4, 5, 6, 7, 8\n    for (let i=0; i<this.textData.length; i++) {\n        let wordItem = this.textData[i]\n        if (wordItem.type === 'punctuation') continue\n        let wordStartTime = parseFloat(wordItem['start_time'])\n        let wordEndTime = parseFloat(wordItem['end_time'])\n        let wordStartFrame = Math.max(0, Math.floor(wordStartTime * this.fps))\n        let wordEndFrame = Math.min(this.totalFrameNum, Math.ceil(wordEndTime * this.fps))\n        wordItem['jointData'] = this.gestureSpaceData.slice(wordStartFrame, wordEndFrame)\n\n        let filterJointData = wordItem['jointData'].filter((d) => d.length!=0)\n\n        if (filterJointData.length === 0) {\n            wordItem['averageJoint'] = []\n        } else {\n            // calculate average joint\n            let averageJoint = []\n            let averageStdXY = 0\n            for (let k=0; k<8; k++) {\n                let jointX = 0\n                let jointY = 0\n                for (let j=0; j<filterJointData.length; j++) {\n                    let jointData = filterJointData[j]\n                    jointX += jointData[k][0]\n                    jointY += jointData[k][1]\n                }\n                let averageJointX = jointX/filterJointData.length\n                let averageJointY = jointY/filterJointData.length\n                averageJoint.push([averageJointX, averageJointY])\n\n                let varXY = 0\n                for (let j=0; j<filterJointData.length; j++) {\n                    let jointData = filterJointData[j]\n                    varXY += Math.pow(jointData[k][0]-averageJointX, 2)\n                    varXY += Math.pow(jointData[k][1]-averageJointY, 2)\n                }\n                // let stdXY = Math.sqrt(varXY)/filterJointData.length\n                let stdXY = Math.sqrt(varXY)  // error, should be: Math.sqrt(varXY/filterJointData.length)\n                averageStdXY += stdXY\n            }\n            wordItem['averageJoint'] = averageJoint\n            wordItem['stdXYJoint'] = averageStdXY/8\n            if (this.stdXYJointMax < wordItem['stdXYJoint']) this.stdXYJointMax = wordItem['stdXYJoint']\n            if (this.stdXYJointMin > wordItem['stdXYJoint']) this.stdXYJointMin = wordItem['stdXYJoint']\n\n            if (i==0) {\n                wordItem['changeDistance'] = -1\n            } else {\n                let gestureA = []\n                let gestureB = []\n                let changeDistance = 0\n                if (this.textData[i]['type'] === 'punctuation') continue\n                gestureB = this.textData[i]\n                \n                if (this.textData[i-1]['type'] === 'punctuation') {\n                    gestureA = this.textData[i-2]\n                } else {\n                    gestureA = this.textData[i-1]\n                }\n\n                if (gestureA['averageJoint'].length == 0) {\n                    changeDistance = -2\n                } else if (gestureB['averageJoint'].length == 0) {\n                    changeDistance = -3\n                } else {\n                    changeDistance = gestureDistance(gestureA['averageJoint'], gestureB['averageJoint'])\n                    if (this.changeDistanceMax < changeDistance) this.changeDistanceMax = changeDistance\n                    if (this.changeDistanceMin > changeDistance) this.changeDistanceMin = changeDistance\n                }\n                wordItem['changeDistance'] = changeDistance\n            }\n        }\n    }\n    // console.log('this.textData: ', this.textData)\n\n\n    function gestureDistance (gestureA, gestureB) {\n        // [[x, y], [x, y], []....]\n        let distance = 0\n        for (let i=0; i<gestureA.length; i++) {\n            distance += Math.sqrt(Math.pow(gestureA[i][0]-gestureB[i][0], 2) + Math.pow(gestureA[i][1]-gestureB[i][1], 2))\n        }\n        return distance\n    }\n\n    this.stdXYJointScale = d3.scaleLinear()\n        .domain([this.stdXYJointMin, this.stdXYJointMax])\n        .range([0, 1])\n    \n    this.changeDistanceScale = d3.scaleLinear()\n        .domain([this.changeDistanceMin, this.changeDistanceMax])\n        .range([0, 1])\n        .clamp(true)\n\n    // console.log('this.changeDistanceMin: ', this.changeDistanceMin)\n    // console.log('this.changeDistanceMax: ', this.changeDistanceMax)\n    // console.log('this.stdXYJointMin: ', this.stdXYJointMin)\n    // console.log('this.stdXYJointMax: ', this.stdXYJointMax)\n\n    let stickmanData = {\n        'textData': this.textData,\n        'stdXYJointDomain': [this.stdXYJointMin, this.stdXYJointMax],\n        'changeDistanceDomain': [this.changeDistanceMin, this.changeDistanceMax]\n    }\n\n    dataService.saveData(this.videoInfo['videoId'], 'stickmanData', stickmanData, (feedback) => {\n        console.log('stickmanData feedback: ', feedback)\n    })\n}\n\nexport default DrawMatrix","// /* global d3 $ */\nimport DrawMatrix from './drawMatrix.js'\nimport pipeService from '../../service/pipeService.js'\n\nexport default {\n    name: 'MatrixView',\n    components: {\n    },\n    props: {\n        videoId: String,\n        videoData: Object\n    },\n    data() {\n        return {\n            containerId: 'matrixContainer',\n            gestureToggled: true\n        }\n    },\n    watch: {\n        videoData: function (videoData) {\n            this.drawMatrix.layout(videoData)\n        },\n        gestureToggled: function(gestureToggled) {\n            // console.log('gestureToggled: ', gestureToggled)\n            this.gestureToggled = gestureToggled\n            pipeService.emitTextShowGesture(this.gestureToggled)\n        }\n    },\n    mounted: function () {\n        this.drawMatrix = new DrawMatrix(this.containerId)\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./MatrixView.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./MatrixView.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MatrixView.html?vue&type=template&id=c4132750&scoped=true&\"\nimport script from \"./MatrixView.js?vue&type=script&lang=js&\"\nexport * from \"./MatrixView.js?vue&type=script&lang=js&\"\nimport style0 from \"./MatrixView.vue?vue&type=style&index=0&id=c4132750&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4132750\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"dynamicview\"}},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\",staticStyle:{\"padding\":\"6px 12px\"}},[_c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"20px\"}},[_c('h6',{staticStyle:{\"display\":\"inline\",\"user-select\":\"none\"}},[_vm._v(\"Dynamic View\")])])]),_c('div',{staticClass:\"card-block\",attrs:{\"id\":\"dynamicContainer\"}})])])}]\n\nexport { render, staticRenderFns }","/* global d3 $ */\n// import pipeService from '../../service/pipeService'\nimport globalConfig from '../../service/globalConfig.js'\nimport pipeService from '../../service/pipeService.js'\n\nlet DrawDynamic= function (id) {\t\n\tthis.id = id\n    this.svgWidth = $('#' + id).width()\n    this.svgHeight = $('#' + id).height()\n    this.margin = { top: 0, right: 0, bottom: 0, left: 0 }\n    this.sliderHeight = 30\n    this.width = this.svgWidth - this.margin.left - this.margin.right\n    this.height = this.svgHeight - this.margin.top - this.margin.bottom - this.sliderHeight\n\n    this.svg = d3.select('#' + id).append('svg')\n        .attr('class', 'dynamicSvg')\n        .attr('width', this.svgWidth)\n        .attr('height', this.svgHeight)\n        \n    this.sliderContainer = this.svg.append('g')\n        .attr('class', 'sliderContainer')\n        .attr('transform', 'translate(' + (this.margin.left+15) + ', ' + (this.margin.top+15) + ')')\n        \n\n\tthis.graphContainer = this.svg.append('g')\n\t\t.attr('class', 'g_main')\n        .attr('transform', 'translate(' + this.margin.left + ', ' + (this.margin.top+this.sliderHeight)  + ')')\n    \n    // console.log('globalConfig: ', globalConfig)\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // gestureSpace\n    this.gestureSpaceContainer = this.graphContainer.append('g')\n        .attr('class', 'gestureSpaceContainer')\n\n}\n\nDrawDynamic.prototype.layout = function (data) {\n    this.visionData = data\n    this.videoInfo = this.visionData['videoInfo']\n    this.poseData = this.visionData['poseData']\n\n    this.bisect = d3.bisector(function(d) { return d }).left\n    let sampleInterval = 1\n    this.frameIdxList = d3.range(0, this.videoInfo['totalFrmNum'], sampleInterval)\n    this.selectedFrameIdx = 0\n    this.sampleRatio = 1/3\n    this.fps = Math.ceil(this.videoInfo['fps'])\n\n    let formatTime = d3.timeFormat('%M:%S')\n    this.formatMinutes = function(d) { return formatTime(new Date(2017, 0, 1, 0, 0, d)) }\n\n    this.timer = null\n\n    this.frameSelection = []\n\n    // this.dynamicTimer = setInterval(function(){ console.log('dynamicTimer') }, 1000)\n    // ///////////////////////////////////////////////////////////////////////////////\n    // gesture space\n    this.drawGestureSpace()\n\n    this.drawSkeleton(0)\n\n    pipeService.onAnimationFrameFromVideo((curFrame) => {\n        if (this.frameSelection.length != 0 && this.frameSelection[0] <= curFrame && curFrame <= this.frameSelection[1]) {\n            this.handle.attr('cx', this.sliderXScale(curFrame))\n            this.label.attr('x', this.sliderXScale(curFrame)).text(this.formatMinutes(curFrame / this.fps)) \n            this.drawSkeleton(curFrame)\n            this.highlightMovement(curFrame)\n        }\n    })\n\n    this.drawMovementAnimation([0, 0])\n\n    pipeService.onFrameBrush((frameSelection) => {\n        this.frameSelection = frameSelection\n        // console.log('onFrameBrush, frameSelection: ', frameSelection)\n        this.drawMovement(frameSelection)\n        this.drawMovementAnimation(frameSelection)\n    })\n\n}\n\nDrawDynamic.prototype.drawGestureSpace = function () {\n    this.gestureSpaceContainer.selectAll('*').remove()\n    let containerWidth = this.width\n    let containerHeight = this.height\n\n    // console.log('this.width: ', this.width)\n    // console.log('this.height: ', this.height)\n\n    let containerRatio = containerWidth/containerHeight\n    let initGestureWidth = globalConfig.gestureSpace.extremePeriphery.width\n    let initGestureHeight = globalConfig.gestureSpace.extremePeriphery.height\n    let gestureSpaceRatio = initGestureWidth/initGestureHeight\n\n    if (gestureSpaceRatio>containerRatio) {\n        containerHeight = containerWidth/gestureSpaceRatio\n    } else {\n        containerWidth = containerHeight*gestureSpaceRatio\n    }\n\n    let xOffset = (this.width - containerWidth) / 2\n    let yOffset = (this.height - containerHeight) / 2\n\n    let offsetMargin = { top: yOffset, right: xOffset, bottom: yOffset, left: xOffset }\n\n    let shiftDist = 25\n\n    let spaceContainer = this.gestureSpaceContainer.append('g')\n        .attr('class', 'spaceContainer')\n        .attr('transform', 'translate(' + offsetMargin.left + ', ' + (offsetMargin.top + shiftDist) + ')')\n\n    this.skeletonContainer = this.gestureSpaceContainer.append('g')\n        .attr('class', 'skeletonContainer')\n        .attr('transform', 'translate(' + offsetMargin.left + ', ' + (offsetMargin.top + shiftDist) + ')')\n\n    this.movementContainer = this.gestureSpaceContainer.append('g')\n        .attr('class', 'movementContainer')\n        .attr('transform', 'translate(' + offsetMargin.left + ', ' + (offsetMargin.top + shiftDist) + ')')\n    \n    let xScale = d3.scaleLinear()\n        .domain([globalConfig.gestureSpace.extremePeriphery.left, globalConfig.gestureSpace.extremePeriphery.left+globalConfig.gestureSpace.extremePeriphery.width])\n        .range([0, containerWidth])\n    this.gestureSpaceXScale = xScale\n\n    let yScale = d3.scaleLinear()\n        .domain([globalConfig.gestureSpace.extremePeriphery.top, globalConfig.gestureSpace.extremePeriphery.top+globalConfig.gestureSpace.extremePeriphery.height])\n        .range([0, containerHeight])\n    this.gestureSpaceYScale = yScale\n\n    //////////////////////////////////////////////////////////////\n    // gesture space\n    // let gestureArea = ['centerCenter', 'center', 'periphery', 'extremePeriphery']\n    let gestureArea = ['centerCenter', 'center', 'periphery']\n    spaceContainer\n        .selectAll('rect')\n        .data(gestureArea)\n        .enter()\n        .append('rect')\n        .attr('x', (d) => xScale(globalConfig.gestureSpace[d].left))\n        .attr('y', (d) => yScale(globalConfig.gestureSpace[d].top))\n        .attr('width', (d) => {\n            return xScale(globalConfig.gestureSpace[d].left+globalConfig.gestureSpace[d].width) - xScale(globalConfig.gestureSpace[d].left)\n        })\n        .attr('height', (d) => {\n            return yScale(globalConfig.gestureSpace[d].top+globalConfig.gestureSpace[d].height) - yScale(globalConfig.gestureSpace[d].top)\n        })\n        .style('fill', 'rgba(0,0,0,0)')\n        .style('stroke', '#2378ae')\n        .style('stroke-dasharray', '2,2')\n        .style('stroke-linecap', 'butt')\n        .style('stroke-width', '1')\n        .style('opacity', 0.3)\n}\n\nDrawDynamic.prototype.drawMovement = function (frameSelection) {\n    this.movementContainer.selectAll('*').remove()\n    let xScale = this.gestureSpaceXScale\n    let yScale = this.gestureSpaceYScale\n\n    let movementData = this.getMovementData(frameSelection)\n    let selectedPoseDataList = movementData['selectedPoseDataList']\n\n    \n    let oneMovementContainer = this.movementContainer\n\n    let leftHandPoints = []\n    let rightHandPoints = []\n    for (let i=0; i<selectedPoseDataList.length; i++) {\n        if (selectedPoseDataList[i]['leftHand'].length>0) {\n            leftHandPoints.push(selectedPoseDataList[i]['leftHand'])\n        }\n        if (selectedPoseDataList[i]['rightHand'].length>0) {\n            rightHandPoints.push(selectedPoseDataList[i]['rightHand'])\n        }\n    }\n\n    this.leftHandPoints = leftHandPoints\n    this.rightHandPoints = rightHandPoints\n\n    let line = d3.line()\n        .x((d) => xScale(d[0]))\n        .y((d) => yScale(d[1])) \n        .curve(d3.curveMonotoneX)\n\n    oneMovementContainer.append('g')\n        .attr('class', 'leftHandLine')\n        .append('path')\n        .datum(leftHandPoints)\n        .attr('class', 'handLine')\n        .attr('d', line)\n\n    oneMovementContainer.append('g')\n        .attr('class', 'rightHandLine')\n        .append('path')\n        .datum(rightHandPoints)\n        .attr('class', 'handLine')\n        .attr('d', line)\n\n    // draw movement circle\n    oneMovementContainer.append('g')\n        .attr('class', 'leftHandCircle')\n        .selectAll('cirlce')\n        .data(leftHandPoints)\n        .enter()\n        .append('circle')\n        .attr('class', 'leftCircle')\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => yScale(d[1]))\n        .attr('r', function (_, i) {\n            if (i==0 || i==leftHandPoints.length-1) {\n                return 5\n            } else {\n                return 1\n            }\n        })\n        .style('fill', function () {\n            return globalConfig.leftHandColor\n            // if (i==0) {\n            //     return '#80b1d3'\n            // } else if (i==leftHandPoints.length-1) {\n            //     return '#b3de69'\n            // }\n            // else {\n            //     return '#fc8d62'\n            // }\n        })\n        .style('position', 'relative')\n        .style('z-index', function (_, i) {\n            if (i==0 || i==leftHandPoints.length-1) {\n                return 100\n            } else {\n                return 0\n            }\n        })\n        .style('opacity', 0.1)\n\n    oneMovementContainer.append('g')\n        .attr('class', 'rightHandCircle')\n        .selectAll('cirlce')\n        .data(rightHandPoints)\n        .enter()\n        .append('circle')\n        .attr('class', 'rightHand')\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => yScale(d[1]))\n        .attr('r', function (_, i) {\n            if (i==0 || i==rightHandPoints.length-1) {\n                return 5\n            } else {\n                return 1\n            }\n        })\n        .style('fill', function () {\n            return globalConfig.rightHandColor\n            // if (i==0) {\n            //     return '#80b1d3'\n            // } else if (i==rightHandPoints.length-1) {\n            //     return '#b3de69'\n            // } else {\n            //     return '#bc80bd'\n            // }\n        })\n        .style('position', 'relative')\n        .style('z-index', function (_, i) {\n            if (i==0 || i==rightHandPoints.length-1) {\n                return 100\n            } else {\n                return 0\n            }\n        })\n        .style('opacity', 0.1)\n}\n\nDrawDynamic.prototype.highlightMovement = function (curFrame) {\n    const _this = this\n    this.movementContainer.select('g.highlightHands').remove()\n\n    let highlightContainer = this.movementContainer.append('g').attr('class', 'highlightHands')\n    \n    let pointIdx = curFrame - this.frameSelection[0]\n    \n    let curLeftHandPoints = this.leftHandPoints.slice(0, pointIdx+1)\n    let curRightHandPoints = this.rightHandPoints.slice(0, pointIdx+1)\n\n    // draw movement circle\n    highlightContainer.append('g')\n        .attr('class', 'leftHandCircle')\n        .selectAll('cirlce')\n        .data(curLeftHandPoints)\n        .enter()\n        .append('circle')\n        .attr('class', 'leftCircle')\n        .attr('cx', d => _this.gestureSpaceXScale(d[0]))\n        .attr('cy', d => _this.gestureSpaceYScale(d[1]))\n        .attr('r', function (_, i) {\n            if (i==0 || i==_this.leftHandPoints.length-1 || i==pointIdx) {\n                return 5\n            } else {\n                return 1\n            }\n        })\n        .style('fill', function () {\n            return globalConfig.leftHandColor\n            // if (i==0) {\n            //     return '#b3de69'\n            // } else if (i==_this.leftHandPoints.length-1) {\n            //     return '#80b1d3'\n            // }\n            // else {\n            //     return '#fc8d62'\n            // }\n        })\n        .style('position', 'relative')\n        .style('z-index', function (_, i) {\n            if (i==0 || i==_this.leftHandPoints.length-1) {\n                return 100\n            } else {\n                return 0\n            }\n        })\n        .style('opacity', function (_, i) {\n            if (pointIdx-i<10) {\n                return 1\n            } else {\n                return 0\n            }\n        })\n\n    highlightContainer.append('g')\n        .attr('class', 'rightHandCircle')\n        .selectAll('cirlce')\n        .data(curRightHandPoints)\n        .enter()\n        .append('circle')\n        .attr('class', 'rightHand')\n        .attr('cx', d => _this.gestureSpaceXScale(d[0]))\n        .attr('cy', d => _this.gestureSpaceYScale(d[1]))\n        .attr('r', function (_, i) {\n            if (i==0 || i==_this.rightHandPoints.length-1 || i===pointIdx) {\n                return 5\n            } else {\n                return 1\n            }\n        })\n        .style('fill', function () {\n            return globalConfig.rightHandColor\n            // if (i==0) {\n            //     return '#b3de69'\n            // } else if (i==_this.rightHandPoints.length-1) {\n            //     return '#80b1d3'\n            // } else {\n            //     return '#bc80bd'\n            // }\n        })\n        .style('position', 'relative')\n        .style('z-index', function (_, i) {\n            if (i==0 || i==_this.rightHandPoints.length-1) {\n                return 100\n            } else {\n                return 0\n            }\n        })\n        .style('opacity', function (_, i) {\n            if (pointIdx-i<100) {\n                return 1\n            } else {\n                return 0\n            }\n        })\n\n}\n\nDrawDynamic.prototype.drawMovementAnimation = function (frameSelection) {\n    this.sliderContainer.selectAll('*').remove()\n    this.skeletonContainer.selectAll('*').remove()\n\n    const _this = this\n\n    /////  slider\n    // button\n    let buttonWidth = 40\n    let buttonHeight = 20\n\n    let rectButton = this.sliderContainer\n        .append('g')\n        .attr('transform', 'translate(0, ' + (this.sliderHeight/2-buttonHeight/2) + ')')\n        .append('rect')\n        .attr('class', 'play-button')\n        .attr('rx', 5)\n        .attr('ry', 5)\n        .attr('width', buttonWidth)\n        .attr('height', buttonHeight)\n    \n    let rectLabel = this.sliderContainer\n        .append('g')\n        .attr('transform', 'translate(' + (buttonWidth/2) + ',' + (this.sliderHeight/2+5) + ')')\n        .append('text')\n        .attr('class', 'rectLabel')\n        .attr('text-anchor', 'middle')\n    \n    rectLabel.text('Play')\n\n    rectButton.on('click', function() {\n        if (rectLabel.text() == 'Pause') {\n            moving = false\n            rectLabel.text('Play')\n            pipeService.emitPlayVideoFromSlider({\n                'status': 'pause',\n                'frameSelection': frameSelection\n            })\n        } else {\n            moving = true;\n            rectLabel.text('Pause')\n            pipeService.emitPlayVideoFromSlider({\n                'status': 'play',\n                'frameSelection': frameSelection\n            })\n        }\n        console.log('Slider moving: ' + moving)\n    })\n\n    \n    let moving = false\n    let buttonGap = 20\n    let sliderWidth = this.width-buttonWidth-buttonGap-50\n    // slider \n    let x = d3.scaleLinear()\n        .domain([frameSelection[0], frameSelection[1]])\n        .range([0, sliderWidth]) \n        .clamp(true)\n\n    this.sliderXScale = x\n    // let currentValue = x(frameSelection[0])\n    // let targetValue = sliderWidth\n\n    let slider = this.sliderContainer\n        .append('g')\n        .attr('class', 'slider')\n        .attr('transform', 'translate(' + (buttonWidth+buttonGap) + ',' + (this.sliderHeight/2) + ')')\n\n    slider.append('line')\n        .attr('class', 'track')\n        .attr('x1', 0)\n        .attr('x2', sliderWidth)\n        .select(function() { return this.parentNode.appendChild(this.cloneNode(true)) })\n        .attr('class', 'track-inset')\n        .select(function() { return this.parentNode.appendChild(this.cloneNode(true)) })\n        .attr('class', 'track-overlay')\n        .call(d3.drag()\n            .on('start.interrupt', function() { slider.interrupt() })\n            .on('start drag', function() {\n                let currentValue = d3.event.x\n                update(x.invert(currentValue))\n            })\n        )\n\n    slider.insert('g', '.track-overlay')\n            .attr('class', 'ticks')\n            .attr('transform', 'translate(0,' + 18 + ')')\n            .selectAll('text')\n            // .data(x.ticks(2))\n            .data(x.domain())\n            .enter()\n            .append('text')\n            .attr('x', x)\n            .attr('y', 10)\n            .attr('text-anchor', 'middle')\n            // .text(function(d) { return d })\n            .text(function(d) { return _this.formatMinutes(d / _this.fps) })\n            .style('font-size', '12px')\n\n            \n\n    this.handle = slider.insert('circle', '.track-overlay')\n            .attr('class', 'sliderHandle')\n            .attr('r', 5)\n\n    this.label = slider.append('text')\n            .attr('class', 'label')\n            .attr('text-anchor', 'middle')\n            .text(_this.formatMinutes(frameSelection[0] / _this.fps))\n            .style('font-size', '12px')\n            .attr('transform', 'translate(0,' + (-10) + ')')\n\n    // console.log('handle: ', handle)\n    // console.log('label: ', label)\n    // \n\n    // function step() {\n    //     update(x.invert(currentValue));\n    //     currentValue = currentValue + (targetValue/100)\n    //     // currentValue = currentValue + 1\n    //     if (currentValue > targetValue) {\n    //         moving = false;\n    //         currentValue = 0;\n    //         clearInterval(_this.timer);\n    //         // timer = 0;\n    //         rectButton.text('Play')\n    //         // console.log('Slider moving: ' + moving)\n    //     }\n    // }\n\n    // function update(h) {\n    //     // update position and text of label according to slider scale\n    //     handle.attr('cx', x(h))\n    //     label.attr('x', x(h)).text(Math.round(h))\n    //     // console.log('h: ', h)\n    //     let currentFrame = Math.round(h)\n\n    //     _this.drawSkeleton(currentFrame)\n\n    //     pipeService.emitFrameSelectedFromAnimation(currentFrame)\n    //     // if (currentFrame%30 == 0) {\n    //     //     pipeService.emitFrameSelectedFromAnimation(currentFrame)\n    //     // }\n    // }\n\n    function update(h) {\n        // update position and text of label according to slider scale\n        _this.handle.attr('cx', x(h))\n        _this.label.attr('x', x(h)).text(_this.formatMinutes(h / _this.fps))\n        let currentFrame = Math.round(h)\n        _this.drawSkeleton(currentFrame)\n        pipeService.emitVideoFrameFromSlider(currentFrame)\n    }\n\n}\n\nDrawDynamic.prototype.drawSkeleton = function (currentFrame) {\n//////////////////////////////////////////////////////////////\n    // console.log('currentFrame: ', currentFrame)\n\n    if (this.poseData[currentFrame.toString()]['people'].length !== 1) return\n\n    let pose_keypoints = this.poseData[currentFrame.toString()]['people'][0]['pose_keypoints_2d']\n    if (pose_keypoints[0*3+2]===0 || pose_keypoints[1*3+2]===0 || pose_keypoints[2*3+2]===0 || pose_keypoints[5*3+2]===0 || pose_keypoints[8*3+2]===0 ) return\n    \n    let jointScale = d3.scaleLinear() // joint 2 and 5; distance scale\n        .domain([0, Math.abs(pose_keypoints[1*3+1]-pose_keypoints[8*3+1])])\n        .range([0, Math.abs(globalConfig.skeletonInit.points['1'][1]-globalConfig.skeletonInit.points['8'][1])])\n\n    this.skeletonContainer.selectAll('*').remove()\n\n    // skeleton\n    let bodyPoints = []\n    let bodyPointNum = 25\n    for (let i=0; i<bodyPointNum; i++) {\n        if (pose_keypoints[i*3+2]===0) {\n            bodyPoints.push([])\n        } else {\n            let currentPoint = [\n                globalConfig.skeletonInit.points['1'][0]+jointScale(pose_keypoints[i*3+0]-pose_keypoints[1*3+0]), \n                globalConfig.skeletonInit.points['1'][1]+jointScale(pose_keypoints[i*3+1]-pose_keypoints[1*3+1])\n            ]\n            bodyPoints.push([\n                this.gestureSpaceXScale(currentPoint[0]), \n                this.gestureSpaceYScale(currentPoint[1])\n            ])\n        }\n    }\n\n    let bodyPointPairData = globalConfig.BODY25Pairs\n\n    this.skeletonContainer.append('g')\n        .attr('class', 'body-circle-connection')\n        .selectAll('line')\n        .data(bodyPointPairData.filter(d => {\n            if (bodyPoints[d[0]].length !=0 && bodyPoints[d[1]].length != 0) {\n                return true\n            } else {\n                return false\n            }\n        }))\n        .enter()\n        .append('line')\n        .attr('x1', d => bodyPoints[d[0]][0])\n        .attr('y1', d => bodyPoints[d[0]][1])\n        .attr('x2', d => bodyPoints[d[1]][0])\n        .attr('y2', d => bodyPoints[d[1]][1])\n        .style('stroke', '#bdbdbd')\n        .style('stroke-width', 2) // original one is 4\n        .style('opacity', 0.3)\n\n    // skeleton points\n    this.skeletonContainer.append('g')\n        .attr('class', 'skeletonCircles')\n        .selectAll('cirlce')\n        .data(bodyPoints.filter((d) => {\n            if (d.length != 0) {\n                return true\n            } else {\n                return false\n            }\n        }))\n        .enter()\n        .append('circle')\n        .attr('cx', d => d[0])\n        .attr('cy', d => d[1])\n        .attr('r', 2)\n        .style('fill', 'red')\n        .style('opacity', 0.3)\n}\n\nDrawDynamic.prototype.getMovementData = function (frameSelection) {\n    // only select those frames contain joints 0, 1, 2, 5, 8\n\n    let jointXScale = d3.scaleLinear() // joint 2 and 5; distance scale\n        .range([0, Math.abs(globalConfig.skeletonInit.points['1'][1]-globalConfig.skeletonInit.points['8'][1])])\n\n    let jointYScale = d3.scaleLinear() // joint 1 and 8; ; distance scale\n        .range([0, Math.abs(globalConfig.skeletonInit.points['1'][1]-globalConfig.skeletonInit.points['8'][1])])\n\n    let selectedPoseDataList = []\n    let selectedFrameIdxList = []\n    for (let i=frameSelection[0]; i<frameSelection[1]; i++) {\n        if (this.poseData[i.toString()]['people'].length !== 1) continue\n        let pose_keypoints = this.poseData[i.toString()]['people'][0]['pose_keypoints_2d']\n        if (pose_keypoints[0*3+2]===0 || pose_keypoints[1*3+2]===0 || pose_keypoints[2*3+2]===0 || pose_keypoints[5*3+2]===0 || pose_keypoints[8*3+2]===0 ) continue\n        if (pose_keypoints[4*3+2]===0 && pose_keypoints[7*3+2]===0) continue\n        // track joint position: right hand 4; left hand 7;\n        // track angle: right 2-3-4; left 5, 6, 7\n\n        // jointXScale.domain([0, Math.abs(pose_keypoints[2*3+0]-pose_keypoints[5*3+0])])\n        jointXScale.domain([0, Math.abs(pose_keypoints[1*3+1]-pose_keypoints[8*3+1])])\n        jointYScale.domain([0, Math.abs(pose_keypoints[1*3+1]-pose_keypoints[8*3+1])])\n\n        let rightHand = []\n        let leftHand = []\n        if (pose_keypoints[4*3+2]!=0) {\n            rightHand = [\n                globalConfig.skeletonInit.points['1'][0]+jointXScale(pose_keypoints[4*3+0]-pose_keypoints[1*3+0]),\n                globalConfig.skeletonInit.points['1'][1]+jointYScale(pose_keypoints[4*3+1]-pose_keypoints[1*3+1])\n            ]\n        }\n        if (pose_keypoints[7*3+2]!=0) {\n            leftHand = [\n                globalConfig.skeletonInit.points['1'][0]+jointXScale(pose_keypoints[7*3+0]-pose_keypoints[1*3+0]),\n                globalConfig.skeletonInit.points['1'][1]+jointYScale(pose_keypoints[7*3+1]-pose_keypoints[1*3+1])\n            ]\n        }\n        selectedPoseDataList.push({'leftHand': leftHand, 'rightHand': rightHand})\n        selectedFrameIdxList.push(i)\n    }\n    // joint points are map to standard gesture space\n    return {\n        'selectedPoseDataList': selectedPoseDataList,\n        'selectedFrameIdxList': selectedFrameIdxList,\n    }\n}\n\nexport default DrawDynamic","// /* global d3 $ */\nimport DrawDynamic from './drawDynamic.js'\n// import dataService from '../../service/dataService.js'\n// import pipeService from '../../service/pipeService'\n\nexport default {\n    name: 'DynamicView',\n    components: {\n    },\n    props: {\n        videoId: String,\n        videoData: Object\n    },\n    data() {\n        return {\n            containerId: 'dynamicContainer',\n            audioData: {},\n            interval: 5,\n            sliding: 1,\n            dynamicType: 'animation'\n        }\n    },\n    watch: {\n        videoData: function (videoData) {\n            this.drawDynamic.layout(videoData)\n        }\n    },\n    mounted: function () {\n        this.drawDynamic = new DrawDynamic(this.containerId)\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./DynamicView.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./DynamicView.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicView.html?vue&type=template&id=32ddeb86&\"\nimport script from \"./DynamicView.js?vue&type=script&lang=js&\"\nexport * from \"./DynamicView.js?vue&type=script&lang=js&\"\nimport style0 from \"./DynamicView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"relationview\"}},[_c('div',{staticClass:\"card\"},[_vm._m(0),_c('div',{staticClass:\"card-block\"},[_c('div',{staticStyle:{\"margin\":\"0 20px 0px 20px\"},attrs:{\"id\":\"configuration\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"25px\"}},[_vm._m(1),_c('div',{staticStyle:{\"width\":\"75%\",\"float\":\"left\",\"margin-left\":\"10px\",\"margin-top\":\"5px\"}},[_c('vue-slider',{ref:\"timeSlider\",attrs:{\"data\":_vm.timeData,\"max\":_vm.timeMax,\"marks\":true,\"hide-label\":true,\"adsorb\":true,\"lazy\":true},model:{value:(_vm.timeFilter),callback:function ($$v) {_vm.timeFilter=$$v},expression:\"timeFilter\"}})],1)]),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"25px\"}},[_vm._m(2),_c('div',{staticStyle:{\"width\":\"75%\",\"float\":\"left\",\"margin-left\":\"10px\",\"margin-top\":\"5px\"}},[_c('vue-slider',{ref:\"numSlider\",attrs:{\"min\":1,\"max\":_vm.numMax,\"marks\":true,\"hide-label\":true,\"adsorb\":true,\"lazy\":true},model:{value:(_vm.numFilter),callback:function ($$v) {_vm.numFilter=$$v},expression:\"numFilter\"}})],1)])]),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"50px\",\"border-bottom\":\"dashed 1px\"},attrs:{\"id\":\"relationColorLegend\"}}),_vm._m(3),_vm._m(4)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"10px\",\"margin-top\":\"-3px\"}},[_c('h6',{staticStyle:{\"display\":\"inline\",\"user-select\":\"none\"}},[_vm._v(\"Relation View\")])]),_c('div',{staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\",\"margin-top\":\"-5px\"}},[_c('button',{attrs:{\"id\":\"refreshButton\"}},[_c('span',{staticClass:\"fa fa-refresh\"})])]),_c('div',{staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\",\"margin-top\":\"-5px\"}},[_c('button',{attrs:{\"id\":\"bookmarkButton\"}},[_c('span',{staticClass:\"fa fa-bookmark\"})])]),_c('div',{staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\",\"margin-top\":\"-5px\"}},[_c('button',{attrs:{\"id\":\"lassoButton\"}},[_c('span',{staticClass:\"fa fa-crosshairs\"})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"float\":\"left\"}},[_c('span',{staticStyle:{\"font-size\":\"12px\",\"user-select\":\"none\"}},[_vm._v(\"timeFilter:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"float\":\"left\"}},[_c('span',{staticStyle:{\"font-size\":\"12px\",\"user-select\":\"none\"}},[_vm._v(\"numFilter: \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"relationContainer\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"font-size\":\"10px\",\"display\":\"none\"},attrs:{\"id\":\"my_custom_menu\"}},[_c('div',{staticClass:\"annotation\",staticStyle:{\"cursor\":\"pointer\",\"width\":\"40px\",\"background\":\"rgb(244,244,244)\",\"stroke\":\"white\",\"stroke-width\":\"1px\",\"margin-bottom\":\"1px\"},attrs:{\"id\":\"gestureMark\"}},[_vm._v(\"Mark\")]),_c('div',{staticClass:\"annotation\",staticStyle:{\"cursor\":\"pointer\",\"width\":\"40px\",\"background\":\"rgb(244,244,244)\",\"stroke\":\"white\",\"stroke-width\":\"1px\"},attrs:{\"id\":\"gestureRemove\"}},[_vm._v(\"Remove\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"1px\",\"top\":\"2px\",\"display\":\"none\",\"width\":\"333px\",\"background\":\"rgb(244,244,244)\",\"z-index\":\"1000\"},attrs:{\"id\":\"bookmarkContainer\"}},[_c('div',{staticStyle:{\"width\":\"333px\",\"height\":\"40px\",\"font-size\":\"12px\",\"border-bottom\":\"dashed\",\"border-width\":\"1px\"},attrs:{\"id\":\"bookmarkHeader\"}},[_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin-top\":\"10px\",\"border-right\":\"solid\",\"border-width\":\"1px\",\"width\":\"40%\"}},[_vm._v(\"Gesture\")]),_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin-top\":\"10px\",\"border-right\":\"solid\",\"border-width\":\"1px\",\"width\":\"40%\"}},[_vm._v(\"Annotation\")]),_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin-top\":\"10px\",\"width\":\"20%\"}},[_vm._v(\"Delete\")])]),_c('div',{staticStyle:{\"height\":\"340px\",\"overflow-y\":\"auto\"},attrs:{\"id\":\"bookmarkBody\"}})])}]\n\nexport { render, staticRenderFns }","/* eslint-disable */\n// create main global object\nvar tsnejs = tsnejs || { REVISION: 'ALPHA' };\n\n(function(global) {\n  \"use strict\";\n\n  // utility function\n  var assert = function(condition, message) {\n    if (!condition) { throw message || \"Assertion failed\"; }\n  }\n\n  // syntax sugar\n  var getopt = function(opt, field, defaultval) {\n    if(opt.hasOwnProperty(field)) {\n      return opt[field];\n    } else {\n      return defaultval;\n    }\n  }\n\n  // return 0 mean unit standard deviation random number\n  var return_v = false;\n  var v_val = 0.0;\n  var gaussRandom = function() {\n    if(return_v) { \n      return_v = false;\n      return v_val; \n    }\n    var u = 2*Math.random()-1;\n    var v = 2*Math.random()-1;\n    var r = u*u + v*v;\n    if(r == 0 || r > 1) return gaussRandom();\n    var c = Math.sqrt(-2*Math.log(r)/r);\n    v_val = v*c; // cache this for next function call for efficiency\n    return_v = true;\n    return u*c;\n  }\n\n  // return random normal number\n  var randn = function(mu, std){ return mu+gaussRandom()*std; }\n\n  // utilitity that creates contiguous vector of zeros of size n\n  var zeros = function(n) {\n    if(typeof(n)==='undefined' || isNaN(n)) { return []; }\n    if(typeof ArrayBuffer === 'undefined') {\n      // lacking browser support\n      var arr = new Array(n);\n      for(var i=0;i<n;i++) { arr[i]= 0; }\n      return arr;\n    } else {\n      return new Float64Array(n); // typed arrays are faster\n    }\n  }\n\n  // utility that returns 2d array filled with random numbers\n  // or with value s, if provided\n  var randn2d = function(n,d,s) {\n    var uses = typeof s !== 'undefined';\n    var x = [];\n    for(var i=0;i<n;i++) {\n      var xhere = [];\n      for(var j=0;j<d;j++) { \n        if(uses) {\n          xhere.push(s); \n        } else {\n          xhere.push(randn(0.0, 1e-4)); \n        }\n      }\n      x.push(xhere);\n    }\n    return x;\n  }\n\n  // compute L2 distance between two vectors\n  var L2 = function(x1, x2) {\n    var D = x1.length;\n    var d = 0;\n    for(var i=0;i<D;i++) { \n      var x1i = x1[i];\n      var x2i = x2[i];\n      d += (x1i-x2i)*(x1i-x2i);\n    }\n    return d;\n  }\n\n  // compute pairwise distance in all vectors in X\n  var xtod = function(X) {\n    var N = X.length;\n    var dist = zeros(N * N); // allocate contiguous array\n    for(var i=0;i<N;i++) {\n      for(var j=i+1;j<N;j++) {\n        var d = L2(X[i], X[j]);\n        dist[i*N+j] = d;\n        dist[j*N+i] = d;\n      }\n    }\n    return dist;\n  }\n\n  // compute (p_{i|j} + p_{j|i})/(2n)\n  var d2p = function(D, perplexity, tol) {\n    var Nf = Math.sqrt(D.length); // this better be an integer\n    var N = Math.floor(Nf);\n    assert(N === Nf, \"D should have square number of elements.\");\n    var Htarget = Math.log(perplexity); // target entropy of distribution\n    var P = zeros(N * N); // temporary probability matrix\n\n    var prow = zeros(N); // a temporary storage compartment\n    for(var i=0;i<N;i++) {\n      var betamin = -Infinity;\n      var betamax = Infinity;\n      var beta = 1; // initial value of precision\n      var done = false;\n      var maxtries = 50;\n\n      // perform binary search to find a suitable precision beta\n      // so that the entropy of the distribution is appropriate\n      var num = 0;\n      while(!done) {\n        //debugger;\n\n        // compute entropy and kernel row with beta precision\n        var psum = 0.0;\n        for(var j=0;j<N;j++) {\n          var pj = Math.exp(- D[i*N+j] * beta);\n          if(i===j) { pj = 0; } // we dont care about diagonals\n          prow[j] = pj;\n          psum += pj;\n        }\n        // normalize p and compute entropy\n        var Hhere = 0.0;\n        for(var j=0;j<N;j++) {\n          if(psum == 0) {\n             var pj = 0;\n          } else {\n             var pj = prow[j] / psum;\n          }\n          prow[j] = pj;\n          if(pj > 1e-7) Hhere -= pj * Math.log(pj);\n        }\n\n        // adjust beta based on result\n        if(Hhere > Htarget) {\n          // entropy was too high (distribution too diffuse)\n          // so we need to increase the precision for more peaky distribution\n          betamin = beta; // move up the bounds\n          if(betamax === Infinity) { beta = beta * 2; }\n          else { beta = (beta + betamax) / 2; }\n\n        } else {\n          // converse case. make distrubtion less peaky\n          betamax = beta;\n          if(betamin === -Infinity) { beta = beta / 2; }\n          else { beta = (beta + betamin) / 2; }\n        }\n\n        // stopping conditions: too many tries or got a good precision\n        num++;\n        if(Math.abs(Hhere - Htarget) < tol) { done = true; }\n        if(num >= maxtries) { done = true; }\n      }\n\n      // console.log('data point ' + i + ' gets precision ' + beta + ' after ' + num + ' binary search steps.');\n      // copy over the final prow to P at row i\n      for(var j=0;j<N;j++) { P[i*N+j] = prow[j]; }\n\n    } // end loop over examples i\n\n    // symmetrize P and normalize it to sum to 1 over all ij\n    var Pout = zeros(N * N);\n    var N2 = N*2;\n    for(var i=0;i<N;i++) {\n      for(var j=0;j<N;j++) {\n        Pout[i*N+j] = Math.max((P[i*N+j] + P[j*N+i])/N2, 1e-100);\n      }\n    }\n\n    return Pout;\n  }\n\n  // helper function\n  function sign(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; }\n\n  var tSNE = function(opt) {\n    var opt = opt || {};\n    this.perplexity = getopt(opt, \"perplexity\", 30); // effective number of nearest neighbors\n    this.dim = getopt(opt, \"dim\", 2); // by default 2-D tSNE\n    this.epsilon = getopt(opt, \"epsilon\", 10); // learning rate\n\n    this.iter = 0;\n  }\n\n  tSNE.prototype = {\n\n    // this function takes a set of high-dimensional points\n    // and creates matrix P from them using gaussian kernel\n    initDataRaw: function(X) {\n      var N = X.length;\n      var D = X[0].length;\n      assert(N > 0, \" X is empty? You must have some data!\");\n      assert(D > 0, \" X[0] is empty? Where is the data?\");\n      var dists = xtod(X); // convert X to distances using gaussian kernel\n      this.P = d2p(dists, this.perplexity, 1e-4); // attach to object\n      this.N = N; // back up the size of the dataset\n      this.initSolution(); // refresh this\n    },\n\n    // this function takes a given distance matrix and creates\n    // matrix P from them.\n    // D is assumed to be provided as a list of lists, and should be symmetric\n    initDataDist: function(D) {\n      var N = D.length;\n      assert(N > 0, \" X is empty? You must have some data!\");\n      // convert D to a (fast) typed array version\n      var dists = zeros(N * N); // allocate contiguous array\n      for(var i=0;i<N;i++) {\n        for(var j=i+1;j<N;j++) {\n          var d = D[i][j];\n          dists[i*N+j] = d;\n          dists[j*N+i] = d;\n        }\n      }\n      this.P = d2p(dists, this.perplexity, 1e-4);\n      this.N = N;\n      this.initSolution(); // refresh this\n    },\n\n    // (re)initializes the solution to random\n    initSolution: function() {\n      // generate random solution to t-SNE\n      this.Y = randn2d(this.N, this.dim); // the solution\n      this.gains = randn2d(this.N, this.dim, 1.0); // step gains to accelerate progress in unchanging directions\n      this.ystep = randn2d(this.N, this.dim, 0.0); // momentum accumulator\n      this.iter = 0;\n    },\n\n    // return pointer to current solution\n    getSolution: function() {\n      return this.Y;\n    },\n\n    // perform a single step of optimization to improve the embedding\n    step: function() {\n      this.iter += 1;\n      var N = this.N;\n\n      var cg = this.costGrad(this.Y); // evaluate gradient\n      var cost = cg.cost;\n      var grad = cg.grad;\n\n      // perform gradient step\n      var ymean = zeros(this.dim);\n      for(var i=0;i<N;i++) {\n        for(var d=0;d<this.dim;d++) {\n          var gid = grad[i][d];\n          var sid = this.ystep[i][d];\n          var gainid = this.gains[i][d];\n\n          // compute gain update\n          var newgain = sign(gid) === sign(sid) ? gainid * 0.8 : gainid + 0.2;\n          if(newgain < 0.01) newgain = 0.01; // clamp\n          this.gains[i][d] = newgain; // store for next turn\n\n          // compute momentum step direction\n          var momval = this.iter < 250 ? 0.5 : 0.8;\n          var newsid = momval * sid - this.epsilon * newgain * grad[i][d];\n          this.ystep[i][d] = newsid; // remember the step we took\n\n          // step!\n          this.Y[i][d] += newsid; \n\n          ymean[d] += this.Y[i][d]; // accumulate mean so that we can center later\n        }\n      }\n\n      // reproject Y to be zero mean\n      for(var i=0;i<N;i++) {\n        for(var d=0;d<this.dim;d++) {\n          this.Y[i][d] -= ymean[d]/N;\n        }\n      }\n\n      //if(this.iter%100===0) console.log('iter ' + this.iter + ', cost: ' + cost);\n      return cost; // return current cost\n    },\n\n    // for debugging: gradient check\n    debugGrad: function() {\n      var N = this.N;\n\n      var cg = this.costGrad(this.Y); // evaluate gradient\n      var cost = cg.cost;\n      var grad = cg.grad;\n\n      var e = 1e-5;\n      for(var i=0;i<N;i++) {\n        for(var d=0;d<this.dim;d++) {\n          var yold = this.Y[i][d];\n\n          this.Y[i][d] = yold + e;\n          var cg0 = this.costGrad(this.Y);\n\n          this.Y[i][d] = yold - e;\n          var cg1 = this.costGrad(this.Y);\n          \n          var analytic = grad[i][d];\n          var numerical = (cg0.cost - cg1.cost) / ( 2 * e );\n          console.log(i + ',' + d + ': gradcheck analytic: ' + analytic + ' vs. numerical: ' + numerical);\n\n          this.Y[i][d] = yold;\n        }\n      }\n    },\n\n    // return cost and gradient, given an arrangement\n    costGrad: function(Y) {\n      var N = this.N;\n      var dim = this.dim; // dim of output space\n      var P = this.P;\n\n      var pmul = this.iter < 100 ? 4 : 1; // trick that helps with local optima\n\n      // compute current Q distribution, unnormalized first\n      var Qu = zeros(N * N);\n      var qsum = 0.0;\n      for(var i=0;i<N;i++) {\n        for(var j=i+1;j<N;j++) {\n          var dsum = 0.0;\n          for(var d=0;d<dim;d++) {\n            var dhere = Y[i][d] - Y[j][d];\n            dsum += dhere * dhere;\n          }\n          var qu = 1.0 / (1.0 + dsum); // Student t-distribution\n          Qu[i*N+j] = qu;\n          Qu[j*N+i] = qu;\n          qsum += 2 * qu;\n        }\n      }\n      // normalize Q distribution to sum to 1\n      var NN = N*N;\n      var Q = zeros(NN);\n      for(var q=0;q<NN;q++) { Q[q] = Math.max(Qu[q] / qsum, 1e-100); }\n\n      var cost = 0.0;\n      var grad = [];\n      for(var i=0;i<N;i++) {\n        var gsum = new Array(dim); // init grad for point i\n        for(var d=0;d<dim;d++) { gsum[d] = 0.0; }\n        for(var j=0;j<N;j++) {\n          cost += - P[i*N+j] * Math.log(Q[i*N+j]); // accumulate cost (the non-constant portion at least...)\n          var premult = 4 * (pmul * P[i*N+j] - Q[i*N+j]) * Qu[i*N+j];\n          for(var d=0;d<dim;d++) {\n            gsum[d] += premult * (Y[i][d] - Y[j][d]);\n          }\n        }\n        grad.push(gsum);\n      }\n\n      return {cost: cost, grad: grad};\n    }\n  }\n\n  global.tSNE = tSNE; // export tSNE class\n})(tsnejs);\n\n\n// // export the library to window, or to module in nodejs\n// (function(lib) {\n//   \"use strict\";\n//   if (typeof module === \"undefined\" || typeof module.exports === \"undefined\") {\n//     window.tsnejs = lib; // in ordinary browser attach library to window\n//   } else {\n//     module.exports = lib; // in nodejs\n//   }\n// })(tsnejs);\n\nexport default tsnejs","/* global d3 $*/\n// import pipeService from '../../service/pipeService.js'\nimport globalConfig from '../../service/globalConfig.js'\n// import dataService from '../../service/dataService.js'\nimport tsnejs from '../../vendor/tsne.js'\nimport * as d3Lasso from 'd3-lasso'\nimport pipeService from '../../service/pipeService.js'\nimport dataService from '../../service/dataService.js'\n\nlet DrawRelation= function (id) {\n    const _this = this\n\tthis.id = id\n    this.svgWidth = $('#' + id).width()\n    this.svgHeight = $('#' + id).height()\n    this.margin = { top: 10, right: 10, bottom: 10, left: 10 }\n    this.width = this.svgWidth - this.margin.left - this.margin.right\n    this.height = this.svgHeight - this.margin.top - this.margin.bottom\n    \n\n    // d3.select('#' + id).append('div')\n    //     .attr('id', 'my_custom_menu')\n    //     .style('position', 'absolute')\n    //     .style('width', '50px')\n    //     .style('height', '50px')\n    //     .style('background-color', 'lightblue')\n    \n\n    this.svg = d3.select('#' + id).append('svg')\n        .attr('class', 'relationSvg')\n        .attr('width', this.svgWidth)\n        .attr('height', this.svgHeight)\n        // .style('pointer-events', 'none')\n\n    // this.graphContainer = this.svg.append('g')\n    //     .attr('class', 'g_main')\n    //     .attr('transform', 'translate(' + this.margin.left + ', ' + this.margin.top + ')')\n    \n    this.upperWidth = this.width\n    this.upperHeight = 0.47*this.height\n    this.upperZoomedTransform = {}\n\n    this.betweenHeight = 0.06*this.height\n\n    this.lowerWidth = this.width\n    this.lowerHeight = 0.47*this.height\n\n    // // background\n    // this.svg.append('g')\n    //     .attr('class', 'background')\n    //     .attr('transform', 'translate(' + this.margin.left + ', ' + this.margin.top + ')')\n    //     .append('rect')\n    //     .attr('x', -10)\n    //     .attr('y', -10)\n    //     .attr('width', this.upperWidth+20)\n    //     .attr('height', this.upperHeight+20)\n    //     .style('fill', 'black')\n    //     .style('opacity', 0.05)\n    \n    // zoom clip\n    this.svg.append('g')\n        .attr('class', 'zoomClip')\n        .attr('transform', 'translate(' + this.margin.left + ', ' + this.margin.top + ')')\n        .append('defs')\n        .append('clipPath')\n        .attr('id', 'upperClip')\n        .append('rect')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', this.upperWidth)\n        .attr('height', this.upperHeight)\n        .style('fill', 'black')\n        .style('opacity', 0.05)\n    \n    this.upperContainer = this.svg.append('svg')\n        .attr('class', 'upperContainer')\n        .attr('x', this.margin.left)\n        .attr('y', this.margin.top)\n        .attr('width', this.upperWidth)\n        .attr('height', this.upperHeight)\n        .attr('clip-path', 'url(#upperClip)')\n        .style('pointer-events', 'all')\n        \n    this.upperContainer.append('rect')\n        .attr('class', 'zoomArea')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', this.upperWidth)\n        .attr('height', this.upperHeight)\n        .style('fill-opacity', 0)\n        .style('stroke', '#bdbdbd')\n        .style('stroke-width', '1px')\n        .style('stroke-opacity', 0.4)\n\n    // // background\n    // this.svg.append('g')\n    //     .attr('class', 'background')\n    //     .attr('transform', 'translate(' + this.margin.left + ', ' + (this.margin.top+this.upperHeight+this.betweenHeight)+ ')')\n    //     .append('rect')\n    //     .attr('x', -10)\n    //     .attr('y', -10)\n    //     .attr('width', this.lowerWidth+20)\n    //     .attr('height', this.lowerHeight+20)\n    //     .style('fill', 'black')\n    //     .style('opacity', 0.05)\n\n    // zoom clip\n    this.svg.append('g')\n        .attr('class', 'zoomClip')\n        .attr('transform', 'translate(' + this.margin.left + ', ' + (this.margin.top+this.upperHeight+this.betweenHeight)+ ')')\n        .append('defs')\n        .append('clipPath')\n        .attr('id', 'lowerClip')\n        .append('rect')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', this.lowerWidth)\n        .attr('height', this.lowerHeight)\n        .style('fill', 'black')\n        .style('opacity', 0)\n\n    this.lowerContainer = this.svg.append('svg')\n        .attr('class', 'lowerContainer')\n        .attr('x', this.margin.left)\n        .attr('y', this.margin.top+this.upperHeight+this.betweenHeight)\n        .attr('width', this.lowerWidth)\n        .attr('height', this.lowerHeight)\n        .attr('clip-path', 'url(#lowerClip)')\n        .style('pointer-events', 'all')\n\n\n    this.lowerContainer.append('rect')\n        .attr('class', 'zoomArea')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', this.lowerWidth)\n        .attr('height', this.lowerHeight)\n        .style('fill-opacity', 0)\n        .style('stroke', '#bdbdbd')\n        .style('stroke-width', '1px')\n        .style('stroke-opacity', 0.4)\n\n\n    \n    this.linksContainer = this.svg.append('g')\n        .attr('class', 'linksContainer')\n        .attr('transform', 'translate(' + this.margin.left + ', ' + this.margin.top + ')')\n\n    this.linkPointData = []\n\n    this.drawPhraseLegend()\n\n    this.linkVertical = d3.linkVertical()\n        .x((d) => d.x)\n        .y((d) => d.y)\n\n    // parameters\n    this.timeFilter = [0, 1]\n    this.numMax = 0\n    this.numFilter = [1, 13]\n    this.legendFilter = {\n        'noun_phrases': 'NP',\n        'prepositional_phrases': 'PP',\n        'subject_verb_object': 'SVO',\n        'verb_phrases': 'VP',\n        'open': 1,\n        'closed': 1,\n        'others': 1\n    }\n\n    this.lassoFlag = false\n\n    this.textRefreshFlag = false\n    this.gestureRefreshFlag = false\n    this.upperZoom = ''\n    this.lowerZoom = ''\n\n    this.bookmarkContainer = d3.select('#bookmarkBody')\n    this.bookmarkData = []\n    this.curGestureClusterData = {}\n\n    this.updateBookmark()\n\n    d3.select('#bookmarkButton')\n        .on('click', function () {\n            let displayType = d3.select('#bookmarkContainer').style('display')\n            if (displayType == 'block') {\n                d3.select('#bookmarkContainer')\n                    .style('display', 'none')\n            } else {\n                d3.select('#bookmarkContainer')\n                    .style('display', 'block')\n            }\n        })\n\n\n    d3.select('#gestureMark')\n        .on('mouseover', function () {\n            d3.select(this)\n                .style('background-color', 'rgb(200,200,200)')\n        }) \n        .on('mouseout', function () {\n            d3.select(this)\n                .style('background-color', 'rgb(244,244,244)')\n        })\n    \n    d3.select('#gestureRemove')\n        .on('mouseover', function () {\n            d3.select(this)\n                .style('background-color', 'rgb(200,200,200)')\n        }) \n        .on('mouseout', function () {\n            d3.select(this)\n                .style('background-color', 'rgb(244,244,244)')\n        })\n\n    $('#gestureMark').on('click', function() {\n        console.log('gestureMark')\n        _this.bookmarkData.push(_this.curGestureClusterData)\n        _this.updateBookmark()\n    })\n\n    $('#gestureRemove').on('click', function() {\n        console.log('gestureRemove')\n        for (let i=0; i<_this.bookmarkData.length; i++) {\n            if (_this.bookmarkData[i]['gestureIdx'] == _this.curGestureClusterData['gestureIdx']) {\n                _this.bookmarkData.splice(i, 1)\n            }\n        }\n        _this.updateBookmark()\n    })\n}\n\n\nDrawRelation.prototype.layout = function (data) {\n    // console.log('relation videoData: ', data)\n    this.visionData = data\n    this.videoInfo = this.visionData['videoInfo']\n    this.fps = Math.ceil(this.videoInfo['fps'])\n    this.totalFrameNum = this.videoInfo['totalFrmNum']\n    this.poseData = this.visionData['poseData']\n    this.gestureSpaceData = this.visionData['gestureSpaceData']\n    // process word phrase\n    let wordPhrase = this.visionData['wordPhrase']\n    // console.log('wordPhrase: ', wordPhrase)\n\n    let getWordPhraseDataResult = this.visionData['wordPhraseDataResult']\n    let positionInfo = {}\n    let wordPhraseData = {}\n\n\n    if(Object.keys(getWordPhraseDataResult).length === 0) {\n        // console.log('relation getWordPhraseDataResult: recalculation')\n        getWordPhraseDataResult = this.getWordPhraseData(wordPhrase)\n        this.numMax = getWordPhraseDataResult['numMax']\n        wordPhraseData = getWordPhraseDataResult['wordPhraseData']\n        // console.log('wordPhraseData: ', wordPhraseData)\n        positionInfo = this.calculatePosition(wordPhraseData)\n        getWordPhraseDataResult['positionInfo'] = positionInfo\n        dataService.saveData(this.videoInfo['videoId'], 'wordPhraseDataResult', getWordPhraseDataResult, (feedback) => {\n                console.log('saveWordPhraseDataResult, feedback: ', feedback)\n        })\n    } else {\n        // console.log('relation getWordPhraseDataResult: load from backend')\n        wordPhraseData = getWordPhraseDataResult['wordPhraseData']\n        positionInfo = getWordPhraseDataResult['positionInfo']\n        this.numMax = getWordPhraseDataResult['numMax']\n    }\n    // load from backend\n\n    ////////////////////////////////////////////////////////////////\n    \n    // textPosition\n    this.textXScale = d3.scaleLinear()\n        .domain(positionInfo['textPositionInfo']['xDomain'])\n        .range([0, this.upperWidth]) \n    this.textYScale = d3.scaleLinear()\n        .domain(positionInfo['textPositionInfo']['yDomain'])\n        .range([this.upperHeight, 0])\n    this.textRScale = d3.scaleLinear()\n            .domain(positionInfo['textPositionInfo']['rDomain'])\n            .range([4, 15])   \n    // zoom\n    this.textXScaleZoom = this.textXScale\n    this.textYScaleZoom = this.textYScale\n    this.textNewZoomXScale = this.textXScale\n    this.textNewZoomYScale = this.textYScale\n\n    // gesturePosition\n    this.gestureXScale = d3.scaleLinear()\n        .domain(positionInfo['gesturePositionInfo']['xDomain'])\n        .range([0, this.lowerWidth]) \n    this.gestureYScale = d3.scaleLinear()\n        .domain(positionInfo['gesturePositionInfo']['yDomain'])\n        .range([this.lowerHeight, 0])\n    this.gestureSpaceScale = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, 2*16])\n    // zoom\n    this.gestureXScaleZoom = this.gestureXScale\n    this.gestureYScaleZoom = this.gestureYScale\n    this.gestureNewZoomXScale = this.gestureXScale\n    this.gestureNewZoomYScale = this.gestureYScale\n\n\n    this.distanceChangeScale = d3.scaleLinear()\n        .domain(positionInfo['distanceChangeInfo']['distanceChangeDomain'])\n        .range([0, 8])\n\n\n    ////////////////////////////////////////////////////////////////\n\n    this.drawCluster(wordPhraseData)\n\n\n    pipeService.onTimeFilter((timeFilter) => {\n        // console.log('timeFilter: ', timeFilter)\n        this.timeFilter = timeFilter\n        this.drawCluster(wordPhraseData)\n    })\n\n    pipeService.onNumFilter((numFilter) => {\n        // console.log('numFilter: ', numFilter)\n        this.numFilter = numFilter\n        this.drawCluster(wordPhraseData)\n    })\n    pipeService.onLegendFilter(() => {\n        this.drawCluster(wordPhraseData)\n    })\n\n    pipeService.onHighlightPoint((frameRangeSelection) => {\n        // console.log('frameRangeSelection: ', frameRangeSelection)\n\n        if (frameRangeSelection.length == 0) {\n            d3.selectAll('.text-circles')\n                .style('stroke-width', '0px')\n\n            d3.selectAll('.gesture-circles')\n                .style('stroke-opacity', 0.1)\n                .style('stroke', 'black')\n\n            d3.selectAll('.circle-texts')\n                .style('fill', 'black')\n                .style('font-weight', 300)\n        } else {\n\n            d3.selectAll('.text-circles')\n                .style('stroke-width', '0px')\n\n            d3.selectAll('.gesture-circles')\n                .style('stroke-opacity', 0.1)\n                .style('stroke', 'black')\n\n            let startTime = frameRangeSelection[0]/_this.fps\n            let endTime = frameRangeSelection[1]/_this.fps\n\n            d3.selectAll('.text-circles')\n                .filter((d) => {\n                    let timeRangeList = d['timeRange']\n                    for (let i=0; i<timeRangeList.length; i++) {\n                        if (timeRangeList[i][0]>=startTime && timeRangeList[i][1]<=endTime) return true\n                    }\n                    return false\n                })\n                .style('stroke', 'red')\n                .style('stroke-opacity', 1)\n                .style('stroke-width', '1px')\n\n            d3.selectAll('.circle-texts')\n                .filter((d) => {\n                    let timeRangeList = d['timeRange']\n                    for (let i=0; i<timeRangeList.length; i++) {\n                        if (timeRangeList[i][0]>=startTime && timeRangeList[i][1]<=endTime) return true\n                    }\n                    return false\n                })\n                .style('fill', 'black')\n                .style('font-weight', 350)\n\n\n            d3.selectAll('.gesture-circles')\n                .filter((d) => {\n                    let timeRange = d['timeRange']\n                    if (timeRange[0]>=startTime && timeRange[1]<=endTime) {\n                        return true\n                    } else {\n                        return false\n                    }\n                })\n                .style('stroke', 'red')\n                .style('stroke-opacity', 1)\n                .style('stroke-width', '1px')\n        }\n    })\n\n    const _this = this\n    $('#lassoButton').on('click', function(){\n        if (!_this.lassoFlag) {\n            d3.select(this).style('color', 'red')\n\n            _this.upperContainer.style('pointer-events', 'none')\n            _this.upperContainer.select('.zoomArea').style('pointer-events', 'none')\n            _this.lowerContainer.style('pointer-events', 'none')\n            _this.lowerContainer.select('.zoomArea').style('pointer-events', 'none')\n            \n        } else {\n            d3.select(this).style('color', 'black')\n            \n            _this.upperContainer.style('pointer-events', 'auto')\n            _this.upperContainer.select('.zoomArea').style('pointer-events', 'auto')\n            _this.lowerContainer.style('pointer-events', 'auto')\n            _this.lowerContainer.select('.zoomArea').style('pointer-events', 'auto')\n        }\n        _this.lassoFlag = !_this.lassoFlag\n    })\n\n    $('#refreshButton').on('click', function(){\n        _this.upperZoomedTransform = {}\n        _this.linkPointData = []\n\n        _this.textRefreshFlag = true\n        _this.gestureRefreshFlag = true\n\n        _this.textXScaleZoom = _this.textXScale\n        _this.textYScaleZoom = _this.textYScale\n        _this.textNewZoomXScale = this.textXScale\n        _this.textNewZoomYScale = this.textYScale\n        _this.gestureXScaleZoom = _this.gestureXScale\n        _this.gestureYScaleZoom = _this.gestureYScale\n        this.gestureNewZoomXScale = this.gestureXScale\n        this.gestureNewZoomYScale = this.gestureYScale\n\n\n        if (_this.textRefreshFlag) {\n            _this.textRefreshFlag = false\n            _this.upperContainer.call(_this.upperZoom.transform, d3.zoomIdentity)\n        }\n\n        if (_this.gestureRefreshFlag) {\n            _this.gestureRefreshFlag = false\n            _this.lowerContainer.call(_this.lowerZoom.transform, d3.zoomIdentity)\n        }\n\n        _this.drawCluster(wordPhraseData)\n        d3.selectAll('.linkPaths').remove()\n    })\n}\n\n\nDrawRelation.prototype.drawPhraseLegend = function () {\n    const _this = this\n    this.legendWidth = $('#relationColorLegend').width()\n    this.legendHeight = $('#relationColorLegend').height()\n\n    let legendSvg = d3.select('#relationColorLegend')\n        .append('svg')\n        .attr('width', this.legendWidth)\n        .attr('height', this.legendHeight)\n        .append('g')\n        .attr('transform', 'translate(' + 5 + ', ' + 0 + ')')\n        // .append('rect')\n        // .attr('width', this.legendWidth)\n        // .attr('height', this.legendHeight)\n        // .attr('color', 'blue')\n        // .style('opacity', 0.3)\n\n    // let phraseColorList = ['ADJ', 'NP', 'PP', 'VP', 'SVO']\n    let phraseColorList = ['NP', 'PP', 'VP', 'SVO']\n\n    let gestureTypeList = ['open', 'closed', 'others']\n\n    // text Legend\n    legendSvg.append('g')\n        .attr('class', 'textLegend')\n        .append('text')\n        .attr('class', 'legendText user-select')\n        .attr('x', 16)\n        .attr('y', 16)\n        .text('textType: ') \n        .style('font-size', '12px')\n        .style('font-family', \"'Avenir', Helvetica, Arial, sans-serif\")\n        .style('text-anchor', 'left')\n        .style('user-select', 'none')\n\n    legendSvg.append('g')\n        .attr('class', 'textLegend')\n        .selectAll('circle')\n        .data(phraseColorList)\n        .enter()\n        .append('circle')\n        .attr('cx', function(_, i) { return 50*i + 80 })\n        .attr('cy', 13)\n        .attr('r', 6)\n        .style('fill', function(d) { return globalConfig.PhraseColor[d] })\n        .style('stroke-width', '0px')\n        .on('click', function(d) {\n            if (_this.legendFilter.hasOwnProperty(globalConfig.PhraseMappingReverse[d])) {\n                delete _this.legendFilter[globalConfig.PhraseMappingReverse[d]]\n                d3.select(this).style('fill', 'white').style('stroke', 'black').style('stroke-width', '1px')\n            } else {\n                _this.legendFilter[globalConfig.PhraseMappingReverse[d]] = d\n                d3.select(this).style('fill', function(d) { return globalConfig.PhraseColor[d] }).style('stroke-width', '0px')\n            }\n            pipeService.emitLegendFilter()\n        })\n    \n    legendSvg.append('g')\n        .attr('class', 'textLegend')\n        .selectAll('text')\n        .data(phraseColorList)\n        .enter()\n        .append('text')\n        .attr('class', 'legendText user-select')\n        .attr('x', function(_, i) { return 50*i + 100})\n        .attr('y', 17)\n        .text(function(d) { return d }) \n        .style('font-size', '12px')\n        .style('text-anchor', 'middle')\n        .style('user-select', 'none')\n\n    // gesture Legend\n    legendSvg.append('g')\n        .attr('class', 'gestureLegend')\n        .append('text')\n        .attr('class', 'legendText user-select')\n        .attr('x', 16)\n        .attr('y', 37)\n        .text('gestureType: ') \n        .style('font-size', '12px')\n        .style('font-family', \"'Avenir', Helvetica, Arial, sans-serif\")\n        .style('text-anchor', 'left')\n        .style('user-select', 'none')\n\n    legendSvg.append('g')\n        .attr('class', 'gestureLegend')\n        .selectAll('circle')\n        .data(gestureTypeList)\n        .enter()\n        .append('circle')\n        .attr('cx', function(_, i) { return 65*i + 110 })\n        .attr('cy', 33)\n        .attr('r', 6)\n        .style('fill', function(d) { return globalConfig.gestureTypeColor[d] })\n        .style('stroke-width', '0px')\n        .on('click', function(d) {\n            if (_this.legendFilter.hasOwnProperty(d)) {\n                delete _this.legendFilter[d]\n                d3.select(this).style('fill', 'white').style('stroke', 'black').style('stroke-width', '1px')\n            } else {\n                _this.legendFilter[d] = 1\n                d3.select(this).style('fill', function(d) { return globalConfig.gestureTypeColor[d] }).style('stroke-width', '0px')\n            }\n            pipeService.emitLegendFilter()\n        })\n\n\n    legendSvg.append('g')\n        .attr('class', 'textLegend')\n        .selectAll('text')\n        .data(gestureTypeList)\n        .enter()\n        .append('text')\n        .attr('class', 'legendText user-select')\n        .attr('x', function(_, i) { return 65*i+135})\n        .attr('y', 37)\n        .text(function(d) { return d }) \n        .style('font-size', '12px')\n        .style('text-anchor', 'middle')\n        .style('user-select', 'none')\n}\n\nDrawRelation.prototype.getWordPhraseData = function (wordPhrase) {\n    let wordPhraseData = []\n    let maxTimeRangeNum = 0\n    let phraseIdx = 0\n\n    for (let phraseType in wordPhrase) {\n        let phraseTypeItem = wordPhrase[phraseType]\n        let phraseTmp = {}\n        if (phraseType == 'entities') continue\n\n        if (phraseType != 'subject_verb_object') {\n            for (let i=0; i<phraseTypeItem.length; i++) {\n                let phraseText = phraseTypeItem[i]['text'].toLowerCase()\n                // if (phraseTypeItem[i]['start_time'] == undefined || phraseTypeItem[i]['end_time'] == undefined) {\n                //     continue\n                // }\n                if (phraseText in phraseTmp) {\n                    phraseTmp[phraseText]['timeRange'].push([parseFloat(phraseTypeItem[i]['start_time']), parseFloat(phraseTypeItem[i]['end_time'])])\n                } else {\n                    phraseTmp[phraseText] = {\n                        'timeRange': [[parseFloat(phraseTypeItem[i]['start_time']), parseFloat(phraseTypeItem[i]['end_time'])]],\n                        'vector': phraseTypeItem[i]['vector']\n                    }\n                }\n            }\n        }\n        else {\n            for (let i=0; i<phraseTypeItem.length; i++) {\n                let phraseText = `${phraseTypeItem[i][0]['text']} ${phraseTypeItem[i][1]['text']} ${phraseTypeItem[i][2]['text']}`.toLowerCase()\n                // if (phraseTypeItem[i][0]['start_time'] == undefined || phraseTypeItem[i][0]['end_time'] == undefined) {\n                //     continue\n                // }\n                let timeRange = [parseFloat(phraseTypeItem[i][0]['start_time']), parseFloat(phraseTypeItem[i][0]['end_time'])]\n                let vector = []\n                for (let j=0; j<phraseTypeItem[i][0]['vector'].length; j++) {\n                    vector.push((phraseTypeItem[i][0]['vector'][j]+phraseTypeItem[i][1]['vector'][j]+phraseTypeItem[i][2]['vector'][j])/3)\n                }\n\n                if (phraseText in phraseTmp) {\n                    phraseTmp[phraseText]['timeRange'].push(timeRange)\n                } else {\n                    phraseTmp[phraseText] = {\n                        'timeRange': [timeRange],\n                        'vector': vector\n                    }\n                }\n            }\n        }\n        \n        for (let wordText in phraseTmp) {\n            let phraseTmpItem = phraseTmp[wordText]\n\n            // console.log('phraseIdx: ', phraseIdx)\n            // console.log('wordText: ', wordText)\n            \n            let curTimeRange = []\n            for (let i=0; i<phraseTmpItem['timeRange'].length; i++) {\n                if (phraseTmpItem['timeRange'][i][0] == undefined || phraseTmpItem['timeRange'][i][1] == undefined \n                || isNaN(phraseTmpItem['timeRange'][i][0]) || isNaN(phraseTmpItem['timeRange'][i][1])) {\n                    continue\n                }\n                curTimeRange.push(phraseTmpItem['timeRange'][i])\n            }\n            if (curTimeRange.length == 0) {\n                continue\n            }\n\n            // console.log('curTimeRange: ', curTimeRange)\n\n            wordPhraseData.push({\n                'phraseIdx': phraseIdx,\n                'vector': phraseTmpItem['vector'],\n                'timeRange': curTimeRange,\n                'type': phraseType,\n                'text': wordText\n            })\n            phraseIdx += 1\n            if (curTimeRange.length > maxTimeRangeNum) maxTimeRangeNum = curTimeRange.length\n\n            // wordPhraseData.push({\n            //     'phraseIdx': phraseIdx,\n            //     'vector': phraseTmpItem['vector'],\n            //     'timeRange': phraseTmpItem['timeRange'],\n            //     'type': phraseType,\n            //     'text': wordText\n            // })\n            // phraseIdx += 1\n            // if (phraseTmpItem['timeRange'].length > maxTimeRangeNum) maxTimeRangeNum = phraseTmpItem['timeRange'].length\n        }\n    }\n    // this.numMax = maxTimeRangeNum\n    return {\n        'wordPhraseData': wordPhraseData,\n        'numMax': maxTimeRangeNum\n    }\n}\n\nDrawRelation.prototype.calculatePosition = function (wordPhraseData) {\n    // calculate text position - T-SNE\n    let textPositionInfo = this.calculateTextPosition(wordPhraseData)\n\n    // calculate gesture position - T-SNE\n    let distanceChangeInfo = this.calculateAverageJoint(wordPhraseData)\n    let gesturePositionInfo = this.calculateGesturePosition(wordPhraseData)\n\n    let positionInfo = {\n        'textPositionInfo': textPositionInfo,\n        'gesturePositionInfo': gesturePositionInfo,\n        'distanceChangeInfo': distanceChangeInfo\n    }\n    return positionInfo\n}\n\nDrawRelation.prototype.calculateTextPosition = function (wordPhraseData) {\n\n    let opt = {}\n    opt.epsilon = 10; // epsilon is learning rate (10 = default)\n    opt.perplexity = 30; // roughly how many neighbors each point influences (30 = default)\n    opt.dim = 2; // dimensionality of the embedding (2 = default)\n\n    let tsne = new tsnejs.tSNE(opt); // create a tSNE instance\n\n    // initialize data. Here we have 3 points and some example pairwise dissimilarities\n    let X = []\n    for (let i=0; i<wordPhraseData.length; i++) {\n        X.push(wordPhraseData[i]['vector'])\n    }\n\n    tsne.initDataRaw(X)\n\n    for(let k = 0; k < 500; k++) {\n        tsne.step(); // every time you call this, solution gets better\n    }\n\n    let Y = tsne.getSolution(); // Y is an array of 2-D points that you can plot\n\n    for (let i=0; i<wordPhraseData.length; i++) {\n        wordPhraseData[i]['textPosition'] = Y[i]\n    }\n\n    // get textPosition domain\n    let xMax = -Infinity\n    let xMin = Infinity\n    let yMax = -Infinity\n    let yMin = Infinity\n    let rMax = -Infinity\n    let rMin = Infinity\n\n    for (let i=0; i<wordPhraseData.length; i++) {\n        let position = wordPhraseData[i]['textPosition']\n        if (position[0] > xMax) xMax = position[0]\n        if (position[0] < xMin) xMin = position[0]\n        if (position[1] > yMax) yMax = position[1]\n        if (position[1] < yMin) yMin = position[1]\n\n        let timeRangeNum = wordPhraseData[i]['timeRange'].length\n        if (timeRangeNum > rMax) rMax = timeRangeNum\n        if (timeRangeNum < rMin) rMin = timeRangeNum\n    }\n\n    let positionInfo = {\n        'xDomain': [xMin, xMax],\n        'yDomain': [yMin, yMax],\n        'rDomain': [rMin, rMax]\n    }\n\n    // this.textXScale = d3.scaleLinear()\n    //     .domain(positionInfo['xDomain'])\n    //     .range([0, this.upperWidth]) \n\n    // this.textYScale = d3.scaleLinear()\n    //     .domain(positionInfo['yDomain'])\n    //     .range([this.upperHeight, 0])\n\n    // let radius = 15\n    // // this.textRScale = d3.scaleLog()\n    // this.textRScale = d3.scaleLinear()\n    //         .domain([rMin, rMax])\n    //         .range([4, radius])   \n\n    // // zoom\n    // this.textXScaleZoom = this.textXScale\n    // this.textYScaleZoom = this.textYScale\n\n    return positionInfo\n}\n\nDrawRelation.prototype.calculateAverageJoint = function (wordPhraseData) {\n    // wordPhraseData\n    // this.gestureSpaceData     // this.textData\n    let maxChange = -Infinity\n    let minChange = Infinity\n\n    for (let i=0; i<wordPhraseData.length; i++) {\n        // console.log('wordPhraseData, i: ', i)\n        // console.log('wordPhraseData[i], ', wordPhraseData[i])\n        let phraseItem = wordPhraseData[i]\n\n        let timeRange = phraseItem['timeRange']\n        \n        let phraseJointData = []\n        let timeRangeJointData = []\n\n        let curTimeRange = []\n        for (let j=0; j<timeRange.length; j++) {\n            let startTime = timeRange[j][0]\n            let endTime = timeRange[j][1]\n            let startFrame = Math.max(0, Math.floor(startTime * this.fps))\n            let endFrame = Math.min(this.totalFrameNum, Math.ceil(endTime * this.fps))\n            let curGesture = this.gestureSpaceData.slice(startFrame, endFrame)\n            phraseJointData = phraseJointData.concat(curGesture)\n            // timeRangeJointData.push(curGesture.filter((d) => d.length!=0))\n            let tmpCurGesture = curGesture.filter((d) => d.length!=0)\n            if (tmpCurGesture.length == 0) {\n                continue\n            } else {\n                curTimeRange.push([startTime, endTime])\n                timeRangeJointData.push(tmpCurGesture)\n            }\n        }\n\n        phraseItem['timeRange'] = curTimeRange\n\n        let filterJointData = phraseJointData.filter((d) => d.length!=0)\n\n        // console.log('filterJointData: ', filterJointData)\n        // console.log('timeRangeJointData: ', timeRangeJointData)\n        phraseItem['jointData'] = filterJointData\n        phraseItem['timeRangeJointData'] = timeRangeJointData\n\n        // calculate averageJoint\n        if (filterJointData.length === 0) {\n            phraseItem['averageJoint'] = []\n        } else {\n            // calculate average joint\n            let averageJoint = []\n            for (let k=0; k<8; k++) {\n                let jointX = 0\n                let jointY = 0\n                for (let m=0; m<filterJointData.length; m++) {\n                    let jointData = filterJointData[m]\n                    jointX += jointData[3*k+0]\n                    jointY += jointData[3*k+1]\n                }\n                let averageJointX = jointX/filterJointData.length\n                let averageJointY = jointY/filterJointData.length\n                averageJoint.push([averageJointX, averageJointY])\n            }\n            phraseItem['averageJoint'] = averageJoint\n        }\n\n        // calculate timeRangeAverageJoint\n        phraseItem['timeRangeAverageJoint'] = []\n        phraseItem['timeRangeGestureType'] = []\n        for (let j=0; j<timeRangeJointData.length; j++) {\n            let curTimeRangeJointData = timeRangeJointData[j]\n            let curAverageJoint = []\n            for (let k=0; k<8; k++) {\n                let jointX = 0\n                let jointY = 0\n                for (let m=0; m<curTimeRangeJointData.length; m++) {\n                    let jointData = curTimeRangeJointData[m]\n                    jointX += jointData[3*k+0]\n                    jointY += jointData[3*k+1]\n                }\n                let averageJointX = jointX/curTimeRangeJointData.length\n                let averageJointY = jointY/curTimeRangeJointData.length\n                curAverageJoint.push([averageJointX, averageJointY])\n            }\n            phraseItem['timeRangeAverageJoint'].push(curAverageJoint)\n            phraseItem['timeRangeGestureType'].push(this.gestureType(curAverageJoint))\n        }\n\n        // calucalte variation\n    \n        phraseItem['gestureDistanceChange'] = []\n        for (let j=0; j<timeRangeJointData.length; j++) {\n            let curTimeRangeJointData = timeRangeJointData[j]\n            let curAverageJoint = phraseItem['timeRangeAverageJoint'][j]\n            let curAverageJointData = []\n            for (let k=0; k<curAverageJoint.length; k++) {\n                curAverageJointData = curAverageJointData.concat([curAverageJoint[k][0], curAverageJoint[k][1], 1])\n            }\n            // console.log('curAverageJointData: ', curAverageJointData)\n            let curDistanceChange = []\n            for (let k=0; k<curTimeRangeJointData.length; k++) {\n                // let change = this.gestureDistance(curTimeRangeJointData[k], curTimeRangeJointData[k+1])\n                let change = this.gestureDistance(curAverageJointData, curTimeRangeJointData[k])\n                curDistanceChange.push(change)\n                if (change > maxChange) maxChange = change\n                if (change < minChange) minChange = change\n            }\n            phraseItem['gestureDistanceChange'].push(curDistanceChange)\n        }\n    }\n\n\n    // this.distanceChangeScale = d3.scaleLinear()\n    //     .domain([minChange, maxChange])\n    //     .range([0, 8])\n\n    // console.log('this.distanceChangeScale.domain(): ', this.distanceChangeScale.domain())\n    return {\n        'distanceChangeDomain': [minChange, maxChange]\n    }\n}\n\nDrawRelation.prototype.calculateGesturePosition = function (wordPhraseData) {\n    // console.log('calculateGesturePosition wordPhraseData: ', wordPhraseData)\n    let opt = {}\n    opt.epsilon = 10; // epsilon is learning rate (10 = default)\n    opt.perplexity = 30; // roughly how many neighbors each point influences (30 = default)\n    opt.dim = 2; // dimensionality of the embedding (2 = default)\n\n    let tsne = new tsnejs.tSNE(opt); // create a tSNE instance\n\n    // initialize data. Here we have 3 points and some example pairwise dissimilarities\n    let mapping_idx_2_phraseIdx = {}\n    let mapping_idx = 0\n\n    let X = []\n    for (let i=0; i<wordPhraseData.length; i++) {\n        wordPhraseData[i]['gesturePositionList'] = []\n        let timeRangeAverageJoint = wordPhraseData[i]['timeRangeAverageJoint']\n        // console.log('wordPhraseData, i: ', i)\n        // console.log('timeRangeAverageJoint: ', timeRangeAverageJoint)\n        for (let j=0; j<timeRangeAverageJoint.length; j++) {\n            let tmpVector = []\n            let curAverageJoint = timeRangeAverageJoint[j]\n            for (let k=0; k<curAverageJoint.length; k++) {\n                tmpVector = tmpVector.concat(curAverageJoint[k])\n            }\n            // console.log('wordPhraseData, tmpVector', tmpVector)\n            X.push(tmpVector)\n            mapping_idx_2_phraseIdx[mapping_idx] = i\n            mapping_idx += 1\n        }\n    }\n\n    // console.log('X: ', X)\n\n    tsne.initDataRaw(X)\n\n    for(let k = 0; k < 500; k++) {\n        tsne.step(); // every time you call this, solution gets better\n    }\n\n    let Y = tsne.getSolution(); // Y is an array of 2-D points that you can plot\n\n    // console.log('Y: ', Y)\n\n    for (let i=0; i<X.length; i++) {\n        let phraseIdx = mapping_idx_2_phraseIdx[i]\n        wordPhraseData[phraseIdx]['gesturePositionList'].push(Y[i])\n    }\n\n    // gesture position info\n    let xMax = -Infinity\n    let xMin = Infinity\n    let yMax = -Infinity\n    let yMin = Infinity\n    let rMax = -Infinity\n    let rMin = Infinity\n\n    for (let i=0; i<Y.length; i++) {\n        let position = Y[i]\n        if (position[0] > xMax) xMax = position[0]\n        if (position[0] < xMin) xMin = position[0]\n        if (position[1] > yMax) yMax = position[1]\n        if (position[1] < yMin) yMin = position[1]\n\n        let timeRangeNum = wordPhraseData[mapping_idx_2_phraseIdx[i]]['timeRange'].length\n        if (timeRangeNum > rMax) rMax = timeRangeNum\n        if (timeRangeNum < rMin) rMin = timeRangeNum\n    }\n\n    let positionInfo = {\n        'xDomain': [xMin, xMax],\n        'yDomain': [yMin, yMax],\n        'rDomain': [rMin, rMax]\n    }\n\n    // this.gestureXScale = d3.scaleLinear()\n    //     .domain(positionInfo['xDomain'])\n    //     .range([0, this.lowerWidth]) \n\n    // this.gestureYScale = d3.scaleLinear()\n    //     .domain(positionInfo['yDomain'])\n    //     .range([this.lowerHeight, 0])\n\n    // let radius = 16\n    // this.gestureSpaceScale = d3.scaleLinear()\n    //     .domain([0, 1])\n    //     .range([0, 2*radius])\n\n    // // zoom\n    // this.gestureXScaleZoom = this.gestureXScale\n    // this.gestureYScaleZoom = this.gestureYScale\n\n    return positionInfo\n}\n\nDrawRelation.prototype.drawCluster = function (wordPhraseData) {\n    let clusterPhraseData = []\n    let totalTime = this.totalFrameNum/this.fps\n    let timeStart = totalTime*this.timeFilter[0]\n    let timeEnd = totalTime*this.timeFilter[1]\n    let numStart = this.numFilter[0]\n    let numEnd = this.numFilter[1]\n    \n    // console.log('wordPhraseData: ', wordPhraseData)\n    for (let i=0; i<wordPhraseData.length; i++) {\n        // console.log('wordPhraseData[i]: ', i, wordPhraseData[i])\n        if (wordPhraseData[i]['timeRange'].length == 0)\n            continue\n        let phraseTimeStart = wordPhraseData[i]['timeRange'][0][0]\n        let phraseTimeEnd = wordPhraseData[i]['timeRange'][0][1]\n        let phraseNum = wordPhraseData[i]['timeRange'].length\n        let phraseType = wordPhraseData[i]['type']\n\n        if (timeStart<= phraseTimeStart && \n            phraseTimeEnd <= timeEnd && \n            numStart<= phraseNum && \n            phraseNum<= numEnd && \n            this.legendFilter.hasOwnProperty(phraseType)) {\n                clusterPhraseData.push(wordPhraseData[i])\n            } \n    }\n    // console.log('clusterPhraseData: ', clusterPhraseData)\n    this.drawTextCluster(clusterPhraseData)\n    this.drawGestureCluster(clusterPhraseData)\n\n    let lassoData = {\n        'circles': this.svg.selectAll('.lasso-circles'),\n    }\n    d3.selectAll('g.lasso').remove()\n    this.drawLasso(lassoData)\n\n}\n\nDrawRelation.prototype.drawTextCluster = function (clusterPhraseData) {\n    // draw projection   \n    const _this = this \n    // console.log('_this.upperZoomedTransform: ', _this.upperZoomedTransform)\n    _this.upperContainer.selectAll('g').remove()\n\n    let pointContainer = _this.upperContainer.append('g')\n\n    let textPosition = clusterPhraseData.map((d) => [_this.textXScaleZoom(d['textPosition'][0]), _this.textYScaleZoom(d['textPosition'][1])])\n    // console.log('textPosition: ', textPosition)\n\n    let displayThreshold = 2000\n    let voronoi = d3.voronoi().extent([[0, 0], [_this.upperWidth, _this.upperHeight]])\n\n    let cells = voronoi.polygons(textPosition)\n    \n    // let cellPath = pointContainer.append('g').selectAll('path')\n    // cellPath.data(cells).enter().append('path')\n    //     .attr('stroke','#ccc')\n    //     .style('fill', 'none')\n    //     .style('vector-effect', 'non-scaling-stroke')\n    //     .attr('d', (d) => 'M' + d.join('L') + 'Z')\n\n    let points = pointContainer.selectAll('g')\n        .data(clusterPhraseData)\n        .enter()\n        .append('g')\n        .attr('transform', (d) => 'translate(' + _this.textXScaleZoom(d['textPosition'][0]) + ', ' + _this.textYScaleZoom(d['textPosition'][1]) + ')')\n    \n    points.append('circle')\n        .attr('class', (d) => 'lasso-circles text-circles text-circle-'+d['phraseIdx'].toString())\n        .attr('r', (d => _this.textRScale(d['timeRange'].length)))\n        .style('fill', (d) => globalConfig.PhraseColor[globalConfig.PhraseMapping[d['type']]])\n        .on('click', function(d) {\n            // console.log('text circle: ', d['text'])\n            let timeRange = d['timeRange'][0]\n            let startFrame = timeRange[0]*_this.fps\n            let endFrame = timeRange[1]*_this.fps\n            let frameSelection = [startFrame, endFrame]\n            pipeService.emitUpdateTimeRange(frameSelection)\n            pipeService.emitHighlightText(frameSelection)\n        })\n\n\n    points.append('text')\n        .attr('class', (d) => 'circle-texts circle-text-'+d['phraseIdx'].toString())\n        .each(function(d, i) {\n            // compute the scale threshold for this element. i.e. how big does the scale need to be before I should display\n            // console.log('cells: ', cells)\n            // console.log('cells[i]: ', i, cells[i])\n            if (cells[i] == undefined) return\n            d.scaleThreshold = Math.sqrt(displayThreshold / d3.polygonArea(cells[i]))\n            d.opacityScale = d3.scaleLinear()\n                    .domain([d.scaleThreshold, d.scaleThreshold * 1.3])\n                    .range([0, 1])\n\n        })\n        .attr('opacity', function(d) {\n            if (d.scaleThreshold < 1) {\n                return 1\n            }\n            return 0\n        })\n        .attr('x', (d => _this.textRScale(d['timeRange'].length)))\n        .text((d) => d['text'])\n        .style('font-size', '13px')\n        .style('pointer-events', 'none')\n\n    if (!$.isEmptyObject(_this.upperZoomedTransform)) {\n        pointContainer.attr('transform', 'translate(' + _this.upperZoomedTransform.x + ',' + _this.upperZoomedTransform.y + ')scale(' + _this.upperZoomedTransform.k + ')')\n        pointContainer.selectAll('circle').attr('transform', 'scale(' + (1/_this.upperZoomedTransform.k) + ')')\n        pointContainer.selectAll('text')\n            .attr('transform', 'scale(' + (1/_this.upperZoomedTransform.k) + ')')\n            .attr('opacity', function(d) {\n                if (_this.upperZoomedTransform.k > d.scaleThreshold) {\n                    return d.opacityScale(_this.upperZoomedTransform.k)\n                }\n                return 0\n            })\n    }\n\n    \n    _this.upperZoom = d3.zoom()\n        .scaleExtent([0.5, 40])\n        .extent([[0, 0], [this.upperWidth, this.upperHeight]])\n        .on('zoom', upperZoomed)\n\n    this.upperContainer\n        .call(_this.upperZoom)\n\n    function upperZoomed () {\n\n        // let new_xScale = d3.event.transform.rescaleX(_this.textXScale)\n        // let new_yScale = d3.event.transform.rescaleY(_this.textYScale)\n\n        // _this.textXScaleZoom = new_xScale\n        // _this.textYScaleZoom = new_yScale\n        \n        _this.textNewZoomXScale = d3.event.transform.rescaleX(_this.textXScale)\n        _this.textNewZoomYScale = d3.event.transform.rescaleY(_this.textYScale)\n\n        // points.data(clusterPhraseData)\n        //     .attr('transform', (d) => 'translate(' + new_xScale(d['textPosition'][0]) + ', ' + new_yScale(d['textPosition'][1]) + ')')\n        let transform = d3.event.transform\n        _this.upperZoomedTransform = transform\n        // console.log('in upperZoomed _this.upperZoomedTransform: ', _this.upperZoomedTransform)\n\n        pointContainer.attr('transform', 'translate(' + transform.x + ',' + transform.y + ')scale(' + transform.k + ')')\n\n        pointContainer.selectAll('circle').attr('transform', 'scale(' + (1/transform.k) + ')')\n\n        pointContainer.selectAll('text')\n            .attr('transform', 'scale(' + (1/transform.k) + ')')\n            .attr('opacity', function(d) {\n                if (transform.k > d.scaleThreshold) {\n                    return d.opacityScale(transform.k)\n                }\n                return 0\n            })\n\n        _this.drawLinks(_this.linkPointData)\n    }\n}\n\nDrawRelation.prototype.drawGestureCluster = function (clusterPhraseData) {\n    // draw projection   \n    const _this = this \n    _this.lowerContainer.selectAll('g').remove()\n    let pointContainer = _this.lowerContainer.selectAll('g')\n\n    _this.lowerContainer.on('click' , function () {\n        d3.select('#my_custom_menu')\n            .style('display', 'none')\n    })\n\n    // console.log('clusterPhraseData: ', clusterPhraseData)\n    let gestureClusterData = []\n    for (let i=0; i<clusterPhraseData.length; i++) {\n        for (let j=0; j<clusterPhraseData[i]['gesturePositionList'].length; j++) {\n            if (_this.legendFilter.hasOwnProperty(clusterPhraseData[i]['timeRangeGestureType'][j])) {\n                gestureClusterData.push({\n                    'gesturePosition': clusterPhraseData[i]['gesturePositionList'][j],\n                    'phraseIdx': clusterPhraseData[i]['phraseIdx'],\n                    'gestureIdx': j,\n                    'jointData': clusterPhraseData[i]['timeRangeJointData'][j],\n                    'textPosition': clusterPhraseData[i]['textPosition'],\n                    'gestureType': clusterPhraseData[i]['timeRangeGestureType'][j],\n                    'gestureChange': clusterPhraseData[i]['gestureDistanceChange'][j],\n                    'timeRange': clusterPhraseData[i]['timeRange'][j]\n                })\n            }\n        }\n    }\n\n    // console.log('gestureClusterData: ', gestureClusterData)\n\n    let points = pointContainer.data(gestureClusterData)\n        .enter()\n        .append('g')\n        .attr('class', 'gestureGlyph')\n        .attr('transform', (d) => 'translate(' + _this.gestureXScaleZoom(d['gesturePosition'][0]) + ', ' + _this.gestureYScaleZoom(d['gesturePosition'][1]) + ')')\n\n    points.each(drawGlyph)\n        \n    _this.lowerZoom = d3.zoom()\n        .scaleExtent([0.5, 40])\n        .extent([[0, 0], [this.lowerWidth, this.lowerHeight]])\n        .on('zoom', lowerZoomed)\n\n    this.lowerContainer\n        .call(_this.lowerZoom)\n\n    function lowerZoomed () {\n        // let new_xScale = d3.event.transform.rescaleX(_this.gestureXScale)\n        // let new_yScale = d3.event.transform.rescaleY(_this.gestureYScale)\n        // _this.gestureXScaleZoom = new_xScale\n        // _this.gestureYScaleZoom = new_yScale\n\n        _this.gestureNewZoomXScale = d3.event.transform.rescaleX(_this.gestureXScale)\n        _this.gestureNewZoomYScale = d3.event.transform.rescaleY(_this.gestureYScale)\n\n\n        points.data(gestureClusterData)\n            .attr('transform', (d) => 'translate(' + _this.gestureNewZoomXScale(d['gesturePosition'][0]) + ', ' +  _this.gestureNewZoomYScale(d['gesturePosition'][1]) + ')')\n\n        _this.drawLinks(_this.linkPointData)\n    }\n\n\n    function drawGlyph(glyphData) {\n        let glyphContainer = d3.select(this)\n\n        // console.log('glyphContainer.data(): ', glyphContainer.data())\n\n        // let averageJoint = glyphData['averageJoint']\n        let jointData = glyphData['jointData']\n        let radius = 16\n\n        if (jointData.length==0) return\n\n        glyphContainer\n            .append('circle')\n            .attr('class', `lasso-circles gesture-circles gesture-circle-${glyphData['phraseIdx']} gesture-circle-${glyphData['phraseIdx']}-${glyphData['gestureIdx']}` )\n            .attr('cx', 0)\n            .attr('cy', 0)\n            .attr('r', radius)\n            .style('fill', globalConfig.gestureTypeColor[glyphData['gestureType']])\n            .style('fill-opacity', 0.2)\n            .style('stroke', 'black')\n            .style('stroke-opacity', 0.1)\n            .on('click', function(d) {\n                let timeRange = d['timeRange']\n                let startFrame = timeRange[0]*_this.fps\n                let endFrame = timeRange[1]*_this.fps\n                let frameSelection = [startFrame, endFrame]\n                pipeService.emitUpdateTimeRange(frameSelection)\n                pipeService.emitHighlightText(frameSelection)\n            })\n            .on('contextmenu', function(d) {\n                d3.select('#my_custom_menu')\n                  .style('position', 'absolute')\n                  .style('left', (d3.event.pageX-10) + \"px\")\n                  .style('top', (d3.event.pageY-95) + \"px\")\n                  .style('display', 'block')\n                \n                _this.curGestureClusterData = d\n\n                d3.event.preventDefault()\n            })\n\n        \n        let gestureChangeTmp = glyphData['gestureChange']\n        let gestureChange = []\n        for (let i=0; i<gestureChangeTmp.length-1; i++) {\n            let interpolateValue = d3.interpolateNumber(gestureChangeTmp[i], gestureChangeTmp[i+1])\n            for (let j=0; j<1; j+=0.05) {\n                gestureChange.push(interpolateValue(j))\n            }\n        }\n\n        // console.log('gestureChange: ', gestureChange)\n        \n\n        // gestureChange\n        let angleScale = d3.scaleLinear().domain([0, gestureChange.length-1]).range([0, 2*Math.PI])\n        \n        // define the area\n        let area = d3.areaRadial()\n            .angle(function(d, i) { \n                return angleScale(i) \n            })\n            // .innerRadius()\n            .innerRadius(function(d) { return radius-0.5-_this.distanceChangeScale(d) })\n            .outerRadius(radius-0.5) \n            \n            // .curve(d3.curveMonotoneX)\n\n        // // define the line\n        // let valueline = d3.lineRadial()\n        //     .angle(function(d, i) { return angleScale(i); })\n        //     .radius(function(d) { return y(d.close); });\n\n        glyphContainer\n            .append('path')\n            .attr('class', 'gestureChange')\n            .data([gestureChange])\n            .attr('class', 'area')\n            .attr('d', area)\n            .style('fill', 'green')\n            .style('opacity', 0.8)\n\n        \n        let stickmanGraph = glyphContainer.append('g')\n            .attr('class', 'stickman-glyph')\n            .attr('transform', 'translate(' + (-radius) + ', ' + (-radius) + ')')\n       \n        // // console.log('jointData: ', jointData)\n        stickmanGraph.selectAll('.oneStickman')\n            .data(jointData)\n            .enter()\n            .append('g')\n            .attr('class', 'oneStickman')\n            .each(drawOneStickman)\n        \n        function drawOneStickman(oneStickmanData) {   \n            d3.select(this).append('g')\n                .attr('class', 'body-point-connection')\n                .selectAll('line')\n                .data(globalConfig.UPBODYPairs)\n                .enter()\n                .append('line')\n                .attr('x1', d => _this.gestureSpaceScale(oneStickmanData[d[0]*3+0]))\n                .attr('y1', d => _this.gestureSpaceScale(oneStickmanData[d[0]*3+1]))\n                .attr('x2', d => _this.gestureSpaceScale(oneStickmanData[d[1]*3+0]))\n                .attr('y2', d => _this.gestureSpaceScale(oneStickmanData[d[1]*3+1]))\n                .style('stroke', '#bdbdbd')\n                .style('stroke-width', 1.5) // original one is 4\n                .style('pointer-events', 'none')\n        }\n    }\n\n}\n\nDrawRelation.prototype.filterClusterWordIdxList = function (wordPhraseData, timeFilter, numFilter, legendFilter) {\n    let clusterWordIdxList = []\n    let totalTime = this.totalFrameNum/this.fps\n    let timeStart = totalTime*timeFilter[0]\n    let timeEnd = totalTime*timeFilter[1]\n    let numStart = numFilter[0]\n    let numEnd = numFilter[1]\n    \n    for (let i=0; i<wordPhraseData.length; i++) {\n        let phraseTimeStart = wordPhraseData[i]['timeRange'][0][0]\n        let phraseTimeEnd = wordPhraseData[i]['timeRange'][0][1]\n        let phraseNum = wordPhraseData[i]['timeRange'].length\n        let phraseType = wordPhraseData[i]['type']\n\n        if (timeStart<= phraseTimeStart && \n            phraseTimeEnd <= timeEnd && \n            numStart<= phraseNum && \n            phraseNum<= numEnd && \n            legendFilter.hasOwnProperty(phraseType)) {\n                clusterWordIdxList.push(wordPhraseData[i]['phraseIdx'])\n            } \n    }\n    return clusterWordIdxList\n}\n\nDrawRelation.prototype.drawLasso = function (lassoData) {\n    const _this = this\n    let circles = lassoData['circles']\n    // let rScale = lassoData['rScale']\n    // let radius = lassoData['radius']\n    // Lasso functions\n    let lasso_start = function() {\n        lasso.items()\n            // .attr('r', (d) => rScale(d[2])) // reset size\n            .classed('not_possible',true)\n            .classed('selected',false)\n\n        _this.linksContainer.selectAll('path').remove()\n    }\n\n    let lasso_draw = function() {\n        // Style the possible dots\n        lasso.possibleItems()\n            .classed('not_possible',false)\n            .classed('possible',true)\n\n        // Style the not possible dot\n        lasso.notPossibleItems()\n            .classed('not_possible',true)\n            .classed('possible',false)\n    }\n\n    let lasso_end = function() {\n\n        // Reset the color of all dots\n        lasso.items()\n            .classed('not_possible',false)\n            .classed('possible',false)\n\n        // Style the selected dots\n        lasso.selectedItems()\n            .classed('selected',true)\n            .style('stroke', 'red')\n            // .style('opacity', 0.2)\n            .style('stroke-opacity', 1)\n            .style('stroke-width', '1px')\n            // .style('fill', '#EC888C')\n            // .attr('r', (d) => rScale(d[2])*2)\n\n        // Reset the style of the not selected dots\n        lasso.notSelectedItems()\n            .filter('.text-circles')\n            .style('stroke-width', '0px')\n            // .style('fill', (d) => globalConfig.PhraseColor[globalConfig.PhraseMapping[d['type']]])\n\n        lasso.notSelectedItems()\n            .filter('.gesture-circles')\n            .style('stroke-opacity', 0.1)\n            .style('stroke', 'black')\n            // .style('fill', 'none')\n            // .style('fill', 'black')\n            // .attr('r', (d) => rScale(d[2]))\n        \n        d3.selectAll('.circle-texts')\n            .style('fill', 'black')\n            .style('font-weight', 300)\n            \n\n        // console.log('lasso.selectedItems(): ', lasso.selectedItems().data())\n        // console.log('lasso.selectedItems: ', lasso.selectedItems().filter('.text-circles').data())\n\n        let phraseIdxDict = {}\n        let linkPointData = []\n        let selectedLassoData = lasso.selectedItems().data()\n        // console.log('selectedLassoData: ', selectedLassoData)\n\n        for (let i=0; i<selectedLassoData.length; i++) {\n            // let pointIdx = selectedLassoData[i][3]\n            let phraseIdx = selectedLassoData[i]['phraseIdx']\n            if (!phraseIdxDict.hasOwnProperty(phraseIdx)) {\n                phraseIdxDict[phraseIdx] = 1\n                linkPointData.push(selectedLassoData[i])\n            } else {\n                phraseIdxDict[phraseIdx] += 1\n            }\n\n            d3.select(`.text-circle-${phraseIdx}`)\n                .style('stroke', 'red')\n                .style('stroke-width', '1px')\n\n            d3.select(`.circle-text-${phraseIdx}`)\n                // .style('fill', 'red')\n                .style('font-weight', '350')\n            \n            if (selectedLassoData[i].hasOwnProperty('gestureIdx')) {\n                d3.select(`.gesture-circle-${phraseIdx}-${selectedLassoData[i]['gestureIdx']}`)\n                .style('stroke', 'red')\n                .style('stroke-width', '1px')\n                .style('stroke-opacity', 1)\n                \n            } else {\n                d3.select(`.gesture-circle-${phraseIdx}`)\n                .style('stroke', 'red')\n                .style('stroke-width', '1px')\n                .style('stroke-opacity', 1)\n            }\n            \n        }\n\n        _this.linkPointData = linkPointData\n        _this.drawLinks(linkPointData)\n    }\n\n    let lasso = d3Lasso.lasso()\n            .closePathSelect(true)\n            .closePathDistance(100)\n            .items(circles)\n            .targetArea(this.svg)\n            .on('start',lasso_start)\n            .on('draw',lasso_draw)\n            .on('end',lasso_end)\n\n    this.svg.call(lasso)\n}\n\n\nDrawRelation.prototype.drawLinks = function (linkPointData) {\n    const _this = this\n    _this.linksContainer.selectAll('*').remove()\n    let sourceTargetData = []\n        for (let i=0; i<linkPointData.length; i++) {\n            let gesturePositionList = []\n            let gestureTypeList = []\n            if (linkPointData[i].hasOwnProperty('gesturePositionList')) {\n                gesturePositionList = linkPointData[i]['gesturePositionList']\n                gestureTypeList = linkPointData[i]['timeRangeGestureType']\n            } else {\n                gesturePositionList = [linkPointData[i]['gesturePosition']]\n                gestureTypeList = [linkPointData[i]['gestureType']]\n            }\n            \n            for (let j=0; j<gesturePositionList.length; j++) {\n                if (_this.legendFilter.hasOwnProperty(gestureTypeList[j])) {\n                    let source = {\n                        // x: _this.textXScaleZoom(linkPointData[i]['textPosition'][0]),\n                        // y: _this.textYScaleZoom(linkPointData[i]['textPosition'][1])\n                        x: _this.textNewZoomXScale(linkPointData[i]['textPosition'][0]),\n                        y: _this.textNewZoomYScale(linkPointData[i]['textPosition'][1])\n                        \n                    }\n                    let target = {\n                        // x: _this.gestureXScaleZoom(gesturePositionList[j][0]),\n                        // y: _this.gestureYScaleZoom(gesturePositionList[j][1]) + _this.upperHeight+_this.betweenHeight\n                        x: _this.gestureNewZoomXScale(gesturePositionList[j][0]),\n                        y: _this.gestureNewZoomYScale(gesturePositionList[j][1]) + _this.upperHeight+_this.betweenHeight\n                    }\n\n                    sourceTargetData.push({\n                        source: source,\n                        target: target\n                    })\n                }\n            }\n        }\n        \n    _this.linksContainer.selectAll('path')\n        .data(sourceTargetData)\n        .enter()\n        .append('path')\n        .attr('class', 'linkPaths')\n        .attr('fill', 'none')\n        .attr('stroke', '#6baed6')\n        .attr('stroke-width', '0.5px')\n        .attr('d', _this.linkVertical)\n\n}\n\n\nDrawRelation.prototype.gestureType = function (gesture) {\n    // [[x, y], [x, y], ...], 8\n    // ['open', 'closed', 'others']\n    let gestureType = ''\n\n    // left shoulder 5; right shoulder 2;\n    let leftShoulder = gesture[5]\n    let rightShoulder = gesture[2]\n\n    // left hand: 7; right hand: 4\n    let leftHand = gesture[7]\n    let rightHand = gesture[4]\n\n    // // left elbow: 6; right elbow: 3\n    // let leftElbow = gesture[6]\n    // let rightElbow = gesture[3]\n\n    // Euclidean distance\n    let handDistance = Math.hypot(leftHand[0]-rightHand[0], leftHand[1]-rightHand[1])\n    let shoulderDistance = Math.hypot(leftShoulder[0]-rightShoulder[0], leftShoulder[1]-rightShoulder[1])\n\n    if (handDistance > 1.3*shoulderDistance) {\n        gestureType = 'open'\n    } else if (handDistance < 0.7*shoulderDistance) {\n        gestureType = 'closed'\n    } else {\n        gestureType = 'others'\n    }\n\n    return gestureType\n}\n\nDrawRelation.prototype.gestureDistance = function (gestureA, gestureB) {\n    // [x,y,prob]*9\n    let distance = 0\n    for (let i=0; i<8; i++) {\n        distance += (Math.pow((gestureA[i*3+0]-gestureB[i*3+0]), 2)+Math.pow((gestureA[i*3+1]-gestureB[i*3+1]), 2) )\n    }\n    return distance\n}\n\nDrawRelation.prototype.updateBookmark = function () {\n    this.bookmarkContainer.selectAll('*').remove()\n    const _this = this\n\n    let rows = this.bookmarkContainer.selectAll('div')\n        .data(this.bookmarkData)\n        .enter()\n        .append('div')\n        .attr('class', (_, i) => 'bookmark-row-'+i)\n        .style('width', '330px')\n        .style('height', '80px')\n        // .style('background', '#F9E6E6')\n        .style('margin', '2px')\n        .style('border-bottom', 'dashed')\n        .style('border-width', '1px')\n\n    let columnData = ['gesture', 'annotation', 'action']\n\n    let columnWidth = {\n        'gesture': Math.round(0.4*330),\n        'annotation': Math.round(0.4*330),\n        'action': Math.round(0.2*330)\n    }\n\n    rows.selectAll('div')\n        .data(columnData)\n        .enter()\n        .append('div')\n        .attr('class', (d) => d)\n        .style('width', (d) => columnWidth[d]+'px')\n        .style('height', '80px')\n        .style('display', 'inline-block')\n        .style('position', 'relative')\n        .style('left', '0px')\n        .style('top', function(d) {\n            if (d == 'gesture') {\n                return '-6px'\n            } else if (d == 'annotation'){\n                return '-0px'\n            } else {\n                return '-30px'\n            }\n        })\n    \n    let gestureSvgHeight = 80\n    let gestureSvgWidth = columnWidth['gesture']\n    let gestureWidth = 60\n    let gestureHeight = 60\n    let gestureMargin = {\n        top: (gestureSvgHeight-gestureHeight)/2,\n        right: (gestureSvgWidth-gestureWidth)/2,\n        bottom: (gestureSvgHeight-gestureHeight)/2,\n        left: (gestureSvgWidth-gestureWidth)/2\n    }\n\n    let gestureSpaceScale = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, gestureWidth])\n\n    function drawGlyph(glyphData) {\n        let glyphContainer = d3.select(this).select('.gestureSvg')\n            .append('g')\n            .attr('transform', 'translate(' + (gestureMargin.left+gestureWidth/2) + ', ' + (gestureMargin.top+gestureHeight/2) + ')')\n\n        let jointData = glyphData['jointData']\n        let radius = gestureWidth/2\n\n        if (jointData.length==0) return\n\n        glyphContainer\n            .append('circle')\n            .attr('class', `lasso-circles gesture-circles gesture-circle-${glyphData['phraseIdx']} gesture-circle-${glyphData['phraseIdx']}-${glyphData['gestureIdx']}` )\n            .attr('cx', 0)\n            .attr('cy', 0)\n            .attr('r', radius)\n            .style('fill', globalConfig.gestureTypeColor[glyphData['gestureType']])\n            .style('fill-opacity', 0.1)\n            .style('stroke', 'black')\n            .style('stroke-opacity', 0.1)\n            .on('click', function() {\n                let timeRange = glyphData['timeRange']\n                let startFrame = timeRange[0]*_this.fps\n                let endFrame = timeRange[1]*_this.fps\n                let frameSelection = [startFrame, endFrame]\n                pipeService.emitUpdateTimeRange(frameSelection)\n                pipeService.emitHighlightText(frameSelection)\n            })\n        \n        let gestureChangeTmp = glyphData['gestureChange']\n        let gestureChange = []\n        for (let i=0; i<gestureChangeTmp.length-1; i++) {\n            let interpolateValue = d3.interpolateNumber(gestureChangeTmp[i], gestureChangeTmp[i+1])\n            for (let j=0; j<1; j+=0.05) {\n                gestureChange.push(interpolateValue(j))\n            }\n        }\n        \n        // gestureChange\n        let angleScale = d3.scaleLinear().domain([0, gestureChange.length-1]).range([0, 2*Math.PI])\n        \n        // define the area\n        let area = d3.areaRadial()\n            .angle(function(d, i) { \n                return angleScale(i) \n            })\n            // .innerRadius()\n            .innerRadius(function(d) { return radius-0.5-_this.distanceChangeScale(d) })\n            .outerRadius(radius-0.5) \n\n        glyphContainer\n            .append('path')\n            .attr('class', 'gestureChange')\n            .data([gestureChange])\n            .attr('class', 'area')\n            .attr('d', area)\n            .style('fill', 'green')\n            // .style('opacity', 0.2)\n\n        \n        let stickmanGraph = glyphContainer.append('g')\n            .attr('class', 'stickman-glyph')\n            .attr('transform', 'translate(' + (-radius) + ', ' + (-radius) + ')')\n       \n        // // console.log('jointData: ', jointData)\n        stickmanGraph.selectAll('.oneStickman')\n            .data(jointData)\n            .enter()\n            .append('g')\n            .attr('class', 'oneStickman')\n            .each(drawOneStickman)\n        \n        function drawOneStickman(oneStickmanData) {   \n            d3.select(this).append('g')\n                .attr('class', 'body-point-connection')\n                .selectAll('line')\n                .data(globalConfig.UPBODYPairs)\n                .enter()\n                .append('line')\n                .attr('x1', d => gestureSpaceScale(oneStickmanData[d[0]*3+0]))\n                .attr('y1', d => gestureSpaceScale(oneStickmanData[d[0]*3+1]))\n                .attr('x2', d => gestureSpaceScale(oneStickmanData[d[1]*3+0]))\n                .attr('y2', d => gestureSpaceScale(oneStickmanData[d[1]*3+1]))\n                .style('stroke', '#bdbdbd')\n                .style('stroke-width', 1.5) // original one is 4\n                .style('pointer-events', 'none')\n        }\n    }\n\n    // gesture\n    rows.selectAll('div.gesture')\n        .append('svg')\n        .attr('class', 'gestureSvg')\n        .attr('width', gestureSvgWidth)\n        .attr('height', gestureSvgHeight)\n        // .append('rect')\n        // .attr('x', 0)\n        // .attr('y',0)\n        // .attr('width', 100)\n        // .attr('height', 70)\n        // .style('fill', 'red')\n\n    rows.each(drawGlyph)\n\n    // annotation\n    rows.selectAll('div.annotation')\n        .append('div')\n        .style('position', 'relative')\n        .style('top', '15px')\n        .append('textarea')\n        .attr('x', '10px')\n        .attr('y', '10px')\n        .style('width', (columnWidth['annotation']-20)+'px')\n        .style('height', '50px')\n        .style('font-size', '12px')\n        // .text(function (d) {\n        //     console.log('text: ', d)\n        //     return d\n        // })\n\n    rows.each(function(gestureData) {\n        d3.select(this).select('textarea').text(gestureData['gestureType'])\n    })\n\n\n    // delete\n    rows.selectAll('div.action')\n        .append('div')\n        .style('position', 'relative')\n        .style('top', '25px')\n        .html('<button><span class=\"fa fa-trash\"></span></button>')\n\n    rows.each(function(gestureData) {\n        d3.select(this).select('button')\n            .on('click', function() {\n                for (let i=0; i<_this.bookmarkData.length; i++) {\n                    if (_this.bookmarkData[i]['gestureIdx'] == gestureData['gestureIdx']) {\n                        _this.bookmarkData.splice(i, 1)\n                    }\n                }\n                _this.updateBookmark()\n            })\n    })\n}\n\nexport default DrawRelation\n","// /* global d3 $ */\nimport DrawRelation from './drawRelation.js'\nimport VueSlider from 'vue-slider-component'\nimport 'vue-slider-component/theme/default.css'\nimport pipeService from '../../service/pipeService.js'\n\n\nexport default {\n    name: 'DrawRelation',\n    components: {\n        VueSlider\n    },\n    props: {\n        videoId: String,\n        videoData: Object\n    },\n    data() {\n        return {\n            timeMax: 1,\n            timeFilter: [0, 1],\n            timeMarks: [0, 0.5, 1],\n            timeData: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1],\n            numMax: 10,\n            numFilter: [1, 10],\n            numMarks: [1, 5, 10],\n            containerId: 'relationContainer',\n        }\n    },\n    watch: {\n        videoData: function (videoData) {\n            this.drawRelation.layout(videoData)\n            this.numMax = this.drawRelation.numMax\n            // this.numFilter = [1, this.drawRelation.numMax+1]\n        },\n        timeFilter: function (timeFilter) {\n            console.log('timeFilter: ', timeFilter)\n            pipeService.emitTimeFilter(timeFilter)\n        },\n        numFilter: function (numFilter) {\n            console.log('numFilter: ', numFilter)\n            pipeService.emitNumFilter(numFilter)\n        }\n    },\n    mounted: function () {\n        this.drawRelation = new DrawRelation(this.containerId)\n        \n        // pipeService.onTimeFilter((timeFilter) => {\n        //     this.timeFilter = timeFilter\n        // })\n\n        // pipeService.onNumFilter((numFilter) => {\n        //     this.numFilter = numFilter\n        //     this.numMax = this.drawRelation.numMax\n        // })\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./RelationView.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./RelationView.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelationView.html?vue&type=template&id=dc905204&\"\nimport script from \"./RelationView.js?vue&type=script&lang=js&\"\nexport * from \"./RelationView.js?vue&type=script&lang=js&\"\nimport style0 from \"./RelationView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" style=\"width: 1400px\">\n      <nav class=\"navbar sticky-top navbar-dark bg-dark\" style=\"padding-top: 1px; padding-bottom: 1px; margin-bottom: 5px;\">\n          <div style=\"margin-top:5px; margin-left: 15px;\">\n              <span style=\"color:white; font-size:1.25rem; font-weight:500; user-select: none\">GestureLens: Visual Analysis of Gesture in Presentation Videos</span>\n          </div>\n      </nav>\n      <div class=\"container-fluid\" style=\"padding-left: 5px; padding-right: 5px\">\n          <div class=\"row\" style=\"margin-left: 10px; margin-right: 10px\">\n              <div class=\"col-3 content\" style=\"padding-left: 3px; padding-right: 3px\">\n                <RelationView :videoId=\"videoId\" :videoData=\"videoData\"></RelationView>\n              </div>\n              <div class=\"col-6 content\" style=\"padding-left: 3px; padding-right: 3px\">\n                <MatrixView :videoId=\"videoId\" :videoData=\"videoData\"></MatrixView>             \n              </div>\n              <div class=\"col-3 content\" style=\"padding-left: 3px; padding-right: 3px\">\n                <VideoView :videoList=\"videoList\" :videoId=\"videoId\" :videoData=\"videoData\"></VideoView>\n                <DynamicView :videoId=\"videoId\" :videoData=\"videoData\"></DynamicView>\n              </div>\n          </div>\n      </div>          \n  </div>\n</template>\n\n<script>\n/* global d3 */\n// import dataService from './service/dataService.js'\nimport pipeService from './service/pipeService.js'\n\nimport VideoView from './components/VideoView/VideoView.vue'\nimport MatrixView from './components/MatrixView/MatrixView.vue'\nimport DynamicView from './components/DynamicView/DynamicView.vue'\nimport RelationView from './components/RelationView/RelationView.vue'\n\nexport default {\n  name: 'app',\n  components: {\n    VideoView,\n    MatrixView,\n    DynamicView,\n    RelationView\n  },\n  data() {\n    return {\n        videoList: [],\n        videoId: '',\n        videoData: {},\n        startFrame: 0,\n        endFrame: 0,\n        clusterNum: 10\n    }\n  },\n  watch: {\n  },\n  mounted: function () {\n    // console.log('d3: ', d3) /* eslint-disable-line */\n    // console.log('$: ', $) /* eslint-disable-line */\n    // console.log('_', _.partition([1, 2, 3, 4], n => n % 2)) /* eslint-disable-line */\n\n    this.$nextTick(() => {\n      pipeService.onSelectVideo((selectedVideo) => {\n          this.videoId = selectedVideo\n          // dataService.visionData(this.videoId, visionData => {\n          //   this.videoData = visionData['data']\n          //   // console.log('this.videoData: ', Object.keys(this.videoData));\n          // })\n          let dataPath = `/data/${selectedVideo}.json`\n          console.log('dataPath: ', dataPath)\n          d3.json(dataPath).then((visionData) => {\n            this.videoData = visionData\n          });\n      })\n    })\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width: 100%;\n  margin: 0 auto;\n}\n\n.container {\n  width: 100%;\n  padding: 5px 5px 5px 5px;\n}\n\n.content {\n  padding: 2px 2px 2px 2px;\n}\n\nfooter {\n  margin-left: 5px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2e64947d&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n// import store from './service/store.js'\n\nimport ToggleButton from 'vue-js-toggle-button'\nVue.use(ToggleButton)\n\nimport 'bootstrap'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'video.js/dist/video-js.min.css'\n// require('../node_modules/@fortawesome/fontawesome-free/css/all.css')\n// import '@fortawesome/fontawesome-free/css/all.css'\nimport 'font-awesome/css/font-awesome.css'\n\nimport _ from 'lodash'\nwindow._ = _\n\nimport * as d3 from 'd3'\nwindow.d3 = d3\n\nimport $ from 'jquery'\nwindow.$ = $\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicView.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicView.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoView.vue?vue&type=style&index=0&id=16f0a882&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoView.vue?vue&type=style&index=0&id=16f0a882&scoped=true&lang=css&\""],"sourceRoot":""}